alter table tbl_items
add  ArticleNo varchar(50)
go

CREATE TABLE [dbo].[tbl_BankAdjustment](
	[AdjustmentId] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[BankId] [numeric](18, 0) NOT NULL,
	[RecORDep] [varchar](18) NOT NULL,
	[PreBalance] [numeric](18, 2) NULL,
	[AdjustmentAmount] [numeric](18, 2) NULL,
	[NewBalance] [numeric](18, 2) NULL,
	[Reason] [varchar](max) NULL,
	[Date] [smalldatetime] NULL,
 CONSTRAINT [PK_BankDetail_1] PRIMARY KEY CLUSTERED 
(
	[AdjustmentId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
go

CREATE TABLE [dbo].[tbl_ItemBarcodePrint](
	[ItemId] [numeric](18, 0) NULL,
	[Barcode] [varchar](50) NULL,
	[ItemName] [varchar](100) NULL,
	[Price] [numeric](18, 2) NULL,
	[Expiry] [datetime] NULL,
	[NewPrice] [numeric](18, 2) NULL
) ON [PRIMARY]
GO
alter table tbl_Accounts
add  EmpCode varchar(50)
go
	ALTER TABLE tbl_Menu_Child ALTER COLUMN Frm_Name varchar(max)
	go
	
alter table tbl_Users
add  SalemanOnSaleScreen bit
go
drop table tbl_Dep_Designation
go
CREATE TABLE [dbo].[tbl_Dep_Designation_City](
	[ID] [int] NULL,
	[Name] [varchar](50) NULL,
	[Type] [varchar](50) NULL,
	[Active] [bit] NULL
) ON [PRIMARY]
go

alter table tbl_Users
add  AllowNagativeStock bit
go
alter table tbl_Items
add  UrduName ntext
go
alter table tbl_Items
add  CompanyPrice numeric(18,2)
go
alter table tbl_Items
add  WholeSalePrice numeric(18,2)
go
alter table tbl_Items
add  Item_Size varchar(100)
go
alter table tbl_Items
add  Expiry smalldatetime
go
alter table tbl_ApplicationParameter
add  DuplicateItemName bit
go
alter table tbl_Items
drop column abc
go
alter table tbl_ApplicationParameter
add  ItemGridBarcode bit
go
alter table tbl_ApplicationParameter
add  ItemGridName bit
go
alter table tbl_ApplicationParameter
add  ItemGridUrduName bit
go
alter table tbl_ApplicationParameter
add  ItemGridArticleNo bit
go

alter table tbl_ApplicationParameter
add  ItemGridSize bit

go
alter table tbl_ApplicationParameter
add  ItemGridCost bit
go

alter table tbl_ApplicationParameter
add  ItemGridPrice bit
go
alter table tbl_ApplicationParameter
add  ItemGridWholeSalePrice bit
go

alter table tbl_ApplicationParameter
add  ItemGridCompanyPrice bit
go
alter table tbl_ApplicationParameter
add  ItemGridPack bit
go
alter table tbl_ApplicationParameter
add  ItemGridPcs bit
go
alter table tbl_ApplicationParameter
add  ItemGridStock bit
go
alter table tbl_ApplicationParameter
add  ItemGridLocation bit
go
alter table tbl_ApplicationParameter
add  ItemGridCompany bit
go
alter table tbl_ApplicationParameter
add  ItemGridCategory bit
go
alter table tbl_ApplicationParameter
add  ItemGridClass bit
go
alter table tbl_ApplicationParameter
add  ItemGridSubClass bit
go
alter table tbl_ApplicationParameter
add  ItemGridCountry bit
go
alter table tbl_ApplicationParameter
add  ItemGridSupplier bit
go
  alter table tbl_ApplicationParameter
add  CursorMoveOnSaleScreenAllField bit
go
  alter table tbl_ApplicationParameter
add  GarmentDuplicateItem bit
go
alter table tbl_Sales_Detail
add QtyPK numeric(18, 2)
go
alter table tbl_Sales_Detail
add QtyPcs numeric(18, 2)
go
alter table tbl_Purchases_Tmp
add Payment_Mode varchar(50)
go
alter table tbl_Purchases_Tmp
add Bank_ID numeric(18,0)
go
alter table tbl_Purchases
add Payment_Mode varchar(50)
go
alter table tbl_Purchases
add Bank_ID numeric(18,0)
go
 alter table tbl_ApplicationParameter
add  ItemID bit
go
 alter table tbl_ApplicationParameter
add  ItemEnglishName bit
go
alter table tbl_ApplicationParameter
add  ItemUrduName bit
go
alter table tbl_ApplicationParameter
add  ItemArticleBarcode bit
go
alter table tbl_ApplicationParameter
add  ItemSize bit
go
alter table tbl_ApplicationParameter
add  ItemCostSalePrice bit
go
alter table tbl_ApplicationParameter
add  ItemCompanyWholeSalePrice bit
go
alter table tbl_ApplicationParameter
add  ItemLocationMinQty bit
go
alter table tbl_ApplicationParameter
add  ItemCompany bit
go
alter table tbl_ApplicationParameter
add  ItemCategory bit
go
alter table tbl_ApplicationParameter
add  ItemClass bit
go
alter table tbl_ApplicationParameter
add  ItemSubClass bit
go
alter table tbl_ApplicationParameter
add  ItemCountry bit
go
alter table tbl_ApplicationParameter
add  ItemSupplier bit
go
alter table tbl_items
add  SpecialPrice numeric(18,2)
go
alter table tbl_ApplicationParameter
add  ItemGridSpecialPrice bit

  go
  CREATE TABLE [dbo].[tbl_BalanceSheet](
	[AccGroup_ID] [numeric](18, 0) NOT NULL,
	[AccGroup_Name] [varchar](100) NOT NULL,
	[AccClass_ID] [numeric](18, 0) NOT NULL,
	[AccClass_Name] [varchar](200) NOT NULL,
	[bal] [numeric](38, 2) NULL
) ON [PRIMARY]
go

alter table tbl_ApplicationParameter
add  SingleItemSaleWithDifferentPrice bit
  go
  alter table tbl_CashAdjustment
add  Reason varchar(max)
go
update tbl_CashAdjustment 
set Reason='-' where Reason is null 
go
alter table tbl_ApplicationParameter
add  StockOpeningWCSPrices bit
  go
  alter table tbl_ApplicationParameter
add  StockOpeningExpiryDate bit
  go
    alter table tbl_ApplicationParameter
add  FocusOnQtyAfterBarcodeEnter bit

  go
CREATE TYPE [dbo].[ItemDetail] AS TABLE(
	[Item_ID] [numeric](18, 0) NULL,
	[Main_ID] [numeric](18, 0) NULL,
	[Item_Name] [varchar](200) NULL,
	[Purchase_Price] [numeric](18, 2) NULL,
	[Sale_Price] [numeric](18, 2) NULL,
	[Barcode] [varchar](100) NULL,
	[Colour_ID] [numeric](18, 0) NULL,
	[Size_ID] [numeric](18, 0) NULL,
	[Active] [bit] NULL,
	[Opening_Qty] [numeric](18, 0) NULL
)
go
 alter table tbl_Items_Main
add  Season varchar(50)
go
 alter table tbl_Items_Main
add  ArticleNo varchar(50)
go
CREATE TABLE [dbo].[tbl_UserActivity](
	[Activity_ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[Date] [smalldatetime] NULL,
	[Time] [smalldatetime] NULL,
	[User] [varchar](50) NULL,
	[Computer] [varchar](100) NULL,
	[Detail] [varchar](max) NULL,
	[Comments] [varchar](max) NULL,
 CONSTRAINT [PK_tbl_UserActivity] PRIMARY KEY CLUSTERED 
(
	[Activity_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
go
alter table tbl_ApplicationParameter
add  ShowSquareMeter bit

  go
  alter table tbl_Items_Main
add  SquareMeter numeric(18,2)
go
drop table tbl_Dep_Designation_City
go
CREATE TABLE [dbo].[tbl_Dep_Designation_City_Color_Size](
	[ID] [int] NOT NULL,
	[Name] [varchar](50) NULL,
	[Type] [varchar](50) NULL,
	[Active] [bit] NULL,
 CONSTRAINT [PK_tbl_Dep_Designation] PRIMARY KEY CLUSTERED 
(
	[ID] ASC
)
) ON [PRIMARY]
go
  alter table tbl_Sales_Detail
add  SquareMeter numeric(18,2)
go
  alter table tbl_Sales_Detail_Tmp
add  SquareMeter numeric(18,2)
go
  alter table tbl_Purchase_Detail
add  SquareMeter numeric(18,2)
go
  alter table tbl_Purchase_Detail_Tmp
add  SquareMeter numeric(18,2)
go
CREATE TABLE [dbo].[tbl_SalesReturn](
	[SalesReturn_ID] [numeric](18, 0) NOT NULL,
	[Invoice_No] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NOT NULL,
	[Customer_ID] [numeric](18, 0) NOT NULL,
	[Salesman_ID] [numeric](18, 0) NULL,
	[Is_Regular_Customer] [bit] NULL,
	[Total_Amount] [numeric](18, 0) NOT NULL,
	[Item_Dis] [numeric](18, 0) NOT NULL,
	[Gross_Total] [numeric](18, 0) NOT NULL,
	[InvDis_Per] [numeric](18, 2) NOT NULL,
	[InvTax_Per] [numeric](18, 2) NOT NULL,
	[InvDis_Rs] [numeric](18, 0) NOT NULL,
	[InvTax_Rs] [numeric](18, 0) NOT NULL,
	[Misc] [numeric](18, 0) NOT NULL,
	[Net_Total] [numeric](18, 0) NOT NULL,
	[Remarks] [varchar](200) NOT NULL,
	[Inv_Time] [datetime] NOT NULL,
	[User_ID] [varchar](100) NOT NULL,
	[Computer] [varchar](100) NOT NULL,
	[Payment] [numeric](18, 0) NULL,
	[Balance] [numeric](18, 0) NULL,
	[Payment_Mode] [varchar](50) NULL,
	[Bank_ID] [numeric](18, 0) NULL,
 CONSTRAINT [PK_SalesReturn] PRIMARY KEY CLUSTERED 
(
	[SalesReturn_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
CREATE TABLE [dbo].[tbl_SalesReturn_Detail](
	[SalesReturn_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 2) NOT NULL,
	[Price] [numeric](18, 2) NOT NULL,
	[Sub_Total] [numeric](18, 2) NOT NULL,
	[Dis_Per] [numeric](18, 2) NOT NULL,
	[Dis_Rs] [numeric](18, 2) NOT NULL,
	[Total] [numeric](18, 2) NOT NULL,
	[Size1] [numeric](18, 0) NOT NULL,
	[Size2] [numeric](18, 0) NOT NULL,
	[Store_ID] [numeric](18, 0) NOT NULL,
	[Cost_Price] [numeric](18, 2) NULL,
	[Store_Name] [varchar](100) NULL,
	[QtyPK] [numeric](18, 2) NULL,
	[QtyPcs] [numeric](18, 2) NULL,
	[SquareMeter] [numeric](18, 2) NULL,
 CONSTRAINT [PK_SalesReturn_Detail] PRIMARY KEY CLUSTERED 
(
	[SalesReturn_ID] ASC,
	[Detail_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
alter table tbl_ApplicationParameter
add  ItemGridSize1 bit
go
alter table tbl_ApplicationParameter
add  ItemGridSize2 bit
go
alter table tbl_ApplicationParameter
add  ItemGridSize3 bit
go
alter table tbl_Items_Main
drop column ArticleNo
go

alter table tbl_ApplicationParameter
add Att_DelaySec int
go
alter table tbl_ApplicationParameter
add Offiice_TimeIn datetime
go
alter table tbl_ApplicationParameter
add Offiice_TimeOut datetime
go
alter table tbl_ApplicationParameter
add Office_HrsPerDay int
go
alter table tbl_ApplicationParameter
add Office_DaysPerMonth int
go
alter table tbl_ApplicationParameter
add Office_LateTime int
go
alter table tbl_ApplicationParameter
add BlockAttEntry datetime
go
 
 CREATE TABLE [dbo].[tbl_EmpAttendance](
	[Attendance_ID] [numeric](18, 0) NOT NULL,
	[Employee_ID] [numeric](18, 0) NULL,
	[Dated] [smalldatetime] NULL,
	[Status] [char](1) NULL,
	[CheckInOutStatus] [varchar](10) NULL,
	[Check_In] [datetime] NULL,
	[Check_Out] [datetime] NULL,
	[Worked] [int] NOT NULL,
	[Remarks] [varchar](max) NULL,
 CONSTRAINT [PK_tbl_EmpAttendance] PRIMARY KEY CLUSTERED 
(
	[Attendance_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
go

CREATE TABLE [dbo].[tbl_EmplyeePayRoll](
	[PayRoll_ID] [numeric](18, 0) NULL,
	[Employee_ID] [numeric](18, 0) NULL,
	[Month] [int] NULL,
	[Year] [int] NULL,
	[Dated] [smalldatetime] NULL,
	[TotalHrsPerDay] [int] NULL,
	[TotalDaysPerMonth] [int] NULL,
	[TotalHrsPerMonth] [int] NULL,
	[WorkedHrs] [int] NULL,
	[FineHrs] [int] NULL,
	[FineRs] [numeric](18, 2) NULL,
	[OverTimeHrs] [int] NULL,
	[OverTimeRs] [numeric](18, 2) NULL,
	[BasicSalery] [numeric](18, 2) NULL,
	[Allowances] [numeric](18, 2) NULL,
	[OtherFine] [numeric](18, 2) NULL,
	[Commission] [numeric](18, 2) NULL,
	[Bonus] [numeric](18, 2) NULL,
	[GrossSalery] [numeric](18, 2) NULL,
	[PreBalance] [numeric](18, 2) NULL,
	[NewBalance] [numeric](18, 2) NULL,
	[Paid] [numeric](18, 2) NULL,
	[Balance] [numeric](18, 2) NULL,
	[PaymentMode] [varchar](50) NULL,
	[Bank_ID] [numeric](18, 0) NULL,
	[Remarks] [varchar](max) NULL
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
go
alter table tbl_ItemSubClass
add KOT bit
go
alter table tbl_ApplicationParameter
add ShowKOTInItemSubClass bit
go


CREATE TABLE [dbo].[tbl_ItemMultiBarcode](
	[ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NULL,
	[Barcode] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_ItemMultiBarcode] PRIMARY KEY CLUSTERED 
(
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
alter table tbl_ApplicationParameter
add ItemMultiBarcode bit
go
alter table tbl_ApplicationParameter
add SearchByArticleNo bit
go
alter table tbl_ApplicationParameter
add SaleByScale  bit
go
alter table tbl_ItemCategory
add  Discount numeric(18,0)
go
alter table tbl_ItemClass
add  Discount numeric(18,0)
go
alter table tbl_ItemCompany
add  Discount numeric(18,0)
go
alter table tbl_ItemCountry
add  Discount numeric(18,0)
go
alter table tbl_ItemSubClass
add  Discount numeric(18,0)
go
alter table tbl_Sales 
alter column Total_Amount numeric(18,2)
go
alter table tbl_Sales 
alter column Item_Dis numeric(18,2)
go
alter table tbl_Sales 
alter column Gross_Total numeric(18,2)
go
alter table tbl_Sales 
alter column InvDis_Rs numeric(18,2)
go
alter table tbl_Sales 
alter column InvTax_Rs numeric(18,2)
go
alter table tbl_Sales 
alter column Misc numeric(18,2)
go
alter table tbl_Sales 
alter column Net_Total numeric(18,2)
go
alter table tbl_Sales 
alter column Payment numeric(18,2)
go
alter table tbl_Sales 
alter column Balance numeric(18,2)
go
alter table tbl_Sales 
alter column Tmp_Paid numeric(18,2)
go
alter table tbl_Sales_Tmp 
alter column Total_Amount numeric(18,2)
go
alter table tbl_Sales_Tmp 
alter column Item_Dis numeric(18,2)
go
alter table tbl_Sales_Tmp 
alter column Gross_Total numeric(18,2)
go
alter table tbl_Sales_Tmp 
alter column InvDis_Rs numeric(18,2)
go
alter table tbl_Sales_Tmp 
alter column InvTax_Rs numeric(18,2)
go
alter table tbl_Sales_Tmp 
alter column Misc numeric(18,2)
go
alter table tbl_Sales_Tmp 
alter column Net_Total numeric(18,2)
go
alter table tbl_Sales_Tmp 
alter column Payment numeric(18,2)
go
alter table tbl_Sales_Tmp 
alter column Balance numeric(18,2)
go
alter table tbl_Sales_Tmp 
alter column Tmp_Paid numeric(18,2)
go
alter table tbl_TmpLedger
add CostPrice numeric(18,2)
go
alter table tbl_TmpLedger
add SalePrice numeric(18,2)
go
alter table tbl_TmpLedger
add Total numeric(18,2)
go
alter table tbl_Sales
add PreBalance numeric(18,2)
go
alter table tbl_Sales_Tmp
add PreBalance numeric(18,2)
go
alter table tbl_Sales
add InvBalance numeric(18,2)
go
alter table tbl_Sales_Tmp
add InvBalance numeric(18,2)
go
alter table tbl_PurchaseReturn
add Payment_Mode varchar(50)
go
alter table tbl_PurchaseReturn
add Bank_ID numeric(18,0)
go
ALTER TABLE tbl_PurchaseReturn
ALTER COLUMN Total_Amount numeric(18,2)
go
ALTER TABLE tbl_PurchaseReturn
ALTER COLUMN Item_Discount numeric(18,2)
go
ALTER TABLE tbl_PurchaseReturn
ALTER COLUMN Item_Tax numeric(18,2)
go
ALTER TABLE tbl_PurchaseReturn
ALTER COLUMN Gross_Total numeric(18,2)
go
ALTER TABLE tbl_PurchaseReturn
ALTER COLUMN Invoice_DisPer numeric(18,2)
go
ALTER TABLE tbl_PurchaseReturn
ALTER COLUMN Invoice_TaxPer numeric(18,2)
go
ALTER TABLE tbl_PurchaseReturn
ALTER COLUMN Invoice_Dis_Rs numeric(18,2)
go
ALTER TABLE tbl_PurchaseReturn
ALTER COLUMN Invoice_Tax_Rs numeric(18,2)
go
ALTER TABLE tbl_PurchaseReturn
ALTER COLUMN Misc numeric(18,2)
go
ALTER TABLE tbl_PurchaseReturn
ALTER COLUMN Freight numeric(18,2)
go
ALTER TABLE tbl_PurchaseReturn
ALTER COLUMN Net_Total numeric(18,2)
go
ALTER TABLE tbl_PurchaseReturn
ALTER COLUMN Payment numeric(18,2)
go
ALTER TABLE tbl_PurchaseReturn
ALTER COLUMN Balance numeric(18,2)
go
ALTER TABLE tbl_Purchases
ALTER COLUMN Total_Amount numeric(18,2)
go
ALTER TABLE tbl_Purchases
ALTER COLUMN Item_Discount numeric(18,2)
go
ALTER TABLE tbl_Purchases
ALTER COLUMN Item_Tax numeric(18,2)
go
ALTER TABLE tbl_Purchases
ALTER COLUMN Gross_Total numeric(18,2)
go
ALTER TABLE tbl_Purchases
ALTER COLUMN Invoice_DisPer numeric(18,2)
go
ALTER TABLE tbl_Purchases
ALTER COLUMN Invoice_TaxPer numeric(18,2)
go
ALTER TABLE tbl_Purchases
ALTER COLUMN Invoice_Dis_Rs numeric(18,2)
go
ALTER TABLE tbl_Purchases
ALTER COLUMN Invoice_Tax_Rs numeric(18,2)
go
ALTER TABLE tbl_Purchases
ALTER COLUMN Misc numeric(18,2)
go
ALTER TABLE tbl_Purchases
ALTER COLUMN Freight numeric(18,2)
go
ALTER TABLE tbl_Purchases
ALTER COLUMN Net_Total numeric(18,2)
go
ALTER TABLE tbl_Purchases
ALTER COLUMN Payment numeric(18,2)
go
ALTER TABLE tbl_Purchases
ALTER COLUMN Balance numeric(18,2)
go
ALTER TABLE tbl_Purchases_Tmp
ALTER COLUMN Total_Amount numeric(18,2)
go
ALTER TABLE tbl_Purchases_Tmp
ALTER COLUMN Item_Discount numeric(18,2)
go
ALTER TABLE tbl_Purchases_Tmp
ALTER COLUMN Item_Tax numeric(18,2)
go
ALTER TABLE tbl_Purchases_Tmp
ALTER COLUMN Gross_Total numeric(18,2)
go
ALTER TABLE tbl_Purchases_Tmp
ALTER COLUMN Invoice_DisPer numeric(18,2)
go
ALTER TABLE tbl_Purchases_Tmp
ALTER COLUMN Invoice_TaxPer numeric(18,2)
go
ALTER TABLE tbl_Purchases_Tmp
ALTER COLUMN Invoice_Dis_Rs numeric(18,2)
go
ALTER TABLE tbl_Purchases_Tmp
ALTER COLUMN Invoice_Tax_Rs numeric(18,2)
go
ALTER TABLE tbl_Purchases_Tmp
ALTER COLUMN Misc numeric(18,2)
go
ALTER TABLE tbl_Purchases_Tmp
ALTER COLUMN Freight numeric(18,2)
go
ALTER TABLE tbl_Purchases_Tmp
ALTER COLUMN Net_Total numeric(18,2)
go
ALTER TABLE tbl_Purchases_Tmp
ALTER COLUMN Payment numeric(18,2)
go
ALTER TABLE tbl_Purchases_Tmp
ALTER COLUMN Balance numeric(18,2)
go
ALTER TABLE tbl_SalesReturn
ALTER COLUMN Total_Amount numeric(18,2)
go
ALTER TABLE tbl_SalesReturn
ALTER COLUMN Item_Dis numeric(18,2)
go
ALTER TABLE tbl_SalesReturn
ALTER COLUMN Gross_Total numeric(18,2)
go
ALTER TABLE tbl_SalesReturn
ALTER COLUMN InvDis_Per numeric(18,2)
go
ALTER TABLE tbl_SalesReturn
ALTER COLUMN InvTax_Per numeric(18,2)
go
ALTER TABLE tbl_SalesReturn
ALTER COLUMN InvDis_Rs numeric(18,2)
go
ALTER TABLE tbl_SalesReturn
ALTER COLUMN InvTax_Rs numeric(18,2)
go
ALTER TABLE tbl_SalesReturn
ALTER COLUMN Misc numeric(18,2)
go
ALTER TABLE tbl_SalesReturn
ALTER COLUMN Net_Total numeric(18,2)
go
ALTER TABLE tbl_SalesReturn
ALTER COLUMN Payment numeric(18,2)
go
ALTER TABLE tbl_SalesReturn
ALTER COLUMN Balance numeric(18,2)
go

alter table tbl_Purchase_Detail
add PcsSalePrice numeric(18,2)
go
alter table tbl_Purchase_Detail
add PackSalePrice numeric(18,2)
go
alter table tbl_Purchase_Detail
add PackCostPrice numeric(18,2)
go
alter table tbl_Purchase_Detail_Tmp
add PcsSalePrice numeric(18,2)
go
alter table tbl_Purchase_Detail_Tmp
add PackSalePrice numeric(18,2)
go
alter table tbl_Purchase_Detail_Tmp
add PackCostPrice numeric(18,2)
go
alter table tbl_ApplicationParameter
add CompanyAddress varchar(max)
go
alter table tbl_ApplicationParameter
add CompanyPhone varchar(max)
go
alter table tbl_ApplicationParameter
add Print2SaleBill bit
go
alter table tbl_users
add CostPriceInItemList bit
go

alter table tbl_items
add CostPriceAfterDisTax numeric(18,2)
go
alter table tbl_Purchase_Detail
add CostPriceAfterDisTax numeric(18,2)
go
alter table tbl_Purchase_Detail_Tmp
add CostPriceAfterDisTax numeric(18,2)
go
alter table tbl_ApplicationParameter
add  ItemGridCostAfterTaxDis bit
go


alter table tbl_Purchases_Tmp
add PreBalance numeric(18,2)
go
alter table tbl_Purchases_Tmp
add NewBalance numeric(18,2)
go
alter table tbl_Purchases
add PreBalance numeric(18,2)
go
alter table tbl_Purchases
add NewBalance numeric(18,2)
go
alter table tbl_ApplicationParameter
add CustomerIsMandatory bit
GO
alter table tbl_ApplicationParameter
add ShowStockAuditInSaleReturn bit
GO

alter table tbl_SalesReturn_Detail
add Expiry smalldatetime
go
alter table tbl_ApplicationParameter
add ShowPcs bit
go
alter table tbl_TmpLedger
add Timing datetime
go

alter table tbl_AuditStock
add Created_Time datetime
go
alter table tbl_Voucher
add Created_Time datetime
go


alter table tbl_Inv_Voucher
add Created_Time datetime
go
alter table tbl_BankAdjustment
add Created_Time datetime
go
alter table tbl_CashAdjustment
add Created_Time datetime
go
alter table tbl_EmplyeePayRoll
add Created_Time datetime
go
alter table tbl_Accounts
add Created_Time datetime
go
alter table tbl_Items
add AvgCost numeric(18,2)
go
CREATE TABLE [dbo].[tbl_Item_Stock_PriceHistory](
	[Item_ID] [numeric](18, 0) NULL,
	[PreStock] [numeric](18, 2) NULL,
	[PreCost] [numeric](18, 2) NULL,
	[Qty] [numeric](18, 2) NULL,
	[NewStock] [numeric](18, 2) NULL,
	[NewCost] [numeric](18, 2) NULL,
	[AvgCost] [numeric](18, 2) NULL,
	[Dated] [smalldatetime] NULL,
	[Time] [datetime] NULL,
	[User] [varchar](50) NULL,
	[Computer] [varchar](50) NULL,
	[Detail] [varchar](50) NULL
) ON [PRIMARY]

GO


alter table tbl_Sales_Detail_Tmp
add AvgCost numeric(18,2)
go
alter table tbl_Sales_Detail
add AvgCost numeric(18,2)
go
alter table tbl_ApplicationParameter
add ProfitByAvgCost bit
go
alter table tbl_PurchaseReturn_Detail
Add Pk_CostPrice numeric(18,2)
go
alter table tbl_SalesReturn_Detail
Add AvgCost numeric(18,2)
go
alter table tbl_ApplicationParameter
add SaleByScaleByPrice bit 
go

	ALTER TABLE tbl_Item_Stock_PriceHistory
ADD	PreAvgCost  NUMERIC(18,2)
GO
CREATE TABLE [dbo].[tmp_Item_Stock_PriceHistory](
	[Item_ID] [numeric](18, 0) NULL,
	[PreStock] [numeric](18, 2) NULL,
	[PreCost] [numeric](18, 2) NULL,
	[Qty] [numeric](18, 2) NULL,
	[NewCost] [numeric](18, 2) NULL,
	[PreAvgCost] [numeric](18, 0) NULL,
	[AvgCost] [numeric](18, 2) NULL,
	[Detail] [varchar](50) NULL,
	[Dated] [datetime] NULL
) ON [PRIMARY]

GO
CREATE TABLE [dbo].[tmp_Stock](
	[Item_ID] [numeric](18, 0) NULL,
	[Store_ID] [numeric](18, 0) NULL,
	[Qty] [numeric](18, 2) NULL
) ON [PRIMARY]

GO
CREATE TABLE [dbo].[tbl_Quotations](
	[Quotations_ID] [numeric](18, 0) NOT NULL,
	[Invoice_No] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NOT NULL,
	[Customer_ID] [numeric](18, 0) NOT NULL,
	[Salesman_ID] [numeric](18, 0) NULL,
	[Is_Regular_Customer] [bit] NULL,
	[Total_Amount] [numeric](18, 2) NULL,
	[Item_Dis] [numeric](18, 2) NULL,
	[Gross_Total] [numeric](18, 2) NULL,
	[InvDis_Per] [numeric](18, 2) NOT NULL,
	[InvTax_Per] [numeric](18, 2) NOT NULL,
	[InvDis_Rs] [numeric](18, 2) NULL,
	[InvTax_Rs] [numeric](18, 2) NULL,
	[Misc] [numeric](18, 2) NULL,
	[Net_Total] [numeric](18, 2) NULL,
	[Remarks] [varchar](200) NOT NULL,
	[Inv_Time] [datetime] NOT NULL,
	[User_ID] [varchar](100) NOT NULL,
	[Computer] [varchar](100) NOT NULL,
	[Converted] [bit] NULL,
 CONSTRAINT [PK_Quotations] PRIMARY KEY CLUSTERED 
(
	[Quotations_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[tbl_Quotations_Detail](
	[Quotations_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[QtyPK] [numeric](18, 2) NULL,
	[QtyPcs] [numeric](18, 2) NULL,
	[Qty] [numeric](18, 2) NOT NULL,
	[Price] [numeric](18, 2) NOT NULL,
	[Sub_Total] [numeric](18, 2) NOT NULL,
	[Dis_Per] [numeric](18, 2) NOT NULL,
	[Dis_Rs] [numeric](18, 2) NOT NULL,
	[Total] [numeric](18, 2) NOT NULL,
	[Size1] [numeric](18, 0) NOT NULL,
	[Size2] [numeric](18, 0) NOT NULL,
	[Cost_Price] [numeric](18, 2) NULL,
	[SquareMeter] [numeric](18, 2) NULL,
	[AvgCost] [numeric](18, 2) NULL,
	[Store_ID] [numeric](18, 0) NOT NULL,
	[Store_Name] [varchar](100) NULL,
 CONSTRAINT [PK_Quotations_Detail] PRIMARY KEY CLUSTERED 
(
	[Quotations_ID] ASC,
	[Detail_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
alter table tbl_Sales
add FromQuotation bit
go

alter table tbl_ApplicationParameter
add PaymentOptionInSaleEntry bit 
go
alter table tbl_Accounts
add EmpComission numeric(18,2)
go
alter table tbl_Sales_Detail
add EmpCommissionRate numeric(18,2)
go
alter table tbl_Sales_Detail
add TotalCommission numeric(18,2)

go
alter table tbl_SalesReturn_Detail
add EmpCommissionRate numeric(18,2)
go
alter table tbl_SalesReturn_Detail
add TotalCommission numeric(18,2)
go
alter table tbl_ApplicationParameter
add ShowOrderBroker bit
 go
	EXEC sp_RENAME 'tbl_Accounts.EmpComission', 'Comission', 'COLUMN'
	go
	
	
alter table tbl_Sales_Detail
add OBCommissionRate numeric(18,2)
go
alter table tbl_Sales_Detail
add OBTotalCommission numeric(18,2)
go
alter table tbl_SalesReturn_Detail
add OBCommissionRate numeric(18,2)
go
alter table tbl_SalesReturn_Detail
add OBTotalCommission numeric(18,2)
go
EXEC sp_RENAME 'tbl_Sales_Detail.TotalCommission', 'EmpTotalCommission', 'COLUMN'
go
alter table tbl_Sales
add OrderBroker_ID numeric(18,0)
go
EXEC sp_RENAME 'tbl_SalesReturn_Detail.TotalCommission', 'EmpTotalCommission', 'COLUMN'
go
alter table tbl_SalesReturn
add OrderBroker_ID numeric(18,0)
go
 update tbl_Sales set OrderBroker_ID=3104001 where OrderBroker_ID is null
 go
 alter table tbl_ApplicationParameter
add ShowUrduItem bit
go

alter table tbl_ApplicationParameter
add DayOpeningClosing bit
go
alter table tbl_ApplicationParameter
add RemoveItemByAuthentication bit
go
alter table tbl_ApplicationParameter
add ShowNewInvPopUp bit
go
alter table tbl_ApplicationParameter
add PurchaseFromItemRegScreen bit
go
alter table tbl_ApplicationParameter
add DoubleDiscount bit
go
alter table tbl_Sales_Detail
add Dis2_Per numeric(18,2)
go
alter table tbl_Sales_Detail
add Dis2_Rs numeric(18,2)
go
alter table tbl_Sales
add InvDis2_Per numeric(18,2)
go
alter table tbl_Sales
add InvDis2_Rs numeric(18,2)
go
alter table tbl_Sales
add Freight numeric(18,2)
go


alter table tbl_Sales
add CreditNote numeric(18,0)

GO
UPDATE tbl_Sales SET CreditNote=0 WHERE CreditNote IS NULL
go
alter table tbl_Sales
add FinishCreditNote bit
go
UPDATE tbl_Sales SET FinishCreditNote='false' WHERE FinishCreditNote IS NULL
go
alter table tbl_Sales
add RefCreditNote numeric(18,0)
go
UPDATE tbl_Sales SET RefCreditNote=0 WHERE RefCreditNote IS NULL
alter table tbl_Users
add InvUpdateDeleteAccess bit
go

alter table tbl_Sales_Detail
add SchemQty numeric(18,2)
go
alter table tbl_ApplicationParameter
add SchemQty bit
go
alter table tbl_ApplicationParameter
add ApplyCreditNote bit
go
CREATE TABLE [dbo].[tbl_DeleteTmpSales](
	[Sales_ID] [numeric](18, 0) NOT NULL,
	[Invoice_No] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NOT NULL,
	[Customer_ID] [numeric](18, 0) NOT NULL,
	[Salesman_ID] [numeric](18, 0) NULL,
	[Is_Regular_Customer] [bit] NULL,
	[Total_Amount] [numeric](18, 2) NULL,
	[Item_Dis] [numeric](18, 2) NULL,
	[Gross_Total] [numeric](18, 2) NULL,
	[InvDis_Per] [numeric](18, 2) NOT NULL,
	[InvTax_Per] [numeric](18, 2) NOT NULL,
	[InvDis_Rs] [numeric](18, 2) NULL,
	[InvTax_Rs] [numeric](18, 2) NULL,
	[Misc] [numeric](18, 2) NULL,
	[Net_Total] [numeric](18, 2) NULL,
	[Remarks] [varchar](200) NOT NULL,
	[Inv_Time] [datetime] NOT NULL,
	[User_ID] [varchar](100) NOT NULL,
	[Computer] [varchar](100) NOT NULL,
	[Payment] [numeric](18, 2) NULL,
	[Balance] [numeric](18, 2) NULL,
	[Tmp_Paid] [numeric](18, 2) NULL,
	[Payment_Mode] [varchar](50) NULL,
	[Bank_ID] [numeric](18, 0) NULL,
	[PreBalance] [numeric](18, 2) NULL,
	[InvBalance] [numeric](18, 2) NULL,
 CONSTRAINT [PK_tbl_DeleteTmpSales] PRIMARY KEY CLUSTERED 
(
	[Sales_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
CREATE TABLE [dbo].[tbl_DeleteTmpSales_Detail](
	[Sales_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 2) NOT NULL,
	[Price] [numeric](18, 2) NOT NULL,
	[Sub_Total] [numeric](18, 2) NOT NULL,
	[Dis_Per] [numeric](18, 2) NOT NULL,
	[Dis_Rs] [numeric](18, 2) NOT NULL,
	[Total] [numeric](18, 2) NOT NULL,
	[Size1] [numeric](18, 0) NOT NULL,
	[Size2] [numeric](18, 0) NOT NULL,
	[Store_ID] [numeric](18, 0) NOT NULL,
	[Cost_Price] [numeric](18, 2) NULL,
	[Store_Name] [varchar](100) NULL,
	[SquareMeter] [numeric](18, 2) NULL,
	[AvgCost] [numeric](18, 2) NULL,
 CONSTRAINT [PK_tbl_DeleteTmpSales_Detail] PRIMARY KEY CLUSTERED 
(
	[Sales_ID] ASC,
	[Detail_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO


CREATE TABLE [dbo].[tbl_DeleteSales](
	[Sales_ID] [numeric](18, 0) NOT NULL,
	[Invoice_No] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NOT NULL,
	[Customer_ID] [numeric](18, 0) NOT NULL,
	[Salesman_ID] [numeric](18, 0) NULL,
	[Is_Regular_Customer] [bit] NULL,
	[Total_Amount] [numeric](18, 2) NULL,
	[Item_Dis] [numeric](18, 2) NULL,
	[Gross_Total] [numeric](18, 2) NULL,
	[InvDis_Per] [numeric](18, 2) NOT NULL,
	[InvTax_Per] [numeric](18, 2) NOT NULL,
	[InvDis_Rs] [numeric](18, 2) NULL,
	[InvTax_Rs] [numeric](18, 2) NULL,
	[Misc] [numeric](18, 2) NULL,
	[Net_Total] [numeric](18, 2) NULL,
	[Remarks] [varchar](200) NOT NULL,
	[Inv_Time] [datetime] NOT NULL,
	[User_ID] [varchar](100) NOT NULL,
	[Computer] [varchar](100) NOT NULL,
	[Payment] [numeric](18, 2) NULL,
	[Balance] [numeric](18, 2) NULL,
	[Tmp_Paid] [numeric](18, 2) NULL,
	[Payment_Mode] [varchar](50) NULL,
	[Bank_ID] [numeric](18, 0) NULL,
	[PreBalance] [numeric](18, 2) NULL,
	[InvBalance] [numeric](18, 2) NULL,
	[FromQuotation] [bit] NULL,
	[OrderBroker_ID] [numeric](18, 0) NULL,
	[InvDis2_Per] [numeric](18, 2) NULL,
	[InvDis2_Rs] [numeric](18, 2) NULL,
	[Freight] [numeric](18, 2) NULL,
	[CreditNote] [numeric](18, 0) NULL,
	[FinishCreditNote] [bit] NULL,
	[RefCreditNote] [numeric](18, 0) NULL,
 CONSTRAINT [PK_tbl_DeleteSales] PRIMARY KEY CLUSTERED 
(
	[Sales_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO


CREATE TABLE [dbo].[tbl_DeleteSales_Detail](
	[Sales_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 2) NOT NULL,
	[Price] [numeric](18, 2) NOT NULL,
	[Sub_Total] [numeric](18, 2) NOT NULL,
	[Dis_Per] [numeric](18, 2) NOT NULL,
	[Dis_Rs] [numeric](18, 2) NOT NULL,
	[Total] [numeric](18, 2) NOT NULL,
	[Size1] [numeric](18, 0) NOT NULL,
	[Size2] [numeric](18, 0) NOT NULL,
	[Store_ID] [numeric](18, 0) NOT NULL,
	[Cost_Price] [numeric](18, 2) NULL,
	[Store_Name] [varchar](100) NULL,
	[QtyPK] [numeric](18, 2) NULL,
	[QtyPcs] [numeric](18, 2) NULL,
	[SquareMeter] [numeric](18, 2) NULL,
	[AvgCost] [numeric](18, 2) NULL,
	[EmpCommissionRate] [numeric](18, 2) NULL,
	[EmpTotalCommission] [numeric](18, 2) NULL,
	[OBCommissionRate] [numeric](18, 2) NULL,
	[OBTotalCommission] [numeric](18, 2) NULL,
	[Dis2_Per] [numeric](18, 2) NULL,
	[Dis2_Rs] [numeric](18, 2) NULL,
	[SchemQty] [numeric](18, 2) NULL,
 CONSTRAINT [PK_tbl_DeleteSales_Detail] PRIMARY KEY CLUSTERED 
(
	[Sales_ID] ASC,
	[Detail_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
CREATE TABLE [dbo].[tbl_SupplierBalAdj](
	[Adj_ID] [numeric](18, 0) NOT NULL,
	[Supplier_ID] [numeric](18, 0) NULL,
	[Dated] [smalldatetime] NULL,
	[CreatedTime] [datetime] NULL,
	[Type] [varchar](50) NULL,
	[PreBalance] [numeric](18, 2) NULL,
	[Amount] [numeric](18, 2) NULL,
	[NewBalance] [numeric](18, 2) NULL,
	[Description] [varchar](max) NULL,
	[User] [varchar](50) NULL,
	[Computer] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_SupplierBalAdj] PRIMARY KEY CLUSTERED 
(
	[Adj_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
alter table tbl_Accounts
add Deduction numeric(18,2)
go
update tbl_Accounts set Deduction=0 where Deduction is null
go

alter table tbl_Sales
add EmployeeCommissionPay bit

go
alter table tbl_Sales
add OrderBookerCommissionPay bit
go
update tbl_Sales set EmployeeCommissionPay='false' where EmployeeCommissionPay is null
go
update tbl_Sales set OrderBookerCommissionPay='false' where OrderBookerCommissionPay is null
go

alter table tbl_Sales
add DeductionPer numeric(18,2)
go
alter table tbl_Sales
add DeductionAmount numeric(18,2)
go
alter table tbl_Sales
add CreditCardTotal numeric(18,2)
go
update tbl_Sales set DeductionPer=0 where DeductionPer is null
go
update tbl_Sales set DeductionAmount=0 where DeductionAmount is null
go
update tbl_Sales set CreditCardTotal=0 where CreditCardTotal is null
go
 alter table tbl_SalesReturn
 add Tmp_Paid numeric(18,2)
 go
  update tbl_SalesReturn set Tmp_Paid=0 where Tmp_Paid is null
  go
 alter table tbl_SalesReturn
 add InvBalance numeric(18,2)
 go
 update tbl_SalesReturn set InvBalance=0 where InvBalance is null
 go
  alter table tbl_SalesReturn
 add PreBalance numeric(18,2)
 go
  update tbl_SalesReturn set PreBalance=0 where PreBalance is null
  go
  alter table tbl_PurchaseReturn
add PreBalance numeric(18,2)
go
update tbl_PurchaseReturn set  PreBalance=0 where PreBalance is null
go
alter table tbl_PurchaseReturn
add InvBalance numeric(18,2)
go
update tbl_PurchaseReturn set  InvBalance=0 where InvBalance is null
go
alter table tbl_ApplicationParameter
add EmployeeWithScale bit
go
alter table tbl_Accounts
add Scale numeric(18,0)
go
update tbl_Accounts set Scale=0 where Scale is null
go
alter table tbl_BankAdjustment
add EntryType varchar(50)
go
alter table tbl_Sales
add ScaleEmpComBalCal bit
go
update tbl_Sales set ScaleEmpComBalCal='false' where ScaleEmpComBalCal is null
go
----------------------------------------------------------------------------------------------------------------------------

alter table tbl_BalanceSheet 
Add ID numeric(18,0) not null
GO
alter table tbl_BalanceSheet
add Constraint PK_tbl_BalanceSheet Primary key(ID)
GO
BEGIN TRANSACTION
SET QUOTED_IDENTIFIER ON
SET ARITHABORT ON
SET NUMERIC_ROUNDABORT OFF
SET CONCAT_NULL_YIELDS_NULL ON
SET ANSI_NULLS ON
SET ANSI_PADDING ON
SET ANSI_WARNINGS ON
COMMIT
BEGIN TRANSACTION
GO
CREATE TABLE dbo.Tmp_tbl_BalanceSheet
	(
	AccGroup_ID numeric(18, 0) NOT NULL,
	AccGroup_Name varchar(100) NOT NULL,
	AccClass_ID numeric(18, 0) NOT NULL,
	AccClass_Name varchar(200) NOT NULL,
	bal numeric(38, 2) NULL,
	ID numeric(18, 0) NOT NULL IDENTITY (1, 1)
	)  ON [PRIMARY]
GO
ALTER TABLE dbo.Tmp_tbl_BalanceSheet SET (LOCK_ESCALATION = TABLE)
GO
SET IDENTITY_INSERT dbo.Tmp_tbl_BalanceSheet ON
GO
IF EXISTS(SELECT * FROM dbo.tbl_BalanceSheet)
	 EXEC('INSERT INTO dbo.Tmp_tbl_BalanceSheet (AccGroup_ID, AccGroup_Name, AccClass_ID, AccClass_Name, bal, ID)
		SELECT AccGroup_ID, AccGroup_Name, AccClass_ID, AccClass_Name, bal, ID FROM dbo.tbl_BalanceSheet WITH (HOLDLOCK TABLOCKX)')
GO
SET IDENTITY_INSERT dbo.Tmp_tbl_BalanceSheet OFF
GO
DROP TABLE dbo.tbl_BalanceSheet
GO
EXECUTE sp_rename N'dbo.Tmp_tbl_BalanceSheet', N'tbl_BalanceSheet', 'OBJECT' 
GO
ALTER TABLE dbo.tbl_BalanceSheet ADD CONSTRAINT
	PK_tbl_BalanceSheet PRIMARY KEY CLUSTERED 
	(
	ID
	) WITH( STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]

GO
COMMIT
go


alter table tbl_IssueStock
add Constraint PK_tbl_IssueStock Primary key(IssueId)
GO
EXEC sp_RENAME 'tbl_IssueStock.User', 'User_ID', 'COLUMN'
GO
alter table tbl_IssueStockDetail
add Constraint PK_tbl_IssueStockDetail Primary key(IssueId,DetailId)
GO
alter table tbl_Item_Stock_PriceHistory
add ID numeric(18,0) not null  identity(1,1)
GO
alter table tbl_Item_Stock_PriceHistory
add Constraint PK_tbl_Item_Stock_PriceHistory PRIMARY KEY(ID)
GO
EXEC sp_RENAME 'tbl_Item_Stock_PriceHistory.User', 'User_ID', 'COLUMN'
GO
alter table tbl_ItemBarcodePrint
add ID numeric(18,0) not null  identity(1,1)
GO
alter table tbl_ItemBarcodePrint
add Constraint PK_tbl_ItemBarcodePrint PRIMARY KEY(ID)
GO
EXEC sp_RENAME 'tbl_SupplierBalAdj.User', 'User_ID', 'COLUMN'
GO
alter table tmp_Item_Stock_PriceHistory
add ID numeric(18,0) not null  identity(1,1)
GO
alter table tmp_Item_Stock_PriceHistory
add Constraint PK_tmp_Item_Stock_PriceHistory PRIMARY KEY(ID)
GO
alter table tmp_Stock
add ID numeric(18,0) not null  identity(1,1)
GO
alter table tmp_Stock
add Constraint PK_tmp_Stock PRIMARY KEY(ID)
GO
EXEC sp_RENAME 'tbl_Payment.Desc', 'Description', 'COLUMN'
GO
EXEC sp_RENAME 'tbl_UserActivity.User', 'User_ID', 'COLUMN'
go
alter table tbl_Items 
alter column UrduName nvarchar(500) 
go
EXEC sp_RENAME 'tbl_EmpAttendance.STATUS', 'Display_Status', 'COLUMN'
go
EXEC sp_RENAME 'tbl_Menu_Child.STATUS', 'Display_Status', 'COLUMN'
go
EXEC sp_RENAME 'tbl_Menu_Parent.STATUS', 'Display_Status', 'COLUMN'
----------------------------------------------------------------------------------------------------------------------------
alter table tbl_Sales
add EmpCommissionRate numeric(18,2)
go
alter table tbl_Sales
add EmpTotalCommission numeric(18,2)
go
alter table tbl_Sales
add OBCommissionRate numeric(18,2)
go
alter table tbl_Sales
add OBTotalCommission numeric(18,2)
go
update tbl_Sales set EmpCommissionRate=0 where EmpCommissionRate is null
go
update tbl_Sales set EmpTotalCommission=0 where EmpTotalCommission is null
go
update tbl_Sales set OBCommissionRate=0 where OBCommissionRate is null
go
update tbl_Sales set OBTotalCommission=0 where OBTotalCommission is null
go
alter table tbl_ApplicationParameter
add ItemWise_Employee_OrderBookerCommmission bit
go
alter table tbl_ApplicationParameter
add DirectOpening bit
go
alter table tbl_Purchase_Detail
add Freight numeric(18,2)
go
alter table tbl_Purchase_Detail_Tmp
add Freight numeric(18,2)
go
alter table tbl_ApplicationParameter
add FreightOnItem bit
go

alter table tbl_Payment
add Dis_Rs numeric(18,2)
go
alter table tbl_Payment
add Dis_Per numeric(18,2)
go
alter table tbl_ApplicationParameter
add ShowItem_CP_SP_Per bit
go
alter table tbl_ApplicationParameter
add ShowItem_RetialPrice bit
go
alter table tbl_Items
add Retial_Price numeric(18,2)
go
alter table tbl_ItemBarcodePrint
add Manufacturing  datetime
go
alter table tbl_Accounts
add PictureCode varbinary(MAX)
go
alter table tbl_Accounts
add PictureName varchar(200)
go
CREATE TABLE [dbo].[tbl_DeletePurchases](
	[Purchase_ID] [numeric](18, 0) NOT NULL,
	[Invoice_No] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NOT NULL,
	[Ref_No] [varchar](50) NOT NULL,
	[Supplier_Id] [numeric](18, 0) NOT NULL,
	[Total_Amount] [numeric](18, 2) NULL,
	[Item_Discount] [numeric](18, 2) NULL,
	[Item_Tax] [numeric](18, 2) NULL,
	[Gross_Total] [numeric](18, 2) NULL,
	[Invoice_DisPer] [numeric](18, 2) NULL,
	[Invoice_TaxPer] [numeric](18, 2) NULL,
	[Invoice_Dis_Rs] [numeric](18, 2) NULL,
	[Invoice_Tax_Rs] [numeric](18, 2) NULL,
	[Misc] [numeric](18, 2) NULL,
	[Freight] [numeric](18, 2) NULL,
	[Net_Total] [numeric](18, 2) NULL,
	[Remarks] [varchar](200) NOT NULL,
	[Created_Time] [datetime] NOT NULL,
	[User_ID] [varchar](100) NOT NULL,
	[Computer] [varchar](100) NOT NULL,
	[Payment] [numeric](18, 2) NULL,
	[Balance] [numeric](18, 2) NULL,
	[Payment_Mode] [varchar](50) NULL,
	[Bank_ID] [numeric](18, 0) NULL,
	[PreBalance] [numeric](18, 2) NULL,
	[NewBalance] [numeric](18, 2) NULL,
 CONSTRAINT [PK_DeletePurchases] PRIMARY KEY CLUSTERED 
(
	[Purchase_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
CREATE TABLE [dbo].[tbl_DeletePurchase_Detail](
	[Purchase_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 2) NOT NULL,
	[Price] [numeric](18, 2) NOT NULL,
	[Sub_Total] [numeric](18, 2) NOT NULL,
	[Dis_Per] [numeric](18, 2) NOT NULL,
	[Dis_Rs] [numeric](18, 2) NOT NULL,
	[Tax_Per] [numeric](18, 2) NOT NULL,
	[Tax_Rs] [numeric](18, 2) NOT NULL,
	[Total] [numeric](18, 2) NOT NULL,
	[Size1] [numeric](18, 0) NOT NULL,
	[Size2] [numeric](18, 0) NOT NULL,
	[StoreId] [numeric](18, 0) NOT NULL,
	[BatchNo] [varchar](100) NULL,
	[Expiry] [smalldatetime] NULL,
	[QtyPK] [numeric](18, 2) NULL,
	[QtyPcs] [numeric](18, 2) NULL,
	[Store] [varchar](100) NULL,
	[SquareMeter] [numeric](18, 2) NULL,
	[PcsSalePrice] [numeric](18, 2) NULL,
	[PackSalePrice] [numeric](18, 2) NULL,
	[PackCostPrice] [numeric](18, 2) NULL,
	[CostPriceAfterDisTax] [numeric](18, 2) NULL,
	[Freight] [numeric](18, 2) NULL,
 CONSTRAINT [PK_DeletePurchase_Detail] PRIMARY KEY CLUSTERED 
(
	[Purchase_ID] ASC,
	[Detail_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
alter table tbl_Items_Main
add PictureCode varbinary(MAX)
go
alter table tbl_Items_Main
add PictureName varchar(200)
go
alter table tbl_ApplicationParameter
add ItemSeason bit
go
alter table tbl_Accounts
add RegNo varchar(50)
go
alter table tbl_Accounts
add FatherName varchar(50)
go
alter table tbl_Accounts
add Occupation varchar(50)
go
alter table tbl_Accounts
add Nationality_ID numeric(18,0)
go
alter table tbl_Accounts
add DOB varchar(50)
go
alter table tbl_Accounts
add Office_ContactNo varchar(50)
go
alter table tbl_Accounts
add Residential_ContactNo varchar(50)
go
alter table tbl_ApplicationParameter
add CustomerExtraFields bit
GO
CREATE TABLE [dbo].[tbl_Nationality](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Nationality_ID] [numeric](18, 0) NOT NULL,
	[Name] [varchar](50) NULL,
	[Active] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Nationality] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Nationality_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARy]
go
ALTER TABLE tbl_Accounts
ALTER COLUMN PictureCode image
go
ALTER TABLE tbl_Items_Main
ALTER COLUMN PictureCode image
go
alter table tbl_ApplicationParameter
add   ItemPicture bit 
go
alter table tbl_ApplicationParameter
add   ApplyItemDiscount bit 
go
alter table tbl_ApplicationParameter
add   ApplyInvDiscount bit 
go
alter table tbl_ApplicationParameter
add   ApplyInvTax bit
go

if not exists(select * from tbl_Locations)
begin
INSERT [dbo].[tbl_Locations] ([Location_ID], [Location_Name], [Location_Address], [Location_Contact_No], [Active])
 VALUES (CAST(1 AS Numeric(18, 0)), N'-', N'-', N'-', 1)
 end
go
CREATE TABLE [dbo].[tbl_TmpBalanceSheet](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[SrNo] [numeric](18, 0) NOT NULL,
	[Group_ID] [numeric](18, 0) NOT NULL,
	[Group_Name] [varchar](50) NOT NULL,
	[Category_ID] [numeric](18, 0) NOT NULL,
	[Category_Name] [varchar](50) NOT NULL,
	[Class_ID] [numeric](18, 0) NOT NULL,
	[Class_Name] [varchar](50) NOT NULL,
	[Account_ID] [numeric](18, 0) NOT NULL,
	[Account_Name] [varchar](50) NOT NULL,
	[Balance] [numeric](18, 2) NOT NULL,
	[Font] [numeric](18, 0) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_TmpBalanceSheet] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[SrNo] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_TmpBalanceSheet] ADD  CONSTRAINT [DF_tbl_TmpBalanceSheet]  DEFAULT ('Unsubmitted') FOR [Status]
GO
drop table tbl_BalanceSheet
go
update tbl_AccCategory set GroupId=2 where AccCategory_Name='Owner Capital' and AccCategory_ID=21
go
CREATE TABLE [dbo].[tmp_StoreStock](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Store_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 2) NOT NULL,
	[Opening_Qty] [numeric](18, 0) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tmp_StoreStock] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Item_ID] ASC,
	[Store_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
alter table tbl_Items
Add Store_ID numeric(18,0)
go
alter table tbl_ApplicationParameter
add Donation numeriC(18,2)
go
alter table tbl_Items
add PartyCommission numeriC(18,2)
go
alter table tbl_Sales_Detail
add DonationCommissionRate numeric(18,2)
go
alter table tbl_Sales_Detail
add DonationCommissionAmount numeric(18,2)
go
alter table tbl_Sales_Detail
add OwnCommissionRate numeric(18,2)
go
alter table tbl_Sales_Detail
add OwnCommissionAmount numeric(18,2)
go
alter table tbl_Sales_Detail
add PartyCommissionRate numeric(18,2)
go
alter table tbl_Sales_Detail
add PartyCommissionAmount numeric(18,2)
go
alter table tbl_ApplicationParameter
add PartyCommission bit
go
alter table tbl_AuditStockDetail
add PresentPack numeric(18,2)
go
alter table tbl_AuditStockDetail
add PresentPcs numeric(18,2)
go
alter table tbl_AuditStockDetail
add NewPack numeric(18,2)
go
alter table tbl_AuditStockDetail
add NewPcs numeric(18,2)
go
alter table tbl_Sales
add Token_No numeric(18,0)
go
update tbl_Accounts set Reserved='y'
where Account_ID in (1202001,3102001)
go
alter table tbl_ApplicationParameter
add ShowSalemanWhenPresCode bit
go
alter table tbl_ApplicationParameter
add StoreOnSaleReport bit
go
alter table tbl_ApplicationParameter
add SPLessThenCP bit
go
alter table tbl_ApplicationParameter
add SalePaymentWithPopUp bit
go
alter table tbl_Accounts
add CommissionSupplier bit
GO

alter table tbl_Accounts
add PartyAccount_ID NUMERIC(18,0)
go
alter table tbl_items
add DisPer numeric(18,2)
go
alter table tbl_items
add DisRs numeric(18,2)
go
alter table tbl_items
add NewSalePrice numeric(18,2)
go
update tbl_Items set DisPer=0,DisRs=0,NewSalePrice=0 where 
DisPer is null and DisRs is null and NewSalePrice is null
go
CREATE TABLE [dbo].[tbl_BackUp](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[BackUp_ID] [numeric](18, 0) NOT NULL,
	[TotalBackUp] [numeric](18, 0) NULL,
	[TimeOne] [datetime] NULL,
	[PathOne] [varchar](max) NULL,
	[NameOne] [varchar](max) NULL,
	[TimeTwo] [datetime] NULL,
	[PathTwo] [varchar](max) NULL,
	[NameTwo] [varchar](max) NULL,
	[TimeThree] [datetime] NULL,
	[PathThree] [varchar](max) NULL,
	[NameThree] [varchar](max) NULL,
	[TimeFour] [datetime] NULL,
	[PathFour] [varchar](max) NULL,
	[NameFour] [varchar](max) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_BackUp] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[BackUp_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_BackUp] ADD  CONSTRAINT [DF_tbl_BackUp_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_TmpStockActivity](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Opening] [numeric](18, 2) NULL,
	[Sale] [numeric](18, 2) NULL,
	[SaleReturn] [numeric](18, 2) NULL,
	[Purchase] [numeric](18, 2) NULL,
	[PurchaseReturn] [numeric](18, 2) NULL,
	[AuditIn] [numeric](18, 2) NULL,
	[AuditOut] [numeric](18, 2) NULL,
	[ClosingStock] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_TmpStockActivity] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ID] ASC,
	[Item_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_TmpStockActivity] ADD  CONSTRAINT [DF_tbl_TmpStockActivity_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
go
alter table tbl_ApplicationParameter
add ThreeStarSaleBill bit
go
alter table tbl_Items
add MemberDis bit
go
update tbl_Items set MemberDis='false' where MemberDis is null
go
alter table tbl_ApplicationParameter
add SPLessThenCPAfterDis bit
go
alter table tbl_ApplicationParameter
add PaymentRecWise_Emp_OBCommission bit
go
alter table tbl_ApplicationParameter
add MultiplePOS bit
go
CREATE TABLE [dbo].[tbl_PaymentWiseCommission](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[Payment_ID] [numeric](18, 0) NOT NULL,
	[Account_ID] [numeric](18, 0) NULL,
	[TypeName] [varchar](50) NULL,
	[CommissionRate] [numeric](18, 2) NULL,
	[TotalCommission] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_PaymentWise_Emp_OBCom] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ID] ASC,
	[Payment_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_PaymentWiseCommission] ADD  CONSTRAINT [DF_tbl_PaymentWise_Emp_OBCom_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_ItemUnit](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ItemUnit_ID] [numeric](18, 0) NOT NULL,
	[Name] [varchar](50) NULL,
	[Type] [varchar](50) NULL,
	[Active] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_itemunit] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ItemUnit_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_ItemUnit] ADD  CONSTRAINT [DF_tbl_itemunit_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Items
add MDisPer numeric(18,2)
GO
alter table tbl_Items
add MDisRs numeric(18,2)
GO
alter table tbl_Items
add MNewSalePrice numeric(18,2)
go
update tbl_Items set MDisPer=0,MDisRs=0,MNewSalePrice=0 where 
MDisPer is null and MDisRs is null and MNewSalePrice is null
GO
ALTER TABLE tbl_Items
DROP COLUMN MemberDis
go
alter table tbl_Users
add Store_ID numeric(18,0)
go
alter table tbl_ApplicationParameter
add StoreWiseUser bit
go
alter table tbl_SalesReturn
add Freight numeric(18,2)
go
alter table tbl_TmpLedger
add Debit_Credit char(1)
go
alter table tbl_Users
add AllowSalePrice bit
go
alter table tbl_Users
add AllowItemDis bit
go
alter table tbl_Users
add AllowInvDis bit
go
alter table tbl_Users
add AllowInvTax bit
go
alter table tbl_Users
add AllowMisc bit
go
alter table tbl_ApplicationParameter
add SupplierOnSale bit
go
alter table tbl_ApplicationParameter
add CustomerOnPurchase bit
go
alter table tbl_ApplicationParameter
add ItemWithArticle bit
go
alter table tbl_items
add CostPriceBeforFreight numeric(18,2)
go
CREATE TABLE [dbo].[tbl_DailyCash](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Sr_No] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NULL,
	[Entry_Time] [datetime] NULL,
	[User_ID] [varchar](50) NULL,
	[POS] [varchar](50) NULL,
	[N5000] [numeric](18, 0) NULL,
	[N1000] [numeric](18, 0) NULL,
	[N500] [numeric](18, 0) NULL,
	[N100] [numeric](18, 0) NULL,
	[N50] [numeric](18, 0) NULL,
	[N20] [numeric](18, 0) NULL,
	[N10] [numeric](18, 0) NULL,
	[N5] [numeric](18, 0) NULL,
	[N2] [numeric](18, 0) NULL,
	[N1] [numeric](18, 0) NULL,
	[Total] [numeric](18, 0) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_DailyCash] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Sr_No] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_DailyCash] ADD  CONSTRAINT [DF_tbl_DailyCash_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Items
add Months numeric(18,0)
go
update tbl_Items set  Months=0 where Months is null
go
alter table tbl_TmpStockActivity
add TransIn numeriC(18,2)
go
alter table tbl_TmpStockActivity
add TransOut numeriC(18,2)
go
alter table tbl_CashAdjustment
add AdjustmentType varchar(50)
go
alter table tbl_ApplicationParameter
add RawItem bit
go
CREATE TABLE [dbo].[tbl_Recipe](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Recipe_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 4) NULL,
	[Status] [varchar](50) NULL,
	[Total] [numeric](18, 4) NULL,
 CONSTRAINT [PK_Recipe] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Recipe_ID] ASC,
	[Item_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_Recipe] ADD  CONSTRAINT [DF_tbl_Recipe_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_RecipeDetail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Recipe_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[RawItem_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 4) NOT NULL,
	[Price] [numeric](18, 4) NULL,
	[SubTotal] [numeric](18, 4) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_RecipeDetail_1] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Recipe_ID] ASC,
	[Detail_ID] ASC,
	[Item_ID] ASC,
	[RawItem_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_RecipeDetail] ADD  CONSTRAINT [DF_tbl_RecipeDetail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_Production](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Production_ID] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NULL,
	[Create_Time] [datetime] NULL,
	[Remarks] [varchar](max) NULL,
	[Closed] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Production] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Production_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_Production] ADD  CONSTRAINT [DF_tbl_Production_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_Production_Consume](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Production_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[RawItem_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 4) NULL,
	[UnitCost] [numeric](18, 4) NULL,
	[Total] [numeric](18, 4) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Production_Consume] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Production_ID] ASC,
	[Item_ID] ASC,
	[RawItem_ID] ASC,
	[Detail_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_Production_Consume] ADD  CONSTRAINT [DF_tbl_Production_Consume_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO

CREATE TABLE [tbl_Production_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Production_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[UnitCost] [numeric](18, 4) NULL,
	[Qty] [numeric](18, 4) NULL,
	[Total] [numeric](18, 4) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Protection_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Production_ID] ASC,
	[Detail_ID] ASC,
	[Item_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [tbl_Production_Detail] ADD  CONSTRAINT [DF_tbl_Protection_Detail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_PurchaseLog](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Purchase_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 2) NULL,
	[Cost] [numeric](18, 2) NULL,
	[Total] [numeric](18, 2) NULL,
	[Store_ID] [numeric](18, 0) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_PurchaseLog] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Purchase_ID] ASC,
	[Detail_ID] ASC,
	[Item_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_PurchaseLog] ADD  CONSTRAINT [DF_tbl_PurchaseLog_Status]  DEFAULT ('Unsubmitted') FOR [Status]
Go
ALTER TABLE [dbo].[tbl_Nationality] ADD  CONSTRAINT [DF_tbl_Nationality_Status]  DEFAULT ('Unsubmitted') FOR [Status]
go
alter table tbl_ApplicationParameter
add UserWiseSaleList bit
go
alter table tbl_ApplicationParameter
add Warehouse bit
GO
alter table tbl_Accounts
add Store_ID NUMERIC(18,0)
go
alter table tbl_ApplicationParameter
add FontSize numeric(18,0)
go
alter table tbl_ApplicationParameter
add FontFamily varchar(100)
go
alter table tbl_ApplicationParameter
add FontStyle varchar(100)
GO
alter table tbl_Accounts
drop column Store_ID
go
alter table tbl_ApplicationParameter
add StoreWiseItemList bit
go
alter table tbl_Accounts
add Name varchar(100)
go
alter table tbl_IssueStock
add Closed bit
go
alter table tbl_IssueStockDetail
add Closed bit
go
BEGIN TRANSACTION
SET QUOTED_IDENTIFIER ON
SET ARITHABORT ON
SET NUMERIC_ROUNDABORT OFF
SET CONCAT_NULL_YIELDS_NULL ON
SET ANSI_NULLS ON
SET ANSI_PADDING ON
SET ANSI_WARNINGS ON
COMMIT
BEGIN TRANSACTION
GO
ALTER TABLE dbo.tbl_IssueStock ADD CONSTRAINT
	DF_tbl_IssueStock_Closed DEFAULT 1 FOR Closed
GO
ALTER TABLE dbo.tbl_IssueStock SET (LOCK_ESCALATION = TABLE)
GO
COMMIT
go
BEGIN TRANSACTION
SET QUOTED_IDENTIFIER ON
SET ARITHABORT ON
SET NUMERIC_ROUNDABORT OFF
SET CONCAT_NULL_YIELDS_NULL ON
SET ANSI_NULLS ON
SET ANSI_PADDING ON
SET ANSI_WARNINGS ON
COMMIT
BEGIN TRANSACTION
GO
ALTER TABLE dbo.tbl_IssueStockDetail ADD CONSTRAINT
	DF_tbl_IssueStockDetail_Closed DEFAULT 1 FOR Closed
GO
ALTER TABLE dbo.tbl_IssueStockDetail SET (LOCK_ESCALATION = TABLE)
GO
COMMIT
go
update tbl_IssueStockDetail set Closed='true' where Closed is null
go
update tbl_IssueStock set Closed='true' where Closed is null
go
/* To prevent any potential data loss issues, you should review this script in detail before running it outside the context of the database designer.*/
BEGIN TRANSACTION
SET QUOTED_IDENTIFIER ON
SET ARITHABORT ON
SET NUMERIC_ROUNDABORT OFF
SET CONCAT_NULL_YIELDS_NULL ON
SET ANSI_NULLS ON
SET ANSI_PADDING ON
SET ANSI_WARNINGS ON
COMMIT
BEGIN TRANSACTION
GO
ALTER TABLE dbo.tbl_IssueStockDetail
	DROP CONSTRAINT DF_tbl_IssueStockDetail_Status
GO
ALTER TABLE dbo.tbl_IssueStockDetail
	DROP CONSTRAINT DF_tbl_IssueStockDetail_Closed
GO
CREATE TABLE dbo.Tmp_tbl_IssueStockDetail
	(
	Location_ID numeric(18, 0) NOT NULL,
	IssueId numeric(18, 0) NOT NULL,
	DetailId numeric(18, 0) NOT NULL,
	ItemId numeric(18, 0) NOT NULL,
	Size1 numeric(18, 0) NOT NULL,
	Size2 numeric(18, 0) NOT NULL,
	FromId numeric(18, 0) NOT NULL,
	ToId numeric(18, 0) NOT NULL,
	QtyPK numeric(18, 2) NOT NULL,
	QtyPcs numeric(18, 2) NOT NULL,
	Qty numeric(18, 2) NOT NULL,
	Status varchar(50) NULL,
	Closed bit NULL,
	Auto int NOT NULL IDENTITY (1, 1)
	)  ON [PRIMARY]
GO
ALTER TABLE dbo.Tmp_tbl_IssueStockDetail SET (LOCK_ESCALATION = TABLE)
GO
ALTER TABLE dbo.Tmp_tbl_IssueStockDetail ADD CONSTRAINT
	DF_tbl_IssueStockDetail_Status DEFAULT ('Unsubmitted') FOR Status
GO
ALTER TABLE dbo.Tmp_tbl_IssueStockDetail ADD CONSTRAINT
	DF_tbl_IssueStockDetail_Closed DEFAULT ((1)) FOR Closed
GO
SET IDENTITY_INSERT dbo.Tmp_tbl_IssueStockDetail OFF
GO
IF EXISTS(SELECT * FROM dbo.tbl_IssueStockDetail)
	 EXEC('INSERT INTO dbo.Tmp_tbl_IssueStockDetail (Location_ID, IssueId, DetailId, ItemId, Size1, Size2, FromId, ToId, QtyPK, QtyPcs, Qty, Status, Closed)
		SELECT Location_ID, IssueId, DetailId, ItemId, Size1, Size2, FromId, ToId, QtyPK, QtyPcs, Qty, Status, Closed FROM dbo.tbl_IssueStockDetail WITH (HOLDLOCK TABLOCKX)')
GO
DROP TABLE dbo.tbl_IssueStockDetail
GO
EXECUTE sp_rename N'dbo.Tmp_tbl_IssueStockDetail', N'tbl_IssueStockDetail', 'OBJECT' 
GO
ALTER TABLE dbo.tbl_IssueStockDetail ADD CONSTRAINT
	PK_tbl_IssueStockDetail PRIMARY KEY CLUSTERED 
	(
	Location_ID,
	IssueId,
	DetailId,
	Auto
	) WITH( STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]

GO
COMMIT
go
/* To prevent any potential data loss issues, you should review this script in detail before running it outside the context of the database designer.*/
BEGIN TRANSACTION
SET QUOTED_IDENTIFIER ON
SET ARITHABORT ON
SET NUMERIC_ROUNDABORT OFF
SET CONCAT_NULL_YIELDS_NULL ON
SET ANSI_NULLS ON
SET ANSI_PADDING ON
SET ANSI_WARNINGS ON
COMMIT
BEGIN TRANSACTION
GO
ALTER TABLE dbo.tbl_IssueStock
	DROP CONSTRAINT DF_tbl_IssueStock_Status
GO
ALTER TABLE dbo.tbl_IssueStock
	DROP CONSTRAINT DF_tbl_IssueStock_Closed
GO
CREATE TABLE dbo.Tmp_tbl_IssueStock
	(
	Location_ID numeric(18, 0) NOT NULL,
	IssueId numeric(18, 0) NOT NULL,
	Date smalldatetime NOT NULL,
	User_ID char(100) NOT NULL,
	CreatedTime datetime NOT NULL,
	Computer varchar(200) NOT NULL,
	Remarks varchar(200) NOT NULL,
	Status varchar(50) NULL,
	Closed bit NULL,
	Auto int NOT NULL IDENTITY (1, 1)
	)  ON [PRIMARY]
GO
ALTER TABLE dbo.Tmp_tbl_IssueStock SET (LOCK_ESCALATION = TABLE)
GO
ALTER TABLE dbo.Tmp_tbl_IssueStock ADD CONSTRAINT
	DF_tbl_IssueStock_Status DEFAULT ('Unsubmitted') FOR Status
GO
ALTER TABLE dbo.Tmp_tbl_IssueStock ADD CONSTRAINT
	DF_tbl_IssueStock_Closed DEFAULT ((1)) FOR Closed
GO
SET IDENTITY_INSERT dbo.Tmp_tbl_IssueStock OFF
GO
IF EXISTS(SELECT * FROM dbo.tbl_IssueStock)
	 EXEC('INSERT INTO dbo.Tmp_tbl_IssueStock (Location_ID, IssueId, Date, User_ID, CreatedTime, Computer, Remarks, Status, Closed)
		SELECT Location_ID, IssueId, Date, User_ID, CreatedTime, Computer, Remarks, Status, Closed FROM dbo.tbl_IssueStock WITH (HOLDLOCK TABLOCKX)')
GO
DROP TABLE dbo.tbl_IssueStock
GO
EXECUTE sp_rename N'dbo.Tmp_tbl_IssueStock', N'tbl_IssueStock', 'OBJECT' 
GO
ALTER TABLE dbo.tbl_IssueStock ADD CONSTRAINT
	PK_tbl_IssueStock PRIMARY KEY CLUSTERED 
	(
	Location_ID,
	IssueId,
	Auto
	) WITH( STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]

GO
COMMIT
	go
	alter table tbl_Accounts
add ContractFrom smalldatetime
go
alter table tbl_Accounts
add ContractTo smalldatetime
go
alter table tbl_ApplicationParameter
add  Eid_Msg varchar(MAX)
go
alter table tbl_ApplicationParameter
add  Birthday_Msg varchar(MAX)
go
Alter Table tbl_ApplicationParameter
add Sale_Msg varchar(MAX)
GO
CREATE TABLE [dbo].[tbl_SmsTemplates](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Template_ID] [numeric](18, 0) NOT NULL,
	[BirthdayTemplate] [varchar](max) NULL,
	[SaleTemplate] [varchar](max) NULL,
	[EidTemplate] [varchar](max) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_SmsTemplates] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Template_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_SmsTemplates] ADD  CONSTRAINT [DF_tbl_SmsTemplates_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO

CREATE TABLE [dbo].[tbl_Owner](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Owner_ID] [numeric](18, 0) NOT NULL,
	[Name] [varchar](50) NULL,
	[Address] [varchar](max) NULL,
	[PhoneNo] [varchar](50) NULL,
	[MobileNo] [varchar](50) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Owner] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Owner_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_Owner] ADD  CONSTRAINT [DF_tbl_Owner_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_ApplicationParameter
drop column Eid_Msg
go
alter table tbl_ApplicationParameter
drop column Birthday_Msg
go
alter table tbl_ApplicationParameter
drop column Sale_Msg
go
Alter Table tbl_ApplicationParameter
add MsgSendTiming numeric(18,0)
GO
Alter Table tbl_ApplicationParameter
add TotalMsgSend  numeric(18,0)
GO
CREATE TABLE [dbo].[tbl_RequestMaterial](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[RequestMaterial_ID] [numeric](18, 0) NOT NULL,
	[Invoice_No] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NOT NULL,
	[Ref_No] [varchar](50) NOT NULL,
	[Supplier_Id] [numeric](18, 0) NOT NULL,
	[Total_Amount] [numeric](18, 2) NULL,
	[Item_Discount] [numeric](18, 2) NULL,
	[Item_Tax] [numeric](18, 2) NULL,
	[Gross_Total] [numeric](18, 2) NULL,
	[Invoice_DisPer] [numeric](18, 2) NULL,
	[Invoice_TaxPer] [numeric](18, 2) NULL,
	[Invoice_Dis_Rs] [numeric](18, 2) NULL,
	[Invoice_Tax_Rs] [numeric](18, 2) NULL,
	[Misc] [numeric](18, 2) NULL,
	[Freight] [numeric](18, 2) NULL,
	[Net_Total] [numeric](18, 2) NULL,
	[Remarks] [varchar](200) NOT NULL,
	[Created_Time] [datetime] NOT NULL,
	[User_ID] [varchar](100) NOT NULL,
	[Computer] [varchar](100) NOT NULL,
	[Converted] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_RequestMaterial] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[RequestMaterial_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_RequestMaterial] ADD  CONSTRAINT [DF_tbl_RequestMaterial_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO


CREATE TABLE [dbo].[tbl_RequestMaterial_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[RequestMaterial_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 2) NOT NULL,
	[Price] [numeric](18, 2) NOT NULL,
	[Sub_Total] [numeric](18, 2) NOT NULL,
	[Dis_Per] [numeric](18, 2) NOT NULL,
	[Dis_Rs] [numeric](18, 2) NOT NULL,
	[Tax_Per] [numeric](18, 2) NOT NULL,
	[Tax_Rs] [numeric](18, 2) NOT NULL,
	[Total] [numeric](18, 2) NOT NULL,
	[Size1] [numeric](18, 0) NOT NULL,
	[Size2] [numeric](18, 0) NOT NULL,
	[StoreId] [numeric](18, 0) NOT NULL,
	[BatchNo] [varchar](100) NULL,
	[Expiry] [smalldatetime] NULL,
	[QtyPK] [numeric](18, 2) NULL,
	[QtyPcs] [numeric](18, 2) NULL,
	[Store] [varchar](100) NULL,
	[SquareMeter] [numeric](18, 2) NULL,
	[PcsSalePrice] [numeric](18, 2) NULL,
	[PackSalePrice] [numeric](18, 2) NULL,
	[PackCostPrice] [numeric](18, 2) NULL,
	[CostPriceAfterDisTax] [numeric](18, 2) NULL,
	[Freight] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_RequestMaterial_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Detail_ID] ASC,
	[RequestMaterial_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_RequestMaterial_Detail] ADD  CONSTRAINT [DF_tbl_RequestMaterial_Detail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_ApplicationParameter
add EPR_OnlyPaySalery bit
go
alter table tbl_Purchases_Tmp
add  FromRequestMaterial bit
go
alter table tbl_Purchases
add  FromRequestMaterial bit
go
CREATE TABLE [dbo].[tbl_ProductionIssueStock](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ProductionIssue_ID] [numeric](18, 0) NOT NULL,
	[Date] [smalldatetime] NOT NULL,
	[CreatedTime] [datetime] NOT NULL,
	[User_ID] [char](100) NOT NULL,
	[Computer] [varchar](200) NOT NULL,
	[Remarks] [varchar](200) NULL,
	[Status] [varchar](50) NULL,
	[Closed] [bit] NULL,
 CONSTRAINT [PK_tbl_ProductionIssueStock] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ProductionIssue_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_ProductionIssueStock] ADD  CONSTRAINT [DF_tbl_ProductionIssueStock_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_ProductionIssueStockDetail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ProductionIssue_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Size1] [numeric](18, 0) NOT NULL,
	[Size2] [numeric](18, 0) NOT NULL,
	[From_ID] [numeric](18, 0) NOT NULL,
	[To_ID] [numeric](18, 0) NOT NULL,
	[QtyPK] [numeric](18, 2) NOT NULL,
	[QtyPcs] [numeric](18, 2) NOT NULL,
	[Qty] [numeric](18, 2) NOT NULL,
	[Status] [varchar](50) NULL,
	[Closed] [bit] NULL,
 CONSTRAINT [PK_tbl_ProductionIssueStockDetail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ProductionIssue_ID] ASC,
	[Detail_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_ProductionIssueStockDetail] ADD  CONSTRAINT [DF_tbl_ProductionIssueStockDetail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_ProductionMember](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ProductionMember_ID] [numeric](18, 0) NOT NULL,
	[Name] [varchar](50) NULL,
	[Active] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_ProductionMember] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ProductionMember_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_ProductionMember] ADD  CONSTRAINT [DF_tbl_ProductionMember_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_ProductionMemberStock](
	[Location_ID] [numeric](18, 0) NULL,
	[ProductionMember_ID] [numeric](18, 0) NULL,
	[Item_ID] [numeric](18, 0) NULL,
	[Qty] [numeric](18, 4) NULL,
	[Status] [varchar](50) NULL
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_ProductionMemberStock] ADD  CONSTRAINT [DF_tbl_ProductionMemberStock_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO


CREATE TABLE [dbo].[tbl_ProductionReceiving](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ProductionReceiving_ID] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NULL,
	[Create_Time] [datetime] NULL,
	[Remarks] [varchar](max) NULL,
	[User_ID] CHAR(100) NOT null,
	[Computer] varchar(200) NOT null,
	[Closed] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_ProductionReceiving] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ProductionReceiving_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_ProductionReceiving] ADD  CONSTRAINT [DF_tbl_ProductionReceiving_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO


CREATE TABLE [dbo].[tbl_ProductionReceiving_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ProductionReceiving_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[From_ID] [numeric](18, 0) NOT NULL,
	[To_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[UnitCost] [numeric](18, 4) NULL,
	[Qty] [numeric](18, 4) NULL,
	[Total] [numeric](18, 4) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_ProtectionReceiving_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ProductionReceiving_ID] ASC,
	[Detail_ID] ASC,
	[Item_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_ProductionReceiving_Detail] ADD  CONSTRAINT [DF_tbl_ProtectionReceiving_Detail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO


CREATE TABLE [dbo].[tbl_ProductionReceiving_Consume](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ProductionReceiving_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[RawItem_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 4) NULL,
	[UnitCost] [numeric](18, 4) NULL,
	[Total] [numeric](18, 4) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_ProductionReceiving_Consume] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ProductionReceiving_ID] ASC,
	[Item_ID] ASC,
	[RawItem_ID] ASC,
	[Detail_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_ProductionReceiving_Consume] ADD  CONSTRAINT [DF_tbl_ProductionReceiving_Consume_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Users
add SaleFinishListAccess bit
go
CREATE TABLE [dbo].[tbl_OnlineStoreStock](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Screen_ID] NUMERIC(18,0) NOT NULL,
	[ScreenName] varchar(50) NOT NULL,
	[Store_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 2) NOT NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_OnlineStoreStock] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
		[Screen_ID] asc,
	[ScreenName] asc,
	[Item_ID] ASC,
	[Store_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_OnlineStoreStock] ADD  CONSTRAINT [DF_tbl_OnlineStoreStock_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_ShopSales](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Sales_ID] [numeric](18, 0) NOT NULL,
	[Invoice_No] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NOT NULL,
	[Customer_ID] [numeric](18, 0) NOT NULL,
	[Salesman_ID] [numeric](18, 0) NULL,
	[Is_Regular_Customer] [bit] NULL,
	[Total_Amount] [numeric](18, 2) NULL,
	[Item_Dis] [numeric](18, 2) NULL,
	[Gross_Total] [numeric](18, 2) NULL,
	[InvDis_Per] [numeric](18, 2) NOT NULL,
	[InvTax_Per] [numeric](18, 2) NOT NULL,
	[InvDis_Rs] [numeric](18, 2) NULL,
	[InvTax_Rs] [numeric](18, 2) NULL,
	[Misc] [numeric](18, 2) NULL,
	[Net_Total] [numeric](18, 2) NULL,
	[Remarks] [varchar](200) NOT NULL,
	[Inv_Time] [datetime] NOT NULL,
	[User_ID] [varchar](100) NOT NULL,
	[Computer] [varchar](100) NOT NULL,
	[Payment] [numeric](18, 2) NULL,
	[Balance] [numeric](18, 2) NULL,
	[Tmp_Paid] [numeric](18, 2) NULL,
	[Payment_Mode] [varchar](50) NULL,
	[Bank_ID] [numeric](18, 0) NULL,
	[PreBalance] [numeric](18, 2) NULL,
	[InvBalance] [numeric](18, 2) NULL,
	[FromQuotation] [bit] NULL,
	[OrderBroker_ID] [numeric](18, 0) NULL,
	[InvDis2_Per] [numeric](18, 2) NULL,
	[InvDis2_Rs] [numeric](18, 2) NULL,
	[Freight] [numeric](18, 2) NULL,
	[CreditNote] [numeric](18, 0) NULL,
	[FinishCreditNote] [bit] NULL,
	[RefCreditNote] [numeric](18, 0) NULL,
	[EmployeeCommissionPay] [bit] NULL,
	[OrderBookerCommissionPay] [bit] NULL,
	[DeductionPer] [numeric](18, 2) NULL,
	[DeductionAmount] [numeric](18, 2) NULL,
	[CreditCardTotal] [numeric](18, 2) NULL,
	[ScaleEmpComBalCal] [bit] NULL,
	[EmpCommissionRate] [numeric](18, 2) NULL,
	[EmpTotalCommission] [numeric](18, 2) NULL,
	[OBCommissionRate] [numeric](18, 2) NULL,
	[OBTotalCommission] [numeric](18, 2) NULL,
	[Token_No] [numeric](18, 0) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_ShopSales] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Sales_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_ShopSales] ADD  CONSTRAINT [DF_tbl_ShopSales_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO

CREATE TABLE [dbo].[tbl_ShopSales_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Sales_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 2) NOT NULL,
	[Price] [numeric](18, 2) NOT NULL,
	[Sub_Total] [numeric](18, 2) NOT NULL,
	[Dis_Per] [numeric](18, 2) NOT NULL,
	[Dis_Rs] [numeric](18, 2) NOT NULL,
	[Total] [numeric](18, 2) NOT NULL,
	[Size1] [numeric](18, 0) NOT NULL,
	[Size2] [numeric](18, 0) NOT NULL,
	[Store_ID] [numeric](18, 0) NOT NULL,
	[Cost_Price] [numeric](18, 2) NULL,
	[Store_Name] [varchar](100) NULL,
	[QtyPK] [numeric](18, 2) NULL,
	[QtyPcs] [numeric](18, 2) NULL,
	[SquareMeter] [numeric](18, 2) NULL,
	[AvgCost] [numeric](18, 2) NULL,
	[EmpCommissionRate] [numeric](18, 2) NULL,
	[EmpTotalCommission] [numeric](18, 2) NULL,
	[OBCommissionRate] [numeric](18, 2) NULL,
	[OBTotalCommission] [numeric](18, 2) NULL,
	[Dis2_Per] [numeric](18, 2) NULL,
	[Dis2_Rs] [numeric](18, 2) NULL,
	[SchemQty] [numeric](18, 2) NULL,
	[TotalCommission] [numeric](18, 2) NULL,
	[DonationCommissionRate] [numeric](18, 2) NULL,
	[DonationCommissionAmount] [numeric](18, 2) NULL,
	[OwnCommissionRate] [numeric](18, 2) NULL,
	[OwnCommissionAmount] [numeric](18, 2) NULL,
	[PartyCommissionRate] [numeric](18, 2) NULL,
	[PartyCommissionAmount] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_ShopSales_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Detail_ID] ASC,
	[Sales_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_ShopSales_Detail] ADD  CONSTRAINT [DF_tbl_ShopSales_Detail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_ShopIssueStock](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[IssueId] [numeric](18, 0) NOT NULL,
	[Date] [smalldatetime] NOT NULL,
	[User_ID] [char](100) NOT NULL,
	[CreatedTime] [datetime] NOT NULL,
	[Computer] [varchar](200) NOT NULL,
	[Remarks] [varchar](200) NOT NULL,
	[Status] [varchar](50) NULL,
	[Closed] [bit] NULL,
	[Auto] [int] IDENTITY(1,1) NOT NULL,
 CONSTRAINT [PK_tbl_ShopIssueStock] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[IssueId] ASC,
	[Auto] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_ShopIssueStock] ADD  CONSTRAINT [DF_tbl_ShopIssueStock_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
ALTER TABLE [dbo].[tbl_ShopIssueStock] ADD  CONSTRAINT [DF_tbl_ShopIssueStock_Closed]  DEFAULT ((1)) FOR [Closed]
GO
CREATE TABLE [dbo].[tbl_ShopIssueStockDetail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[IssueId] [numeric](18, 0) NOT NULL,
	[DetailId] [numeric](18, 0) NOT NULL,
	[ItemId] [numeric](18, 0) NOT NULL,
	[Size1] [numeric](18, 0) NOT NULL,
	[Size2] [numeric](18, 0) NOT NULL,
	[FromId] [numeric](18, 0) NOT NULL,
	[ToId] [numeric](18, 0) NOT NULL,
	[QtyPK] [numeric](18, 2) NOT NULL,
	[QtyPcs] [numeric](18, 2) NOT NULL,
	[Qty] [numeric](18, 2) NOT NULL,
	[Status] [varchar](50) NULL,
	[Closed] [bit] NULL,
	[Auto] [int] IDENTITY(1,1) NOT NULL,
 CONSTRAINT [PK_tbl_ShopIssueStockDetail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[IssueId] ASC,
	[DetailId] ASC,
	[Auto] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_ShopIssueStockDetail] ADD  CONSTRAINT [DF_tbl_ShopIssueStockDetail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
ALTER TABLE [dbo].[tbl_ShopIssueStockDetail] ADD  CONSTRAINT [DF_tbl_ShopIssueStockDetail_Closed]  DEFAULT ((1)) FOR [Closed]
GO
alter table tbl_ApplicationParameter
add ShowTerritory bit
go
alter table tbl_ApplicationParameter
add ItemSortByName bit
go
alter table tbl_Accounts 
add OrderBooker_ID numeric(18,0)
go
alter table tbl_Sales_Detail
add Remarks varchar(max)
go
alter table tbl_ApplicationParameter
add ItemNotFoundMsg bit
go
alter table tbl_ApplicationParameter
add InstalmentCustomer bit
go
alter table tbl_Accounts
add InstalmentCustomer bit
go
alter table tbl_Accounts
add InstalmentAmount numeric(18,2)
go
alter table tbl_Accounts
add InstalmentPeriod varchar(50)
go
CREATE TABLE [dbo].[tbl_Witness](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Witness_ID] [numeric](18, 0) NOT NULL,
	[Customer_ID] [numeric](18, 0) NOT NULL,
	[Name] [varchar](50) NULL,
	[FatherName] [varchar](50) NULL,
	[Address] [varchar](max) NULL,
	[PhoneNo] [varchar](50) NULL,
	[MobileNo] [varchar](50) NULL,
	[CNIC] [varchar](50) NULL,
	[User_ID] [varchar](50) NULL,
	[Computer] [varchar](50) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Witness_1] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Witness_ID] ASC,
	[Customer_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_Witness] ADD  CONSTRAINT [DF_tbl_Witness_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_SetItemPriceHistory](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[Item_ID] [numeric](18, 0) NULL,
	[CostPrice] [numeric](18, 2) NULL,
	[AvgCostPrice] [numeric](18, 2) NULL,
	[SalePrice] [numeric](18, 2) NULL,
	[NewCostPrice] [numeric](18, 2) NULL,
	[NewAvgCostPrice] [numeric](18, 2) NULL,
	[NewSalePrice] [numeric](18, 2) NULL,
	[CreatedTime] [datetime] NULL,
	[CreatedDate] [smalldatetime] NULL,
	[User_ID] [varchar](50) NULL,
	[Computer] [varchar](50) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_SetItemPriceHistory] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_SetItemPriceHistory] ADD  CONSTRAINT [DF_tbl_SetItemPriceHistory_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_ItemBarcodePrint
add UrduName nvarchar(500)
go
alter table tbl_ItemBarcodePrint
add RetailPrice numeric(18,2)
go
alter table tbl_SmsTemplates
add SaleMsgDisTemplate varchar(max)
go
alter table tbl_SmsTemplates
add PaymentReceivingTemplate varchar(max)
go
alter table tbl_Payment
add CheckDate smalldatetime
go
alter table tbl_Payment
add PayModeDescripton varchar(500)
GO

CREATE TABLE [dbo].[tbl_CustomerBalAdj](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Adj_ID] [numeric](18, 0) NOT NULL,
	[Customer_ID] [numeric](18, 0) NULL,
	[Dated] [smalldatetime] NULL,
	[CreatedTime] [datetime] NULL,
	[Type] [varchar](50) NULL,
	[PreBalance] [numeric](18, 2) NULL,
	[Amount] [numeric](18, 2) NULL,
	[NewBalance] [numeric](18, 2) NULL,
	[Description] [varchar](max) NULL,
	[User_ID] [varchar](50) NULL,
	[Computer] [varchar](50) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_CustomerBalAdj] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Adj_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_CustomerBalAdj] ADD  CONSTRAINT [DF_tbl_CustomerBalAdj_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO

alter table tbl_ApplicationParameter
add HeavyItemList bit
go
alter table tbl_Sales
add Finished bit
go
ALTER TABLE [dbo].[tbl_Sales] ADD CONSTRAINT [DF_tbl_Sales_Finished]  DEFAULT ('false') FOR [Finished]
go
update tbl_Sales set Finished='true' where Finished is null
go
CREATE TABLE [dbo].[tbl_Instalments](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Instalment_ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[Customer_ID] [numeric](18, 0) NOT NULL,
	[InstalmentDate] [smalldatetime] NULL,
	[InstalmentAmount] [numeric](18, 2) NULL,
	[User_ID] [varchar](50) NULL,
	[Computer] [varchar](50) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Instalments] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Instalment_ID] ASC,
	[Customer_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_Instalments] ADD  CONSTRAINT [DF_tbl_Instalments_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Accounts
drop column InstalmentAmount 
go
alter table tbl_Accounts
drop column InstalmentPeriod
go
sp_rename 'tbl_Accounts.Company','PassportNo','Column'
go
sp_rename 'tbl_Accounts.Supplier','ShoppingCardNo','Column'
go
sp_rename 'tbl_Accounts.Model','PlaceofIssue','Column'
go
alter table tbl_ApplicationParameter
add DutyFree bit
go
alter table tbl_Items_Main
add Size1Weight numeric(18,2)
go
alter table tbl_Items_Main
add Size2Weight numeric(18,2)
go
alter table tbl_Items_Main
add Size1Unit varchar(20)
go
alter table tbl_Items_Main
add Size2Unit varchar(20)
go
alter table tbl_Items
add Manufacturing smalldatetime
go
alter table tbl_Sales_Detail_Tmp
add C_Duty numeric(18,2)
go
alter table tbl_Sales_Detail_Tmp
add Sale_Tax numeric(18,2)
go
alter table tbl_Sales_Detail
add C_Duty numeric(18,2)
go
alter table tbl_Sales_Detail
add Sale_Tax numeric(18,2)
GO
alter table tbl_Sales_Detail
add W_H numeric(18,2)
GO
alter table tbl_Sales_Detail_Tmp
add W_H numeric(18,2)
go
alter table tbl_Purchase_Detail_Tmp
add AccessValue numeric(18,2)
go
alter table tbl_Purchase_Detail_Tmp
add TotalAccessValue numeric(18,2)
go
alter table tbl_Purchase_Detail
add AccessValue numeric(18,2)
go
alter table tbl_Purchase_Detail
add TotalAccessValue numeric(18,2)
go
alter table tbl_ApplicationParameter
add DollarRate numeric(18,2)
go
alter table tbl_Sales_Detail_Tmp
add DollarRate numeric(18,2)
go
alter table tbl_Sales_Detail
add DollarRate numeric(18,2)
go
alter table tbl_Sales_Detail
add Tax_Per numeric(18,2)
go
alter table tbl_Sales_Detail
add Tax_Rs numeric(18,2)
go
alter table tbl_Sales
add Item_Tax numeric(18,2)
GO
CREATE TABLE [dbo].[tbl_CustomerDailySheet](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[Customer_ID] [numeric](18, 0) NULL,
	[CustomerName] [varchar](100) NULL,
	[NewBill] [numeric](18, 2) NULL,
	[ReturnBill] [numeric](18, 2) NULL,
	[Discount] [numeric](18, 2) NULL,
	[PreBalance] [numeric](18, 2) NULL,
	[Total] [numeric](18, 2) NULL,
	[Payment] [numeric](18, 2) NULL,
	[Balance] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_CustomerDailySheet] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_CustomerDailySheet] ADD  CONSTRAINT [DF_tbl_CustomerDailySheet_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Accounts
add DutyFreeAllowance NUMERIC(18,2)
go

alter table tbl_Sales_Detail
add ITPAssesedValue numeric(18,4)
go
sp_rename 'tbl_Sales_Detail.DollarRate','ITPAssesedValue','Column'
go
sp_rename 'tbl_Sales_Detail_Tmp.DollarRate','ITPAssesedValue','Column'
go
ALTER TABLE tbl_Sales_Detail
ALTER COLUMN Price numeric(18,4)
go
ALTER TABLE tbl_Sales_Detail
ALTER COLUMN Sub_Total numeric(18,4)
go
ALTER TABLE tbl_Sales_Detail
ALTER COLUMN Total numeric(18,4)
go
ALTER TABLE tbl_Sales_Detail_Tmp
ALTER COLUMN Price numeric(18,4)
go
ALTER TABLE tbl_Sales_Detail_Tmp
ALTER COLUMN Sub_Total numeric(18,4)
go
ALTER TABLE tbl_Sales_Detail_Tmp
ALTER COLUMN Total numeric(18,4)
go

alter table tbl_Sales_Detail
add SingleItemDis numeric(18,2)
go
alter table tbl_Purchases
add IssueInv bit
go
alter table tbl_Sales_Detail_Tmp
add ImportValue numeric(18,4)
go
alter table tbl_Sales_Detail_Tmp
add TotalImportValue numeric(18,4)
go
alter table tbl_Sales_Detail_Tmp
add TotalITPAssesedValue numeric(18,4)
go
alter table tbl_Sales_Detail
add ImportValue numeric(18,4)
go
alter table tbl_Sales_Detail
add TotalImportValue numeric(18,4)
go
alter table tbl_Sales_Detail
add TotalITPAssesedValue numeric(18,4)
go
alter table tbl_Sales_Detail_Tmp
add QtyPK numeric(18,2)
go
alter table tbl_Sales_Detail_Tmp
add QtyPcs numeric(18,2)
go
ALTER TABLE tbl_Items
ALTER COLUMN CompanyPrice numeric(18,4)
go
ALTER TABLE tbl_Items
ALTER COLUMN WholeSalePrice numeric(18,4)
go
ALTER TABLE tbl_Items
ALTER COLUMN Purchase_Price numeric(18,4)
go
ALTER TABLE tbl_Items
ALTER COLUMN Sale_Price numeric(18,4)
go
ALTER TABLE tbl_Items
ALTER COLUMN CostPriceAfterDisTax numeric(18,4)
go
ALTER TABLE tbl_Items
ALTER COLUMN AvgCost numeric(18,4)
go
alter table tbl_CustomerDailySheet
add Employee_ID numeric(18,0)
go
alter table tbl_CustomerDailySheet
add Employee varchar(200)
go
alter table tbl_CustomerDailySheet
add OrderBooker_ID numeric(18,0)
go
alter table tbl_CustomerDailySheet
add OrderBooker varchar(200)
go
alter table tbl_Purchase_Detail_Tmp
add ImportValue	numeric(18,4)
go
alter table tbl_Purchase_Detail
add ImportValue	numeric(18,4)
go
ALTER TABLE tbl_Purchase_Detail
ALTER COLUMN Price numeric(18,4)
go
ALTER TABLE tbl_Purchase_Detail
ALTER COLUMN Sub_Total numeric(18,4)
go
ALTER TABLE tbl_Purchase_Detail
ALTER COLUMN Total numeric(18,4)
go
ALTER TABLE tbl_Purchase_Detail
ALTER COLUMN PcsSalePrice numeric(18,4)
go
ALTER TABLE tbl_Purchase_Detail
ALTER COLUMN PackSalePrice numeric(18,4)
go
ALTER TABLE tbl_Purchase_Detail
ALTER COLUMN PackCostPrice numeric(18,4)
go
ALTER TABLE tbl_Purchase_Detail
ALTER COLUMN CostPriceAfterDisTax numeric(18,4)
go
ALTER TABLE tbl_Purchase_Detail_Tmp
ALTER COLUMN Price numeric(18,4)
go
ALTER TABLE tbl_Purchase_Detail_Tmp
ALTER COLUMN Sub_Total numeric(18,4)
go
ALTER TABLE tbl_Purchase_Detail_Tmp
ALTER COLUMN Total numeric(18,4)
go
ALTER TABLE tbl_Purchase_Detail_Tmp
ALTER COLUMN PcsSalePrice numeric(18,4)
go
ALTER TABLE tbl_Purchase_Detail_Tmp
ALTER COLUMN PackSalePrice numeric(18,4)
go
ALTER TABLE tbl_Purchase_Detail_Tmp
ALTER COLUMN PackCostPrice numeric(18,4)
go
ALTER TABLE tbl_Purchase_Detail_Tmp
ALTER COLUMN CostPriceAfterDisTax numeric(18,4)
go
alter table tbl_Purchase_Detail
add DollorRate numeric(18,4)
go
alter table tbl_Purchase_Detail_Tmp
add DollorRate numeric(18,4)
go
alter table tbl_SalesReturn
add ConvertFromSale bit
go
update tbl_SalesReturn set ConvertFromSale='false' where ConvertFromSale is null
go
alter table tbl_Sales
add ConvertedToSaleReturn bit
go
CREATE TABLE [dbo].[tbl_CurrentStockPosition](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[Item_ID] [numeric](18, 0) NULL,
	[PurchaseCtns] [numeric](18, 2) NULL,
	[PurchasePcs] [numeric](18, 2) NULL,
	[PurchaseQty] [numeric](18, 2) NULL,
	[SaleCtns] [numeric](18, 2) NULL,
	[SalePcs] [numeric](18, 2) NULL,
	[SaleQty] [numeric](18, 2) NULL,
	[CurrentCtns] [numeric](18, 2) NULL,
	[CurrentPcs] [numeric](18, 2) NULL,
	[CurrentQty] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_CurrentStockPosition] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_CurrentStockPosition] ADD  CONSTRAINT [DF_tbl_CurrentStockPosition_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Items
add PageNo numeric(18,0)
go
alter table tbl_TmpLedger
add Size1 numeric(18,4)
go
alter table tbl_TmpLedger
add Size2 numeric(18,4)
go
alter table tbl_ApplicationParameter
 add AttendanceModule bit
 go
alter table tbl_Accounts
add Allowances numeric(18,2)
go
alter table tbl_Accounts
add BloodGroup_ID NUMERIC(18,0)
go
alter table tbl_Accounts
add F_DutyTime datetime
go
alter table tbl_Accounts
add T_DutyTime datetime
go
alter table tbl_Accounts
add LateTimeLimit numeric(18,0)
go
alter table tbl_Accounts
add OffDay varchar(20)
go
alter table tbl_Accounts
add F_BreakTime datetime
go
alter table tbl_Accounts
add T_BreakTime datetime
go
CREATE TABLE [dbo].[tbl_EmployeeAdvPay](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Adv_ID] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NULL,
	[Timing] [datetime] NULL,
	[Employee_ID] [numeric](18, 0) NULL,
	[TypeName] [varchar](50) NULL,
	[Advance] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_EmployeeAdvPay] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Adv_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_EmployeeAdvPay] ADD  CONSTRAINT [DF_tbl_EmployeeAdvPay_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_ApplicationParameter
add MandatoryPocketMoney bit
go
alter table tbl_EmpAttendance
add PacketMoney numeric(18,2)
go
alter table tbl_EmplyeePayRoll
add Advance numeric(18,2)
GO
CREATE TABLE [dbo].[tbl_EmployeeLeaves](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Leave_ID] [numeric](18, 0) NOT NULL,
	[Month] [varchar](50) NULL,
	[CreatedDate] [smalldatetime] NULL,
	[CreatedTime] [datetime] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_EmployeeLeaves] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Leave_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_EmployeeLeaves] ADD  CONSTRAINT [DF_tbl_EmployeeLeaves_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_EmployeeLeavesDetail](
	[Location_ID] [numeric](18, 0) NULL,
	[Leave_ID] [numeric](18, 0) NULL,
	[Detail_ID] [numeric](18, 0) NULL,
	[Employee_ID] [numeric](18, 0) NULL,
	[FromDate] [smalldatetime] NULL,
	[ToDate] [smalldatetime] NULL,
	[TotalLeave] [numeric](18, 0) NULL,
	[LeaveType] [varchar](50) NULL,
	[Reason] [varchar](max) NULL,
	[Status] [varchar](50) NULL
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_EmployeeLeavesDetail] ADD  CONSTRAINT [DF_tbl_EmployeeLeavesDetail_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO

alter table tbl_EmplyeePayRoll
add UnPaidLeave numeric(18,0)
go
alter table tbl_EmplyeePayRoll
add UnPaidLeaveRs numeric(18,2)

go
ALTER TABLE tbl_Payment
ALTER COLUMN CreatedTime datetime
go

 alter table tbl_Sales 
add ConvertFromSaleReturn bit
go
alter table tbl_SalesReturn
add ConvertToSale bit
go
alter table tbl_TmpLedger
add OrderBy varchar(50)
go
alter table tbl_Purchase_Detail_Tmp
add IMEINo numeric(18,0)
go
alter table tbl_Purchase_Detail
add IMEINo numeric(18,0)
go
update tbl_Purchase_Detail_Tmp set IMEINo=0 where IMEINo  is null
go
update tbl_Purchase_Detail set IMEINo=0 where IMEINo  is null
GO
alter table tbl_ApplicationParameter
add ItemMultiIMEINo BIT
go
alter table tbl_Sales_Detail
add IMEINo numeric(18,0)
go
update tbl_Sales_Detail set IMEINo=0 where IMEINo  is null
go
alter table tbl_ApplicationParameter
add CombineSMSSend bit
GO
alter table tbl_ApplicationParameter
add SndSMSThroughDevice bit
GO
alter table tbl_ApplicationParameter
add SndSMSThroughAPI bit
go
alter table tbl_ApplicationParameter
add APIUserName varchar(100)
go
alter table tbl_ApplicationParameter
add APIPassword varchar(200)
go

alter table tbl_ExpenseEntry
add RecPay char(1)
go

update tbl_ExpenseEntry set RecPay='P' WHERE RecPay is null
go
alter table tbl_ApplicationParameter
add ShowPrintSizePopUp bit
go
CREATE TABLE [dbo].[tbl_TemporaryContact](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[Contact] [varchar](50) NULL,
	[TypeName] [char](1) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_TemporaryContact] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_TemporaryContact] ADD  CONSTRAINT [DF_tbl_TemporaryContact_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO

alter table tbl_Sales_Tmp
add TmpContactNo varchar(50)
go
alter table tbl_Sales
add TmpContactNo varchar(50)
go
alter table tbl_DailyClosingStock
add Timing datetime
go
CREATE TABLE [dbo].[tbl_ShiftCash](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Sr_No] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NULL,
	[Entry_Time] [datetime] NULL,
	[User_ID] [varchar](50) NULL,
	[POS] [varchar](50) NULL,
	[N5000] [numeric](18, 0) NULL,
	[N1000] [numeric](18, 0) NULL,
	[N500] [numeric](18, 0) NULL,
	[N100] [numeric](18, 0) NULL,
	[N50] [numeric](18, 0) NULL,
	[N20] [numeric](18, 0) NULL,
	[N10] [numeric](18, 0) NULL,
	[N5] [numeric](18, 0) NULL,
	[N2] [numeric](18, 0) NULL,
	[N1] [numeric](18, 0) NULL,
	[Total] [numeric](18, 0) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_ShiftCash] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Sr_No] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_ShiftCash] ADD  CONSTRAINT [DF_tbl_ShiftCash_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO


CREATE TABLE [dbo].[tbl_ShiftClosingStock](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ItemId] [numeric](18, 0) NULL,
	[StockQty] [numeric](18, 2) NULL,
	[Cost] [numeric](18, 2) NULL,
	[Price] [numeric](18, 2) NULL,
	[Date] [smalldatetime] NULL,
	[User_ID] [varchar](50) NULL,
	[Computer] [varchar](50) NULL,
	[ID] [numeric](18, 0) NOT NULL,
	[Timing] [datetime] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_ShiftClosingStock] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_ShiftClosingStock] ADD  CONSTRAINT [DF_tbl_ShiftClosingStock_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO


alter table tbl_Sales
add SalemanSrNo numeric(18,0)
go
alter table tbl_ProductionIssueStockDetail
add To_PreQty numeric(18,2)
go
alter table tbl_ProductionIssueStockDetail
add To_NewQty numeric(18,2)
go
alter table tbl_ProductionReceiving_Detail
add To_PreQty numeric(18,2)
go
alter table tbl_ProductionReceiving_Detail
add To_NewQty numeric(18,2)
go
alter table tbl_SalesReturn_Detail
add IMEINo numeric(18,0)
go
update tbl_SalesReturn_Detail set IMEINo=0 where IMEINo  is null
go
alter table tbl_PurchaseReturn_Detail
add IMEINo numeric(18,0)
go
update tbl_PurchaseReturn_Detail set IMEINo=0 where IMEINo  is null
go
alter table tbl_Items
add PackSize_ID numeric(18,0)
go
alter table tbl_Items
add BatchNo varchar(50)
go
alter table tbl_Sales_Detail
add  SalesTaxRate numeric(18,2)
go
alter table tbl_Sales_Detail
add  ExclSalesTax numeric(18,2)
go
alter table tbl_Sales_Detail
add  InclSalesTax numeric(18,2)
go
alter table tbl_ApplicationParameter
add Pharmion bit
go
alter table tbl_ShiftClosingStock
add Store_ID numeric(18,0)
go
CREATE TABLE [dbo].[tbl_ItemIMEINo](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[IMEINo] [numeric](18, 0) NOT NULL,
	[Store_ID] [numeric](18, 0) NULL,
	[Stock] [numeric](18, 2) NULL,
 CONSTRAINT [PK_tbl_ItemIMEINo] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Item_ID] ASC,
	[IMEINo] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
CREATE TABLE [dbo].[tbl_ShiftClosingTransactions](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[Dated] [smalldatetime] NULL,
	[Timimg] [datetime] NULL,
	[EntryFrom] [varchar](max) NULL,
	[EntryNo] [numeric](18, 0) NULL,
	[Detail] [varchar](max) NULL,
	[Total] [numeric](18, 2) NULL,
	[Debit] [numeric](18, 2) NULL,
	[Credit] [numeric](18, 2) NULL,
	[Amount] [numeric](18, 2) NULL,
	[User_ID] [varchar](50) NULL,
	[Computer] [varchar](100) NULL,
 CONSTRAINT [PK_tbl_ShiftTransactionClose] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO


CREATE TABLE [dbo].[tbl_MobileBonusCard](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Customer_ID] [numeric](18, 0) NOT NULL,
	[IMEINo] [numeric](18, 0) NOT NULL,
	[Bonus] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_MobileBonusCard] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Customer_ID] ASC,
	[IMEINo] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_MobileBonusCard] ADD  CONSTRAINT [DF_tbl_MobileBonusCard_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_ApplicationParameter
add GNS BIT
go
alter table tbl_ItemIMEINo
add LP numeric(18,2)
go
alter table tbl_Sales_Detail
add LP numeric(18,2)
GO
alter table tbl_SalesReturn_Detail
add LP numeric(18,2)
go
alter table tbl_Purchase_Detail_Tmp
add LP numeric(18,2)
go
alter table tbl_Purchase_Detail
add LP numeric(18,2)
GO
alter table tbl_PurchaseReturn_Detail
add LP numeric(18,2)
go
alter table tbl_Items
add LP numeric(18,2)
GO
UPDATE tbl_Items set LP=0 where LP is NULL
go
alter table tbl_ApplicationParameter
add MaintainItemListSearchName bit
go
update tbl_Sales_Detail set SchemQty=0 where SchemQty is null
go
update tbl_Accounts set ShoppingCardNo=0 where ShoppingCardNo='-'
go
update tbl_Accounts set ShoppingCardNo=0 where ShoppingCardNo is null
go
ALTER TABLE tbl_Accounts
ALTER COLUMN ShoppingCardNo numeric(18,0)
go
update tbl_Items set PageNo=0 where PageNo is null
go


CREATE TABLE [dbo].[tbl_SaleDeliveryChallan](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[DeliveryChallan_ID] [numeric](18, 0) NOT NULL,
	[Invoice_No] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NOT NULL,
	[Inv_Time] [datetime] NOT NULL,
	[Is_Regular_Customer] [bit] NULL,
	[Customer_ID] [numeric](18, 0) NOT NULL,
	[Salesman_ID] [numeric](18, 0) NULL,
	[Total_Amount] [numeric](18, 2) NULL,
	[Item_Dis] [numeric](18, 2) NULL,
	[Gross_Total] [numeric](18, 2) NULL,
	[InvDis_Per] [numeric](18, 2) NOT NULL,
	[InvDis_Rs] [numeric](18, 2) NULL,
	[InvTax_Per] [numeric](18, 2) NOT NULL,
	[InvTax_Rs] [numeric](18, 2) NULL,
	[Misc] [numeric](18, 2) NULL,
	[Net_Total] [numeric](18, 2) NULL,
	[User_ID] [varchar](100) NOT NULL,
	[Computer] [varchar](100) NOT NULL,
	[Remarks] [varchar](200) NOT NULL,
	[Converted] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_SaleDeliveryChallan] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[DeliveryChallan_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
ALTER TABLE [dbo].[tbl_SaleDeliveryChallan] ADD  CONSTRAINT [DF_tbl_SaleDeliveryChallan_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_SaleDeliveryChallan_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[DeliveryChallan_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Size1] [numeric](18, 0) NOT NULL,
	[Size2] [numeric](18, 0) NOT NULL,
	[QtyPK] [numeric](18, 2) NULL,
	[QtyPcs] [numeric](18, 2) NULL,
	[Qty] [numeric](18, 2) NOT NULL,
	[Cost_Price] [numeric](18, 2) NULL,
	[Price] [numeric](18, 2) NOT NULL,
	[Sub_Total] [numeric](18, 2) NOT NULL,
	[Dis_Per] [numeric](18, 2) NOT NULL,
	[Dis_Rs] [numeric](18, 2) NOT NULL,
	[Total] [numeric](18, 2) NOT NULL,
	[AvgCost] [numeric](18, 2) NULL,
	[Store_ID] [numeric](18, 0) NOT NULL,
	[Store_Name] [varchar](100) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_DeliveryChallan_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Detail_ID] ASC,
	[DeliveryChallan_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
ALTER TABLE [dbo].[tbl_SaleDeliveryChallan_Detail] ADD  CONSTRAINT [DF_tbl_DeliveryChallan_Detail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO

alter table tbl_ApplicationParameter
add WH_To_Shop bit
go
alter table tbl_ApplicationParameter
add PakTec bit
go
alter table tbl_Sales
add Company varchar(20)
go
alter table tbl_Sales
add Bill varchar(20)
go
alter table tbl_PaymentWiseCommission
add CustomerCom numeric(18,2)
go
update tbl_Sales set Bill='Normal Sale Bill' where Bill is null or Bill=''
go
alter table tbl_ApplicationParameter
add NademPlastic bit
go
alter table tbl_ApplicationParameter
add UmarTrader bit
go
alter table  tbl_Accounts 
add  PriceType  varchar(20)
go
alter table tbl_Sales
add DeliveryChallan_ID numeric(18,0) 
go
CREATE TABLE [dbo].[tbl_PurchaseReceivingChallan](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ReceivingChallan_ID] [numeric](18, 0) NOT NULL,
	[Invoice_No] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NOT NULL,
	[Ref_No] [varchar](50) NOT NULL,
	[Supplier_Id] [numeric](18, 0) NOT NULL,
	[Total_Amount] [numeric](18, 2) NULL,
	[Item_Discount] [numeric](18, 2) NULL,
	[Item_Tax] [numeric](18, 2) NULL,
	[Gross_Total] [numeric](18, 2) NULL,
	[Invoice_DisPer] [numeric](18, 2) NULL,
	[Invoice_TaxPer] [numeric](18, 2) NULL,
	[Invoice_Dis_Rs] [numeric](18, 2) NULL,
	[Invoice_Tax_Rs] [numeric](18, 2) NULL,
	[Misc] [numeric](18, 2) NULL,
	[Freight] [numeric](18, 2) NULL,
	[Net_Total] [numeric](18, 2) NULL,
	[Remarks] [varchar](200) NOT NULL,
	[Created_Time] [datetime] NOT NULL,
	[User_ID] [varchar](100) NOT NULL,
	[Computer] [varchar](100) NOT NULL,
	[Converted] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_PurchaseReceivingChallan] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ReceivingChallan_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
CREATE TABLE [dbo].[tbl_PurchaseReceivingChallan_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ReceivingChallan_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 2) NOT NULL,
	[Price] [numeric](18, 2) NOT NULL,
	[Sub_Total] [numeric](18, 2) NOT NULL,
	[Dis_Per] [numeric](18, 2) NOT NULL,
	[Dis_Rs] [numeric](18, 2) NOT NULL,
	[Tax_Per] [numeric](18, 2) NOT NULL,
	[Tax_Rs] [numeric](18, 2) NOT NULL,
	[Total] [numeric](18, 2) NOT NULL,
	[Size1] [numeric](18, 0) NOT NULL,
	[Size2] [numeric](18, 0) NOT NULL,
	[StoreId] [numeric](18, 0) NOT NULL,
	[BatchNo] [varchar](100) NULL,
	[Expiry] [smalldatetime] NULL,
	[QtyPK] [numeric](18, 2) NULL,
	[QtyPcs] [numeric](18, 2) NULL,
	[Store] [varchar](100) NULL,
	[SquareMeter] [numeric](18, 2) NULL,
	[PcsSalePrice] [numeric](18, 2) NULL,
	[PackSalePrice] [numeric](18, 2) NULL,
	[PackCostPrice] [numeric](18, 2) NULL,
	[CostPriceAfterDisTax] [numeric](18, 2) NULL,
	[Freight] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_PurchaseReceivingChallan_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Detail_ID] ASC,
	[ReceivingChallan_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_PurchaseReceivingChallan_Detail] ADD  CONSTRAINT [DF_tbl_PurchaseReceivingChallan_Detail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Sales_Detail
add PriceBeforTax numeric(18,2)
go
alter table tbl_Sales_Detail
add Tax numeric(18,2)
go
alter table tbl_Items
Add ApplyDiscount bit
go
alter table tbl_Sales_Detail
Add ApplyDiscount bit
go
alter table tbl_SalesReturn_Detail
Add ApplyDiscount bit
go
alter table tbl_Quotations_Detail
Add ApplyDiscount bit
go
alter table tbl_Sales
add BiltyNo varchar(50)
go
alter table tbl_Sales
add Transporter varchar(50)
go
alter table tbl_ApplicationParameter
add KhurramPlastic bit
go
CREATE TABLE [dbo].[tbl_ShopSales](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Sales_ID] [numeric](18, 0) NOT NULL,
	[Invoice_No] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NOT NULL,
	[Customer_ID] [numeric](18, 0) NOT NULL,
	[Salesman_ID] [numeric](18, 0) NULL,
	[Is_Regular_Customer] [bit] NULL,
	[Total_Amount] [numeric](18, 2) NULL,
	[Item_Dis] [numeric](18, 2) NULL,
	[Gross_Total] [numeric](18, 2) NULL,
	[InvDis_Per] [numeric](18, 2) NOT NULL,
	[InvTax_Per] [numeric](18, 2) NOT NULL,
	[InvDis_Rs] [numeric](18, 2) NULL,
	[InvTax_Rs] [numeric](18, 2) NULL,
	[Misc] [numeric](18, 2) NULL,
	[Net_Total] [numeric](18, 2) NULL,
	[Remarks] [varchar](200) NOT NULL,
	[Inv_Time] [datetime] NOT NULL,
	[User_ID] [varchar](100) NOT NULL,
	[Computer] [varchar](100) NOT NULL,
	[Payment] [numeric](18, 2) NULL,
	[Balance] [numeric](18, 2) NULL,
	[Tmp_Paid] [numeric](18, 2) NULL,
	[Payment_Mode] [varchar](50) NULL,
	[Bank_ID] [numeric](18, 0) NULL,
	[PreBalance] [numeric](18, 2) NULL,
	[InvBalance] [numeric](18, 2) NULL,
	[FromQuotation] [bit] NULL,
	[OrderBroker_ID] [numeric](18, 0) NULL,
	[InvDis2_Per] [numeric](18, 2) NULL,
	[InvDis2_Rs] [numeric](18, 2) NULL,
	[Freight] [numeric](18, 2) NULL,
	[CreditNote] [numeric](18, 0) NULL,
	[FinishCreditNote] [bit] NULL,
	[RefCreditNote] [numeric](18, 0) NULL,
	[EmployeeCommissionPay] [bit] NULL,
	[OrderBookerCommissionPay] [bit] NULL,
	[DeductionPer] [numeric](18, 2) NULL,
	[DeductionAmount] [numeric](18, 2) NULL,
	[CreditCardTotal] [numeric](18, 2) NULL,
	[ScaleEmpComBalCal] [bit] NULL,
	[EmpCommissionRate] [numeric](18, 2) NULL,
	[EmpTotalCommission] [numeric](18, 2) NULL,
	[OBCommissionRate] [numeric](18, 2) NULL,
	[OBTotalCommission] [numeric](18, 2) NULL,
	[Token_No] [numeric](18, 0) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_ShopSales] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Sales_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_ShopSales] ADD  CONSTRAINT [DF_tbl_ShopSales_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Accounts
add AccountType varchar(50) 
go
update tbl_Accounts set AccountType='Local' where AccountType is null
go
alter table tbl_Items
add ItemType varchar(50) 
go
update tbl_Items set ItemType='Local' where ItemType is null
GO
alter table tbl_Purchases
add ReceivingChallan_ID NUMERIC(18,0)
go
alter table tbl_Purchases_Tmp
add ReceivingChallan_ID NUMERIC(18,0)
go
alter table tbl_SaleDeliveryChallan
add BiltyNo varchar(50)
go
alter table tbl_SaleDeliveryChallan
add Transporter varchar(50)
go
alter table tbl_Users
add LoginStatus bit
go
update tbl_Users set LoginStatus='false' where LoginStatus is null
go
update tbl_ApplicationParameter set WH_To_Shop='false' where WH_To_Shop is null
go
alter table tbl_Sales
add Station varchar(10)
go
update tbl_Sales set Station='In' where Station is null
go
alter table tbl_Accounts
add CreditLimit numeric(18,2)
go
CREATE TABLE [dbo].[tbl_SaleSchemeOffer](
	[Location_ID] [numeric](18, 0) NULL,
	[Scheme_ID] [numeric](18, 0) NULL,
	[Amount] [numeric](18, 2) NULL,
	[DisPer] [numeric](18, 2) NULL,
	[User_ID] [varchar](50) NULL,
	[Computer] [varchar](100) NULL,
	[Status] [varchar](50) NULL
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_SaleSchemeOffer] ADD  CONSTRAINT [DF_tbl_SaleSchemeOffer_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_ApplicationParameter
add SameUserLoginOnDifComputer bit
go
update tbl_ApplicationParameter set SameUserLoginOnDifComputer='true' where SameUserLoginOnDifComputer is null
go
update tbl_Accounts set CreditLimit=0 where CreditLimit is null
go
alter table tbl_Sales
add Finish bit
go
update tbl_Sales set Finish='false' where Finish is null
go
alter table tbl_ApplicationParameter
add ItemGridPcsCost  bit
go
alter table tbl_ApplicationParameter
add ItemGridPcsPrice  bit
go
alter table tbl_ApplicationParameter
add DefaultCredit bit
go
update tbl_ApplicationParameter set DefaultCredit='true' where DefaultCredit is null
go


CREATE TABLE [dbo].[tbl_DailyClosingTransactions](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[Dated] [smalldatetime] NULL,
	[Timing] [datetime] NULL,
	[User_ID] [varchar](50) NULL,
	[Computer] [varchar](100) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_DailyClosingTransactions] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_DailyClosingTransactions] ADD  CONSTRAINT [DF_tbl_DailyClosingTransactions_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Sales
Add DC_Location numeric(18,0)
go
alter table tbl_Purchases
add RC_Location numeric(18,0)
go
alter table tbl_Purchases_Tmp
add RC_Location numeric(18,0)
go

/* To prevent any potential data loss issues, you should review this script in detail before running it outside the context of the database designer.*/
BEGIN TRANSACTION
SET QUOTED_IDENTIFIER ON
SET ARITHABORT ON
SET NUMERIC_ROUNDABORT OFF
SET CONCAT_NULL_YIELDS_NULL ON
SET ANSI_NULLS ON
SET ANSI_PADDING ON
SET ANSI_WARNINGS ON
COMMIT
BEGIN TRANSACTION
GO
ALTER TABLE dbo.tbl_PurchaseReceivingChallan ADD CONSTRAINT
	DF_tbl_PurchaseReceivingChallan_Status DEFAULT 'Unsubmitted' FOR Status
GO
ALTER TABLE dbo.tbl_PurchaseReceivingChallan SET (LOCK_ESCALATION = TABLE)
GO
COMMIT
go
alter table tbl_Accounts
add HouseRent numeric(18,2)
go
alter table tbl_Accounts
add Utility numeric(18,2)
go
alter table tbl_Accounts
add Medical numeric(18,2)
go
alter table tbl_Accounts
add FixOther numeric(18,2)
go
alter table tbl_Accounts
add I_Tax numeric(18,2)
go
alter table tbl_Accounts
add ProfitFund numeric(18,2)
go
alter table tbl_Accounts
add DeductionOther numeric(18,2)
go


CREATE TABLE [dbo].[tbl_DeleteSaleDeliveryChallan](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[DeliveryChallan_ID] [numeric](18, 0) NOT NULL,
	[Invoice_No] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NOT NULL,
	[Inv_Time] [datetime] NOT NULL,
	[Is_Regular_Customer] [bit] NULL,
	[Customer_ID] [numeric](18, 0) NOT NULL,
	[Salesman_ID] [numeric](18, 0) NULL,
	[Total_Amount] [numeric](18, 2) NULL,
	[Item_Dis] [numeric](18, 2) NULL,
	[Gross_Total] [numeric](18, 2) NULL,
	[InvDis_Per] [numeric](18, 2) NOT NULL,
	[InvDis_Rs] [numeric](18, 2) NULL,
	[InvTax_Per] [numeric](18, 2) NOT NULL,
	[InvTax_Rs] [numeric](18, 2) NULL,
	[Misc] [numeric](18, 2) NULL,
	[Net_Total] [numeric](18, 2) NULL,
	[User_ID] [varchar](100) NOT NULL,
	[Computer] [varchar](100) NOT NULL,
	[Remarks] [varchar](200) NOT NULL,
	[Converted] [bit] NULL,
	[Status] [varchar](50) NULL,
	[BiltyNo] [varchar](50) NULL,
	[Transporter] [varchar](50) NULL,
 CONSTRAINT [PK_DeleteSaleDeliveryChallan] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[DeliveryChallan_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_DeleteSaleDeliveryChallan] ADD  CONSTRAINT [DF_tbl_DeleteSaleDeliveryChallan_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO



CREATE TABLE [dbo].[tbl_DeleteSaleDeliveryChallan_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[DeliveryChallan_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Size1] [numeric](18, 0) NOT NULL,
	[Size2] [numeric](18, 0) NOT NULL,
	[QtyPK] [numeric](18, 2) NULL,
	[QtyPcs] [numeric](18, 2) NULL,
	[Qty] [numeric](18, 2) NOT NULL,
	[Cost_Price] [numeric](18, 2) NULL,
	[Price] [numeric](18, 2) NOT NULL,
	[Sub_Total] [numeric](18, 2) NOT NULL,
	[Dis_Per] [numeric](18, 2) NOT NULL,
	[Dis_Rs] [numeric](18, 2) NOT NULL,
	[Total] [numeric](18, 2) NOT NULL,
	[AvgCost] [numeric](18, 2) NULL,
	[Store_ID] [numeric](18, 0) NOT NULL,
	[Store_Name] [varchar](100) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_DeleteSaleDeliveryChallan_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Detail_ID] ASC,
	[DeliveryChallan_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_DeleteSaleDeliveryChallan_Detail] ADD  CONSTRAINT [DF_tbl_DeleteSaleDeliveryChallan_Detail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO



CREATE TABLE [dbo].[tbl_DeletePurchaseReceivingChallan](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ReceivingChallan_ID] [numeric](18, 0) NOT NULL,
	[Invoice_No] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NOT NULL,
	[Ref_No] [varchar](50) NOT NULL,
	[Supplier_Id] [numeric](18, 0) NOT NULL,
	[Total_Amount] [numeric](18, 2) NULL,
	[Item_Discount] [numeric](18, 2) NULL,
	[Item_Tax] [numeric](18, 2) NULL,
	[Gross_Total] [numeric](18, 2) NULL,
	[Invoice_DisPer] [numeric](18, 2) NULL,
	[Invoice_TaxPer] [numeric](18, 2) NULL,
	[Invoice_Dis_Rs] [numeric](18, 2) NULL,
	[Invoice_Tax_Rs] [numeric](18, 2) NULL,
	[Misc] [numeric](18, 2) NULL,
	[Freight] [numeric](18, 2) NULL,
	[Net_Total] [numeric](18, 2) NULL,
	[Remarks] [varchar](200) NOT NULL,
	[Created_Time] [datetime] NOT NULL,
	[User_ID] [varchar](100) NOT NULL,
	[Computer] [varchar](100) NOT NULL,
	[Converted] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_DeletePurchaseReceivingChallan] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ReceivingChallan_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_DeletePurchaseReceivingChallan] ADD  CONSTRAINT [DF_tbl_DeletePurchaseReceivingChallan_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO



CREATE TABLE [dbo].[tbl_DeletePurchaseReceivingChallan_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ReceivingChallan_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 2) NOT NULL,
	[Price] [numeric](18, 2) NOT NULL,
	[Sub_Total] [numeric](18, 2) NOT NULL,
	[Dis_Per] [numeric](18, 2) NOT NULL,
	[Dis_Rs] [numeric](18, 2) NOT NULL,
	[Tax_Per] [numeric](18, 2) NOT NULL,
	[Tax_Rs] [numeric](18, 2) NOT NULL,
	[Total] [numeric](18, 2) NOT NULL,
	[Size1] [numeric](18, 0) NOT NULL,
	[Size2] [numeric](18, 0) NOT NULL,
	[StoreId] [numeric](18, 0) NOT NULL,
	[BatchNo] [varchar](100) NULL,
	[Expiry] [smalldatetime] NULL,
	[QtyPK] [numeric](18, 2) NULL,
	[QtyPcs] [numeric](18, 2) NULL,
	[Store] [varchar](100) NULL,
	[SquareMeter] [numeric](18, 2) NULL,
	[PcsSalePrice] [numeric](18, 2) NULL,
	[PackSalePrice] [numeric](18, 2) NULL,
	[PackCostPrice] [numeric](18, 2) NULL,
	[CostPriceAfterDisTax] [numeric](18, 2) NULL,
	[Freight] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_DeletePurchaseReceivingChallan_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Detail_ID] ASC,
	[ReceivingChallan_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_DeletePurchaseReceivingChallan_Detail] ADD  CONSTRAINT [DF_tbl_DeletePurchaseReceivingChallan_Detail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO

alter table tbl_Purchases_Tmp
add Transporter varchar(50)
go
alter table tbl_Purchases
add Transporter varchar(50)
go
alter table tbl_PurchaseReceivingChallan
add Transporter varchar(50)
go
alter table tbl_DeletePurchaseReceivingChallan
add Transporter varchar(50)
go
CREATE TABLE [dbo].[tbl_Transporter](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Transporter_ID] [numeric](18, 0) NOT NULL,
	[Name] [varchar](100) NULL,
	[Active] [bit] NULL,
 CONSTRAINT [PK_tbl_Transporter] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Transporter_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
alter table tbl_Purchases_Tmp
add Transporter_ID numeric(18,0)
go
alter table tbl_Purchases
add Transporter_ID numeric(18,0)
go
alter table tbl_PurchaseReceivingChallan
add Transporter_ID numeric(18,0)
go
alter table tbl_DeletePurchaseReceivingChallan
add Transporter_ID numeric(18,0)
go
alter table tbl_SaleDeliveryChallan
add Transporter_ID numeric(18,0)
go
alter table tbl_Sales
add Transporter_ID numeric(18,0)
go
alter table tbl_DeleteSaleDeliveryChallan
add Transporter_ID numeric(18,0)
GO

alter table tbl_ApplicationParameter
add ShowRC bit
GO
alter table tbl_ApplicationParameter
add ShowDC bit
go
alter table tbl_EmplyeePayRoll
add HouseRent numeric(18,2)
go
alter table tbl_EmplyeePayRoll
add Utility numeric(18,2)
go
alter table tbl_EmplyeePayRoll
add Medical numeric(18,2)
go
alter table tbl_EmplyeePayRoll
add FixOther numeric(18,2)
go
alter table tbl_EmplyeePayRoll
add I_Tax numeric(18,2)
go
alter table tbl_EmplyeePayRoll
add ProfitFund numeric(18,2)
go
alter table tbl_EmplyeePayRoll
add DeductionOther numeric(18,2)
go
alter table  tbl_ApplicationParameter 
add ShowPreBalance bit
go
alter table  tbl_ApplicationParameter 
add AccountType varchar(20)
go
update  tbl_ApplicationParameter set AccountType='All' where AccountType is null
go
update  tbl_ApplicationParameter set ShowPreBalance='false' where ShowPreBalance is null
go
alter table tbl_Accounts add Discount numeric(18,2)
go
update tbl_Accounts set Discount=0 where Discount is null
go
alter table tbl_ApplicationParameter
add Comfort bit
go
alter table tbl_Items
add Description varchar(max)
go
update tbl_Items set Description='-' where Description is null
go
alter table tbl_Accounts add CashCustomer bit
go
alter table tbl_Sales  add Received bit
go
CREATE TABLE [dbo].[tbl_PortionLocation](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[PortionLocation_ID] [numeric](18, 0) NOT NULL,
	[Name] [varchar](50) NULL,
	[Active] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_PortionLocation] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[PortionLocation_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_PortionLocation] ADD  CONSTRAINT [DF_tbl_PortionLocation_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_Portion](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Portion_ID] [numeric](18, 0) NOT NULL,
	[Name] [varchar](50) NULL,
	[Active] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Portion] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Portion_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_Portion] ADD  CONSTRAINT [DF_tbl_Portion_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO



CREATE TABLE [dbo].[tbl_Quotation_SubDetail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Quotations_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Portion_ID] [numeric](18, 0) NULL,
	[PortionLocation_ID] [numeric](18, 0) NULL,
	[Dimension1] [numeric](18, 2) NULL,
	[Dimension2] [numeric](18, 2) NULL,
	[Watts] [numeric](18, 2) NULL,
	[Radiator_Section] [numeric](18, 2) NULL,
	[RadiatorQty] [numeric](18, 2) NULL,
	[Rates] [numeric](18, 2) NULL,
	[Amount] [numeric](18, 2) NULL,
	[Qty] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Quotation_SubDetail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Quotations_ID] ASC,
	[Detail_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_Quotation_SubDetail] ADD  CONSTRAINT [DF_tbl_Quotation_SubDetail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Users add CompanyName varchar(50)
go
update tbl_Users set CompanyName='-' where CompanyName is null
go
alter table tbl_ApplicationParameter add AllInvPaymentReceived bit
go
CREATE TABLE [dbo].[tbl_PipeQuotations](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Quotations_ID] [numeric](18, 0) NOT NULL,
	[Invoice_No] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NOT NULL,
	[Customer_ID] [numeric](18, 0) NOT NULL,
	[Salesman_ID] [numeric](18, 0) NULL,
	[Is_Regular_Customer] [bit] NULL,
	[Total_Amount] [numeric](18, 2) NULL,
	[Item_Dis] [numeric](18, 2) NULL,
	[Gross_Total] [numeric](18, 2) NULL,
	[InvDis_Per] [numeric](18, 2) NOT NULL,
	[InvTax_Per] [numeric](18, 2) NOT NULL,
	[InvDis_Rs] [numeric](18, 2) NULL,
	[InvTax_Rs] [numeric](18, 2) NULL,
	[Misc] [numeric](18, 2) NULL,
	[Net_Total] [numeric](18, 2) NULL,
	[Remarks] [varchar](200) NOT NULL,
	[Inv_Time] [datetime] NOT NULL,
	[User_ID] [varchar](100) NOT NULL,
	[Computer] [varchar](100) NOT NULL,
	[Converted] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_PipeQuotations] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Quotations_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_PipeQuotations] ADD  CONSTRAINT [DF_tbl_PipeQuotations_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO




CREATE TABLE [dbo].[tbl_PipeQuotations_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Quotations_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[QtyPK] [numeric](18, 2) NULL,
	[QtyPcs] [numeric](18, 2) NULL,
	[Qty] [numeric](18, 2) NOT NULL,
	[Price] [numeric](18, 2) NOT NULL,
	[Sub_Total] [numeric](18, 2) NOT NULL,
	[Dis_Per] [numeric](18, 2) NOT NULL,
	[Dis_Rs] [numeric](18, 2) NOT NULL,
	[Total] [numeric](18, 2) NOT NULL,
	[Size1] [numeric](18, 0) NOT NULL,
	[Size2] [numeric](18, 0) NOT NULL,
	[Cost_Price] [numeric](18, 2) NULL,
	[SquareMeter] [numeric](18, 2) NULL,
	[AvgCost] [numeric](18, 2) NULL,
	[Store_ID] [numeric](18, 0) NOT NULL,
	[Store_Name] [varchar](100) NULL,
	[Status] [varchar](50) NULL,
	[ApplyDiscount] [bit] NULL,
 CONSTRAINT [PK_PipeQuotations_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Detail_ID] ASC,
	[Quotations_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_PipeQuotations_Detail] ADD  CONSTRAINT [DF_tbl_PipeQuotations_Detail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_SalesReturn add Transporter_ID numeric(18,0)
GO
alter table tbl_SalesReturn add BiltyNo varchar(50)
go
alter table tbl_SalesReturn add ReturnDeliveyChallan bit
go
update tbl_SalesReturn set ReturnDeliveyChallan='false' where ReturnDeliveyChallan is null
go
update tbl_SalesReturn set Transporter_ID=1 where Transporter_ID is null
go
alter table tbl_SalesReturn add Converted bit
go
alter table tbl_SalesReturn add MaintainBalance bit
go
alter table tbl_SalesReturn drop column MaintainBalance 
GO
alter table tbl_SalesReturn DROP COLUMN ReturnDeliveyChallan 
GO
CREATE TABLE [dbo].[tbl_SalesReturnDC](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[SalesReturn_ID] [numeric](18, 0) NOT NULL,
	[Invoice_No] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NOT NULL,
	[Customer_ID] [numeric](18, 0) NOT NULL,
	[Salesman_ID] [numeric](18, 0) NULL,
	[Is_Regular_Customer] [bit] NULL,
	[Total_Amount] [numeric](18, 2) NULL,
	[Item_Dis] [numeric](18, 2) NULL,
	[Gross_Total] [numeric](18, 2) NULL,
	[InvDis_Per] [numeric](18, 2) NULL,
	[InvTax_Per] [numeric](18, 2) NULL,
	[InvDis_Rs] [numeric](18, 2) NULL,
	[InvTax_Rs] [numeric](18, 2) NULL,
	[Misc] [numeric](18, 2) NULL,
	[Net_Total] [numeric](18, 2) NULL,
	[Remarks] [varchar](200) NOT NULL,
	[Inv_Time] [datetime] NOT NULL,
	[User_ID] [varchar](100) NOT NULL,
	[Computer] [varchar](100) NOT NULL,
	[Payment] [numeric](18, 2) NULL,
	[Balance] [numeric](18, 2) NULL,
	[Payment_Mode] [varchar](50) NULL,
	[Bank_ID] [numeric](18, 0) NULL,
	[OrderBroker_ID] [numeric](18, 0) NULL,
	[Tmp_Paid] [numeric](18, 2) NULL,
	[InvBalance] [numeric](18, 2) NULL,
	[PreBalance] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
	[Freight] [numeric](18, 2) NULL,
	[Transporter_ID] [numeric](18, 0) NULL,
	[BiltyNo] [varchar](50) NULL,
	[Converted] [bit] NULL,
 CONSTRAINT [PK_SalesReturnDC] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[SalesReturn_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_SalesReturnDC] ADD  CONSTRAINT [DF_tbl_SalesReturnDC_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO




CREATE TABLE [dbo].[tbl_SalesReturnDC_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[SalesReturn_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 2) NOT NULL,
	[Price] [numeric](18, 2) NOT NULL,
	[Sub_Total] [numeric](18, 2) NOT NULL,
	[Dis_Per] [numeric](18, 2) NOT NULL,
	[Dis_Rs] [numeric](18, 2) NOT NULL,
	[Total] [numeric](18, 2) NOT NULL,
	[Size1] [numeric](18, 0) NOT NULL,
	[Size2] [numeric](18, 0) NOT NULL,
	[Store_ID] [numeric](18, 0) NOT NULL,
	[Cost_Price] [numeric](18, 2) NULL,
	[Store_Name] [varchar](100) NULL,
	[QtyPK] [numeric](18, 2) NULL,
	[QtyPcs] [numeric](18, 2) NULL,
	[SquareMeter] [numeric](18, 2) NULL,
	[Expiry] [smalldatetime] NULL,
	[AvgCost] [numeric](18, 2) NULL,
	[EmpCommissionRate] [numeric](18, 2) NULL,
	[EmpTotalCommission] [numeric](18, 2) NULL,
	[OBCommissionRate] [numeric](18, 2) NULL,
	[OBTotalCommission] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
	[TotalCommission] [numeric](18, 2) NULL,
	[IMEINo] [numeric](18, 0) NULL,
	[LP] [numeric](18, 2) NULL,
	[ApplyDiscount] [bit] NULL,
 CONSTRAINT [PK_SalesReturnDC_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Detail_ID] ASC,
	[SalesReturn_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_SalesReturnDC_Detail] ADD  CONSTRAINT [DF_tbl_SalesReturnDC_Detail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_SalesReturn add  ReturnDeliveyChallan_ID numeric(18,0)
go
alter table tbl_SalesReturn add  RDCLocation_ID numeric(18,0)
go
alter table tbl_ApplicationParameter add MeatShop bit
go


CREATE TABLE [dbo].[tbl_DeleteSalesReturnDC](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[SalesReturn_ID] [numeric](18, 0) NOT NULL,
	[Invoice_No] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NOT NULL,
	[Customer_ID] [numeric](18, 0) NOT NULL,
	[Salesman_ID] [numeric](18, 0) NULL,
	[Is_Regular_Customer] [bit] NULL,
	[Total_Amount] [numeric](18, 2) NULL,
	[Item_Dis] [numeric](18, 2) NULL,
	[Gross_Total] [numeric](18, 2) NULL,
	[InvDis_Per] [numeric](18, 2) NULL,
	[InvTax_Per] [numeric](18, 2) NULL,
	[InvDis_Rs] [numeric](18, 2) NULL,
	[InvTax_Rs] [numeric](18, 2) NULL,
	[Misc] [numeric](18, 2) NULL,
	[Net_Total] [numeric](18, 2) NULL,
	[Remarks] [varchar](200) NOT NULL,
	[Inv_Time] [datetime] NOT NULL,
	[User_ID] [varchar](100) NOT NULL,
	[Computer] [varchar](100) NOT NULL,
	[Payment] [numeric](18, 2) NULL,
	[Balance] [numeric](18, 2) NULL,
	[Payment_Mode] [varchar](50) NULL,
	[Bank_ID] [numeric](18, 0) NULL,
	[OrderBroker_ID] [numeric](18, 0) NULL,
	[Tmp_Paid] [numeric](18, 2) NULL,
	[InvBalance] [numeric](18, 2) NULL,
	[PreBalance] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
	[Freight] [numeric](18, 2) NULL,
	[Transporter_ID] [numeric](18, 0) NULL,
	[BiltyNo] [varchar](50) NULL,
	[Converted] [bit] NULL,
 CONSTRAINT [PK_DeleteSalesReturnDC] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[SalesReturn_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_DeleteSalesReturnDC] ADD  CONSTRAINT [DF_tbl_DeleteSalesReturnDC_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO




CREATE TABLE [dbo].[tbl_DeleteSalesReturnDC_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[SalesReturn_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 2) NOT NULL,
	[Price] [numeric](18, 2) NOT NULL,
	[Sub_Total] [numeric](18, 2) NOT NULL,
	[Dis_Per] [numeric](18, 2) NOT NULL,
	[Dis_Rs] [numeric](18, 2) NOT NULL,
	[Total] [numeric](18, 2) NOT NULL,
	[Size1] [numeric](18, 0) NOT NULL,
	[Size2] [numeric](18, 0) NOT NULL,
	[Store_ID] [numeric](18, 0) NOT NULL,
	[Cost_Price] [numeric](18, 2) NULL,
	[Store_Name] [varchar](100) NULL,
	[QtyPK] [numeric](18, 2) NULL,
	[QtyPcs] [numeric](18, 2) NULL,
	[SquareMeter] [numeric](18, 2) NULL,
	[Expiry] [smalldatetime] NULL,
	[AvgCost] [numeric](18, 2) NULL,
	[EmpCommissionRate] [numeric](18, 2) NULL,
	[EmpTotalCommission] [numeric](18, 2) NULL,
	[OBCommissionRate] [numeric](18, 2) NULL,
	[OBTotalCommission] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
	[TotalCommission] [numeric](18, 2) NULL,
	[IMEINo] [numeric](18, 0) NULL,
	[LP] [numeric](18, 2) NULL,
	[ApplyDiscount] [bit] NULL,
 CONSTRAINT [PK_DeleteSalesReturnDC_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Detail_ID] ASC,
	[SalesReturn_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_DeleteSalesReturnDC_Detail] ADD  CONSTRAINT [DF_tbl_DeleteSalesReturnDC_Detail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_SalesReturn_Detail  add Audit_ID numeric(18,0)
GO
alter table tbl_SalesReturn_Detail drop column Audit_ID
go

alter table tbl_SalesReturn_Detail  add DemageExpireItem bit
go
alter table tbl_SalesReturnDC_Detail  add DemageExpireItem bit
go
alter table tbl_DeleteSalesReturnDC_Detail  add DemageExpireItem bit
go
CREATE TABLE [dbo].[TmpItem](
	[Item_ID] [numeric](18, 0) NOT NULL,
 CONSTRAINT [PK_TmpItem] PRIMARY KEY CLUSTERED 
(
	[Item_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
CREATE TABLE [dbo].[tbl_UserItemCategory](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[User_ID] [varchar](50) NOT NULL,
	[Category_ID] [numeric](18, 0) NOT NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_UserItemCategory] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[User_ID] ASC,
	[Category_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_UserItemCategory] ADD  CONSTRAINT [DF_tbl_UserItemCategory_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Sales add MsgSend bit
go
alter table tbl_Payment add MsgSend bit
go
update tbl_Sales set MsgSend='true' where MsgSend is null
go
update tbl_Payment set MsgSend='true' where MsgSend is null
go
alter table tbl_Sales add DeliveryDate smalldatetime
go
update tbl_Sales set DeliveryDate=CONVERT(date,GETDATE()) where DeliveryDate  is null
go
alter table tbl_Sales add OrderFinish bit
go
update tbl_Sales set OrderFinish='true' where OrderFinish  is null
go
alter table tbl_Sales add Advance numeric(18,2)
go
update tbl_Sales set Advance=0 where Advance is null
go
CREATE TABLE [dbo].[tbl_CustomerMap](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Customer_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Length] [numeric](18, 2) NULL,
	[Sleves] [numeric](18, 2) NULL,
	[Shoulder] [numeric](18, 2) NULL,
	[Chest] [numeric](18, 2) NULL,
	[Waste] [numeric](18, 2) NULL,
	[Hips] [numeric](18, 2) NULL,
	[Daman] [numeric](18, 2) NULL,
	[Slits] [numeric](18, 2) NULL,
	[ShalwarLength] [numeric](18, 2) NULL,
	[Bottom] [numeric](18, 2) NULL,
	[Lehnga] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_CustomerMap] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Customer_ID] ASC,
	[Detail_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_CustomerMap] ADD  CONSTRAINT [DF_tbl_CustomerMap_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Sales add RemainingAmount numeric(18,2)
go
update tbl_Sales set RemainingAmount=0 where RemainingAmount is null
go
alter table tbl_Payment add Sale_ID	numeric(18,0)
go
update tbl_Payment set Sale_ID=0 where Sale_ID is null
go
alter table tbl_SalesReturn_Detail
add Remarks varchar(max)
go
alter table tbl_SalesReturnDC_Detail add Remarks varchar(max)
go
alter table tbl_ApplicationParameter add Boutique bit
go
alter table tbl_ApplicationParameter add BestWay bit
go
alter table tbl_SaleDeliveryChallan_Detail add  Stock numeric(18,2)
go
alter table tbl_ApplicationParameter add ClosePreviousForms bit
GO
alter table tbl_Purchase_Detail_Tmp
add Commission numeric(18,2)
go
alter table tbl_Purchase_Detail_Tmp
add PP1 numeric(18,2)
go
alter table tbl_Purchase_Detail_Tmp
add PP2 numeric(18,2)
go
alter table tbl_Purchase_Detail_Tmp
add Tax2_Per numeric(18,2)
go
alter table tbl_Purchase_Detail_Tmp
add Tax2_Rs numeric(18,2)
go
alter table tbl_Purchase_Detail
add Commission numeric(18,2)
go
alter table tbl_Purchase_Detail
add PP1 numeric(18,2)
go
alter table tbl_Purchase_Detail
add PP2 numeric(18,2)
go
alter table tbl_Purchase_Detail
add Tax2_Per numeric(18,2)
go
alter table tbl_Purchase_Detail
add Tax2_Rs numeric(18,2)
go
ALTER TABLE tbl_Accounts ALTER COLUMN CreatedDate smalldatetime  NULL
go
ALTER TABLE tbl_Accounts ALTER COLUMN Created_Time datetime  NULL
go
alter table tbl_PurchaseReceivingChallan_Detail add Stock numeric(18,2)
go
alter table tbl_Sales_Detail
add Commission numeric(18,2)
go
alter table tbl_Sales_Detail
add PP1 numeric(18,2)
go
alter table tbl_Sales_Detail
add PP2 numeric(18,2)
go
alter table tbl_Sales_Detail
add Tax2_Per numeric(18,2)
go
alter table tbl_Sales_Detail
add Tax2_Rs numeric(18,2)
go
alter table tbl_ApplicationParameter
add ItemWholeSalePrice bit
go
alter table tbl_Items add Opening_Pack numeric(18,2)
go
alter table tbl_StoreStock add Opening_Pack numeric(18,2)
go
alter table tbl_Purchases add FactoryDate smalldatetime
go
alter table tbl_Purchases_Tmp add FactoryDate smalldatetime
go
alter table tbl_Purchases add VehicleNo varchar(50)
go
alter table tbl_Purchases_Tmp add VehicleNo varchar(50)
go
alter table tbl_Purchase_Detail_Tmp add Tax3_Per numeric(18,2)
go
alter table tbl_Purchase_Detail_Tmp add Tax3_Rs numeric(18,2)
go
alter table tbl_Purchase_Detail add Tax3_Per numeric(18,2)
go
alter table tbl_Purchase_Detail add Tax3_Rs numeric(18,2)

EXEC sp_RENAME 'tbl_Purchase_Detail_Tmp.PP1', 'PriceMatch1', 'COLUMN'
go
EXEC sp_RENAME 'tbl_Purchase_Detail_Tmp.PP2', 'PriceMatch2', 'COLUMN'
go
EXEC sp_RENAME 'tbl_Purchase_Detail.PP1', 'PriceMatch1', 'COLUMN'
go
EXEC sp_RENAME 'tbl_Purchase_Detail.PP2', 'PriceMatch2', 'COLUMN'
go
alter table tbl_Purchase_Detail_Tmp add Rent numeric(18,2)
go
alter table tbl_Purchase_Detail add Rent numeric(18,2)
go
alter table tbl_Purchase_Detail_Tmp add PurchaseBeg numeric(18,2)
go
alter table tbl_Purchase_Detail add PurchaseBeg numeric(18,2)
go
alter table tbl_Items add Purchase bit
go
alter table tbl_Accounts add Saleman bit
go
alter table tbl_Users add IncreaseCost numeric(18,2)
go
alter table tbl_EmployeeAdvPay add Fuel numeric(18,2)
go
alter table tbl_EmployeeAdvPay add Lunch numeric(18,2)
go
alter table tbl_EmployeeAdvPay add TargetAchieved numeric(18,2)
go
alter table tbl_EmployeeAdvPay add Other numeric(18,2)
go
alter table tbl_EmployeeAdvPay add Total numeric(18,2)
go
alter table tbl_EmplyeePayRoll
add PaidLeave numeric(18,0)
go
alter table tbl_EmplyeePayRoll
add PaidLeaveRs numeric(18,2)
go
alter table tbl_EmployeeAdvPay drop column TargetAchieved 
go
alter table tbl_EmployeeAdvPay drop column Other 
go
alter table tbl_EmployeeAdvPay drop column Total 
go
alter table tbl_Accounts add Fuel numeric(18,2)
go
alter table tbl_Accounts add Lunch numeric(18,2)
go
alter table tbl_EmployeeAdvPay add Description varchar(200)
go
alter table tbl_EmplyeePayRoll
add Fuel numeric(18,2)
go
alter table tbl_EmplyeePayRoll
add Lunch numeric(18,2)
go
alter table tbl_Users
Add OrderBooker_ID numeric(18,0)
go
ALTER TABLE tbl_StoreStock ALTER COLUMN Qty numeric(18,3)
go
CREATE TABLE [dbo].[tbl_SalesRawDetail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Sales_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[F_ItemID] [numeric](18, 0) NOT NULL,
	[R_ItemID] [numeric](18, 0) NOT NULL,
	[UsedQty] [numeric](18, 4) NULL,
	[Qty] [numeric](18, 4) NULL,
	[Price] [numeric](18, 4) NULL,
	[Total] [numeric](18, 4) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_SalesRawDetail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Sales_ID] ASC,
	[Detail_ID] ASC,
	[F_ItemID] ASC,
	[R_ItemID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
alter table tbl_ApplicationParameter
add dbFilePath varchar(max)
go
alter table tbl_ApplicationParameter
add dbFileName varchar(max)
go
alter table tbl_ApplicationParameter
add DaysBeforeClear numeric(18,0)
go
alter table tbl_ApplicationParameter add UserName varchar(50)
go
alter table tbl_ApplicationParameter add Password varchar(50)
go
alter table tbl_EmplyeePayRoll add VehicleMaintenance numeric(18,2)
go
alter table tbl_EmplyeePayRoll add MobileAllowance numeric(18,2)
go
alter table tbl_PaymentWiseCommission add TotalCustCommission numeriC(18,2)
go
alter table tbl_EmplyeePayRoll add OBCommission numeric(18,2)
go
alter table tbl_EmplyeePayRoll add ShopCommission numeric(18,2)
go
CREATE TABLE [dbo].[tbl_WeeklySalesSub](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Submission_ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[Party_ID] [numeric](18, 0) NULL,
	[Dated] [smalldatetime] NULL,
	[Timing] [datetime] NULL,
	[F_Date] [smalldatetime] NULL,
	[T_Date] [smalldatetime] NULL,
	[Amount] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_WeeklySalesSub] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Submission_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_WeeklySalesSub] ADD  CONSTRAINT [DF_tbl_WeeklySalesSub_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_EmplyeePayRoll
add COLA3 numeric(18, 2) 
go
	alter table tbl_EmplyeePayRoll
add COLA4 numeric(18, 2) 
go
	alter table tbl_EmplyeePayRoll
add COLA5 numeric(18, 2) 
	go
	alter table tbl_EmplyeePayRoll
add Travelling numeric(18, 2) 
	go
	alter table tbl_EmplyeePayRoll
add PromotionalExp numeric(18, 2) 
	go
	alter table tbl_EmplyeePayRoll
add OtherBusinessPay numeric(18, 2) 
	go
	alter table tbl_EmplyeePayRoll
add EOBI numeric(18, 2)
	go
	alter table tbl_EmplyeePayRoll
add ExcessMobileExp numeric(18, 2) 
go

alter table tbl_Payment
add User_ID varchar(50)

go
alter table tbl_Payment
add Computer varchar(50)
GO
alter table tbl_ApplicationParameter
add EmployeeInExpense bit
GO
alter table tbl_ExpenseEntry
add Employee_ID NUMERIC(18,0)
GO
alter table tbl_ExpenseEntry
add User_ID varchar(50)
go
alter table tbl_ExpenseEntry
add Computer varchar(50)
go


alter table tbl_Users
add Employee_ID NUMERIC(18,0)
go
alter table tbl_ApplicationParameter
add Farooq bit
go
alter table tbl_Accounts
add OldAccount_ID numeric(18,0)
go
alter table tbl_Sales
add OldCustomer_ID numeric(18,0)
go
alter table tbl_SalesReturn
add OldCustomer_ID numeric(18,0)
go
alter table tbl_SaleDeliveryChallan
add OldCustomer_ID numeric(18,0)
go
alter table tbl_SalesReturnDC
add OldCustomer_ID numeric(18,0)
go
alter table tbl_Quotations
add OldCustomer_ID numeric(18,0)
go
alter table tbl_Purchases
add OldSupplier_ID numeric(18,0)
go
alter table tbl_PurchaseReturn
add OldSupplier_ID numeric(18,0)
go
alter table tbl_PurchaseReceivingChallan
add OldSupplier_ID numeric(18,0)
go
alter table tbl_RequestMaterial
add OldSupplier_ID numeric(18,0)
go
alter table tbl_DeletePurchaseReceivingChallan
add OldSupplier_ID numeric(18,0)
go
alter table tbl_Payment
add OldAccount_ID numeric(18,0)
go
alter table tbl_Items_Main
add OldSupplier_ID numeric(18,0)
go
alter table tbl_WeeklySalesSub
add OldParty_ID numeric(18,0)

go
----------------------------------------------------------------------------------------------------------

--update tbl_Accounts set OldAccount_ID=Account_ID where OldAccount_ID is null and Account_ID<31010000
--go
--update  tbl_Sales set OldCustomer_ID=Customer_ID where OldCustomer_ID is null
--go
--update tbl_SalesReturn set OldCustomer_ID=Customer_ID where OldCustomer_ID is null
--go
--update  tbl_SaleDeliveryChallan set OldCustomer_ID=Customer_ID where OldCustomer_ID is null
--go
--update  tbl_SalesReturnDC set OldCustomer_ID=Customer_ID where OldCustomer_ID is null
--go
--update  tbl_Quotations set OldCustomer_ID=Customer_ID where OldCustomer_ID is null
--go
--update  tbl_Purchases set OldSupplier_ID=Supplier_Id where OldSupplier_ID is null
--go
--update  tbl_PurchaseReturn  set OldSupplier_ID=Supplier_Id where OldSupplier_ID is null
--go
--update  tbl_PurchaseReceivingChallan  set OldSupplier_ID=Supplier_Id where OldSupplier_ID is null
-- go
--update  tbl_DeletePurchaseReceivingChallan  set OldSupplier_ID=Supplier_Id where OldSupplier_ID is null
--go
--update  tbl_RequestMaterial  set OldSupplier_ID=Supplier_Id where OldSupplier_ID is null
--go
--update tbl_Payment set  OldAccount_ID=AccountId where OldAccount_ID is null
--go
--update tbl_Items_Main set  OldSupplier_ID=Supplier_ID where OldSupplier_ID is null
--go
--update tbl_WeeklySalesSub set  OldParty_ID=Party_ID where OldParty_ID is null
--GO

------------------------------Set New Account ID-------
--UPDATE tbl_Accounts set Account_ID=(floor(Account_ID/1000)*10000)+floor(Account_ID%10000)-1000 where TypeName='Customer' and Account_ID=OldAccount_ID
--------------------------------Customer---------------

--go
--update s set s.Customer_ID=cust.Account_ID from tbl_Sales as s inner join tbl_Accounts as cust on s.Customer_ID=cust.OldAccount_ID
--where cust.OldAccount_ID=s.Customer_ID and s.Customer_ID=s.OldCustomer_ID 
--go
--update s set s.Customer_ID=cust.Account_ID from tbl_SalesReturn as s inner join tbl_Accounts as cust on s.Customer_ID=cust.OldAccount_ID
--where cust.OldAccount_ID=s.Customer_ID  and s.Customer_ID=s.OldCustomer_ID 
--go
--update s set s.Customer_ID=cust.Account_ID from tbl_SaleDeliveryChallan as s inner join tbl_Accounts as cust on s.Customer_ID=cust.OldAccount_ID
--where cust.OldAccount_ID=s.Customer_ID  and s.Customer_ID=s.OldCustomer_ID
--go
--update s set s.Customer_ID=cust.Account_ID from tbl_SalesReturnDC as s inner join tbl_Accounts as cust on s.Customer_ID=cust.OldAccount_ID
--where cust.OldAccount_ID=s.Customer_ID  and s.Customer_ID=s.OldCustomer_ID
--go
--update s set s.Customer_ID=cust.Account_ID from tbl_Quotations as s inner join tbl_Accounts as cust on s.Customer_ID=cust.OldAccount_ID
--where cust.OldAccount_ID=s.Customer_ID  and s.Customer_ID=s.OldCustomer_ID
--go
--update s set s.AccountId=cust.Account_ID from tbl_Payment as s inner join tbl_Accounts as cust on s.AccountId=cust.OldAccount_ID
--where cust.OldAccount_ID=s.AccountId and AccType='C' and s.AccountId=s.OldAccount_ID 

--go

------------------------------Set New Account ID-------
--UPDATE tbl_Accounts set Account_ID=(floor(Account_ID/1000)*10000)+floor(Account_ID%10000)-1000 where TypeName='Supplier' and Account_ID=OldAccount_ID
--go
--------------------------------Supplier----------------
--update p set p.Supplier_Id=sup.Account_ID from tbl_Purchases as p inner join tbl_Accounts as sup on p.Supplier_Id=sup.OldAccount_ID
--where sup.OldAccount_ID=p.Supplier_Id  and p.Supplier_Id=p.OldSupplier_ID 
--go
--update p set p.Supplier_Id=sup.Account_ID from tbl_PurchaseReturn as p inner join tbl_Accounts as sup on p.Supplier_Id=sup.OldAccount_ID
--where sup.OldAccount_ID=p.Supplier_Id  and p.Supplier_Id=p.OldSupplier_ID 
--go
--update p set p.Supplier_Id=sup.Account_ID from tbl_PurchaseReceivingChallan as p inner join tbl_Accounts as sup on p.Supplier_Id=sup.OldAccount_ID
--where sup.OldAccount_ID=p.Supplier_Id  and p.Supplier_Id=p.OldSupplier_ID 
--go
--update p set p.Supplier_Id=sup.Account_ID from tbl_DeletePurchaseReceivingChallan as p inner join tbl_Accounts as sup on p.Supplier_Id=sup.OldAccount_ID
--where sup.OldAccount_ID=p.Supplier_Id  and p.Supplier_Id=p.OldSupplier_ID 
--go
--update p set p.Supplier_Id=sup.Account_ID from tbl_RequestMaterial as p inner join tbl_Accounts as sup on p.Supplier_Id=sup.OldAccount_ID
--where sup.OldAccount_ID=p.Supplier_Id  and p.Supplier_Id=p.OldSupplier_ID 
--go
--update s set s.AccountId=sup.Account_ID from tbl_Payment as s inner join tbl_Accounts as sup on s.AccountId=sup.OldAccount_ID
--where sup.OldAccount_ID=s.AccountId and AccType='S' and s.AccountId=s.OldAccount_ID 
--go
--update p set p.Supplier_Id=sup.Account_ID from tbl_Items_Main as p inner join tbl_Accounts as sup on p.Supplier_Id=sup.OldAccount_ID
--where sup.OldAccount_ID=p.Supplier_Id  and p.Supplier_Id=p.OldSupplier_ID 
--go
--update p set p.Party_ID=sup.Account_ID from tbl_WeeklySalesSub as p inner join tbl_Accounts as sup on p.Party_ID=sup.OldAccount_ID
--where sup.OldAccount_ID=p.Party_ID  and p.Party_ID=p.OldParty_ID 

-----------------------------------------------------------------------------------------------------
go
alter table tbl_Sales add Submission bit
go
 alter table tbl_Sales_Detail add  Submission  bit
 go
 alter table tbl_AuditStockDetail
alter column PresentQty numeric(18,2)
go
alter table tbl_AuditStockDetail
alter column NewQty  numeric(18,2)
go
alter table tbl_AuditStockDetail
alter column Difference  numeric(18,2)
go
alter table tbl_Users
add PrintEstimateSaleBill bit
go
alter table tbl_ApplicationParameter
add WordSearch bit
go
alter table tbl_Users
add ShowTotalSale bit
GO
alter table DayOC
add ShiftStatus varchar(50)
go
alter table DayOC
add DayStatus varchar(50)
go
alter table DayOC 
add OpeningCash numeric(18,2)
go
alter table DayOC 
add Sales numeric(18,2)
go
alter table DayOC 
add	Payment numeric(18,2)
go
alter table DayOC 
add Receiving numeric(18,2)
go
alter table DayOC
add CashSale numeric(18,2)
go
alter table DayOC
add CreditSale numeric(18,2)
go
alter table DayOC
add Expense numeric(18,2)

go
alter table tbl_ApplicationParameter
add Rahat bit

go
ALTER TABLE tbl_StoreStock
ALTER COLUMN Opening_Qty numeric(18, 3)
go
ALTER TABLE tbl_ProductionIssueStockDetail
ALTER COLUMN QtyPK numeric(18, 3)
go
ALTER TABLE tbl_ProductionIssueStockDetail
ALTER COLUMN QtyPcs numeric(18, 3)
go
ALTER TABLE tbl_ProductionIssueStockDetail
ALTER COLUMN Qty numeric(18, 3)
go
ALTER TABLE tbl_ProductionIssueStockDetail
ALTER COLUMN To_PreQty numeric(18, 3)
go
ALTER TABLE tbl_ProductionIssueStockDetail
ALTER COLUMN To_NewQty numeric(18, 3)
go
alter table tbl_ApplicationParameter
add SalaryExpense_ID numeric(18,0)
go
alter table tbl_ProductionIssueStockDetail
add From_PreQty numeric(18,3)
go
alter table tbl_ProductionIssueStockDetail
add From_NewQty numeric(18,3)
go
ALTER TABLE tbl_Items
ALTER COLUMN Opening_Qty numeric(18, 3)
go
ALTER TABLE tbl_TmpLedger
ALTER COLUMN Debit numeric(18, 3)
go
ALTER TABLE tbl_TmpLedger
ALTER COLUMN Credit numeric(18, 3)
go
ALTER TABLE tbl_TmpLedger
ALTER COLUMN Amount numeric(18, 3)
go
ALTER TABLE tbl_TmpLedger
ALTER COLUMN Total numeric(18, 3)
go
alter table tbl_TmpStockActivity
add ProductionOut numeric(18,3)
go

ALTER TABLE tbl_TmpStockActivity
ALTER COLUMN Purchase numeric(18, 3)
go
ALTER TABLE tbl_TmpStockActivity
ALTER COLUMN AuditIn numeric(18, 3)
go
ALTER TABLE tbl_TmpStockActivity
ALTER COLUMN AuditOut numeric(18, 3)
go
ALTER TABLE tbl_TmpStockActivity
ALTER COLUMN ClosingStock numeric(18, 3)
go
ALTER TABLE tbl_TmpStockActivity
ALTER COLUMN PurchaseReturn numeric(18, 3)
go
ALTER TABLE tbl_AuditStockDetail
ALTER COLUMN PresentQty numeric(18, 3)
go
ALTER TABLE tbl_AuditStockDetail
ALTER COLUMN NewQty numeric(18, 3)
go
ALTER TABLE tbl_AuditStockDetail
ALTER COLUMN Difference numeric(18, 3)
go
ALTER TABLE tbl_AuditStockDetail
ALTER COLUMN PresentPack numeric(18, 3)
go
ALTER TABLE tbl_AuditStockDetail
ALTER COLUMN PresentPcs numeric(18, 3)
go
ALTER TABLE tbl_AuditStockDetail
ALTER COLUMN NewPack numeric(18, 3)
go
ALTER TABLE tbl_AuditStockDetail
ALTER COLUMN NewPcs numeric(18, 3)
go
alter table tbl_TmpStockActivity
add Cost numeric(18,2)
go
alter table tbl_TmpStockActivity
add TotalCost numeric(18,2)
go
alter table tbl_Sales_Detail
add CostBeforeDis numeric(18,2)
go
alter table tbl_Sales_Detail_Tmp
add CostBeforeDis numeric(18,2)
go
alter table tbl_AccCategory
alter column Active bit
GO

alter table tbl_ApplicationParameter
add CashSupplier_ID numeric(18,0)
go
alter table tbl_ApplicationParameter
add RetailByDefaultWS bit 

go
alter table tbl_Purchase_Detail_Tmp
add Dis2_Per numeric(18,2)

go
alter table tbl_Purchase_Detail_Tmp
add Dis2_Rs numeric(18,2)
go
alter table tbl_Purchase_Detail
add Dis2_Per numeric(18,2)
go
alter table tbl_Purchase_Detail
add Dis2_Rs numeric(18,2)
go
alter table tbl_ApplicationParameter
drop column RetailByDefaultWS
go
alter table tbl_ApplicationParameter
add CustomerWisePriceType bit
go
alter table tbl_Users
add ItemType varchar(50)
go
CREATE TABLE [dbo].[TmpAccount](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Account_ID] [numeric](18, 0) NOT NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_TmpAccount] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Account_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[TmpAccount] ADD  CONSTRAINT [DF_TmpAccount_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO

alter table tbl_ApplicationParameter
add ShimlaBakers bit
go
CREATE TABLE [dbo].[tbl_AccountHead](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[AccountHead_ID] [numeric](18, 0) NOT NULL,
	[AccountHead_Name] [varchar](50) NULL,
	[Active] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_AccountHead] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[AccountHead_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_AccountHead] ADD  CONSTRAINT [DF_tbl_AccountHead_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Accounts
add AccountHead_ID numeric(18,0)
go
alter table TmpAccount
add TypeName varchar(50)
go
alter table tbl_Users
add	SalePostedAccess bit
GO
ALTER table tbl_Voucher_Detail
add Main_Detail char(1)
go
ALTER TABLE tbl_ApplicationParameter
ADD TileMaster bit
go
CREATE TABLE [dbo].[tbl_AccountUsers](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Users_ID] [varchar](50) NOT NULL,
	[Account_ID] [numeric](18, 0) NOT NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_AccountUsers] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Users_ID] ASC,
	[Account_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_AccountUsers] ADD  CONSTRAINT [DF_tbl_AccountUsers_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO

alter table tbl_ApplicationParameter
add MehdiTiles bit
GO
alter table tbl_Items
add Unit_ID numeric(18,0)
GO
alter table tbl_Items
add Weigh numeric(18,2)
go
alter table tbl_ApplicationParameter
add ApplyDisWhenPriceChg bit
go
CREATE TABLE [dbo].[tbl_ItemsPromo](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 2) NULL,
	[DisPer] [numeric](18, 2) NULL,
	[DisRs] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_ItemsPromo] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Item_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_ItemsPromo] ADD  CONSTRAINT [DF_tbl_ItemsPromo_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO


alter table tbl_Purchases
add InvWeight numeric(18,2)
go
alter table tbl_Purchase_Detail
add ItemWeight numeric(18,2)
go
alter table tbl_Sales
add InvWeight numeric(18,2)
go
alter table tbl_Sales_Detail
add ItemWeight numeric(18,2)
go
alter table tbl_Purchases_Tmp
add InvWeight numeric(18,2)
go
alter table tbl_Purchase_Detail_Tmp
add ItemWeight numeric(18,2)
go
delete from tbl_AccountUsers where Users_ID='-1'
go

CREATE TABLE [dbo].[tbl_CustomerPromo](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Customer_ID] [numeric](18, 0) NOT NULL,
	[Amount] [numeric](18, 2) NULL,
	[Points] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_CustomerPromo] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Customer_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_CustomerPromo] ADD  CONSTRAINT [DF_tbl_CustomerPromo_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Sales_Detail
add SqmPrice numeric(18,2)
go
alter table tbl_Sales_Detail
add Size3 numeric(18,2)
go
alter table tbl_Sales
add CustName varchar(50)
go
alter table tbl_Sales
add CustAddress varchar(200)
go
alter table tbl_Sales
add CustContact varchar(50)
go
alter table tbl_Items
add PackingRate numeric(18,2)
go
alter table tbl_ProductionReceiving_Detail
add PackingRate numeric(18,2)
GO
update tbl_Items set PackingRate=0 WHERE PackingRate IS NULL
GO
update tbl_ProductionReceiving_Detail set PackingRate=0 WHERE PackingRate IS NULL
go
alter table tbl_Accounts
add PriceOnBarcodeLabel varchar(20)
go
CREATE TABLE [dbo].[tbl_CustomerItemRetail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Customer_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[RetailPrice] [numeric](18, 3) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_CustomerItemRetail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Customer_ID] ASC,
	[Item_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_CustomerItemRetail] ADD  CONSTRAINT [DF_tbl_CustomerItemRetail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Sales add PreSales_ID numeric(18,0)
go
alter table tbl_Sales_Detail add PreSales_ID numeric(18,0)
go
alter table tbl_Items_Main alter column SquareMeter numeric(18,3)
go
alter table tbl_Sales_Detail alter column SquareMeter numeric(18,3)
go
alter table tbl_Sales_Detail alter column ItemWeight numeric(18,3)
go
alter table tbl_Sales_Detail alter column SqmPrice numeric(18,3)
go
alter table tbl_Sales_Detail alter column Size3 numeric(18,3)
go
alter table tbl_SalesReturn_Detail add Size3 numeric(18,3)
go  
alter table tbl_SalesReturn_Detail add SqmPrice numeric(18,3)
go
alter table tbl_SalesReturn_Detail add  SquareMeter numeric(18,3)
go
alter table tbl_SalesReturn_Detail add  ItemWeight numeric(18,3)
go
alter table tbl_SalesReturn add InvWeight numeric(18,3)
go
alter table tbl_Sales alter column InvWeight numeric(18,3)
go
alter table tbl_Transporter add ContactNo varchar(50)
go
alter table tbl_Transporter add VehicleNo varchar(50)
go

alter table tbl_ApplicationParameter
add  OnlineTransactions bit
go
alter table tbl_ApplicationParameter
add  Dhodial bit
go
alter table tbl_ApplicationParameter
add jewelry bit
go
alter table tbl_CustomerMap
add Remarks varchar(max)
GO
alter table tbl_CustomerMap
add Item_Id numeric(18,0)
GO
alter table tbl_CustomerMap
add Sales_Id numeric(18,0)
go
alter table tbl_ApplicationParameter
add  CursorMoveOnEnter bit
go
alter table tbl_CustomerMap
drop column Item_Id 
GO
alter table tbl_CustomerMap
drop column Sales_Id 
go
alter table tbl_CustomerDailySheet
add Payment_Id numeric(18,0)
go
alter table tbl_TmpLedger
alter column Detail varchar(500)
go
alter table tbl_Users add RegenerateInv bit
go
update tbl_Users set RegenerateInv='false' where RegenerateInv is null
go
alter table tbl_Accounts add Category_ID numeric(18,0)
go
alter table tbl_ApplicationParameter add EnterQtyBeforeBarcode bit
go
ALTER TABLE tbl_Inv_Voucher_Detail ALTER COLUMN Sub_Detail varchar(300) NULL
go
ALTER TABLE tbl_Inv_Voucher ALTER COLUMN V_Detail varchar(300) NULL
go
alter table tbl_ApplicationParameter
add OnlineIssueStock bit
go
alter table tbl_Accounts
add Near_Home varchar(200)
go
alter table tbl_Accounts
add Residential_Address varchar(200)
go
alter table tbl_Accounts
add Office_Address varchar(200)
go
alter table tbl_Accounts
add Near_Office varchar(200)
go
alter table tbl_Witness
add Residential_Address varchar(200)
go
alter table tbl_Witness
add Near_Home varchar(200)
go
alter table tbl_Witness
add Residential_ContactNo varchar(50)
go
alter table tbl_Witness
add DepartmentId int
go
alter table tbl_Witness
add DesignationId int
go
alter table tbl_Witness
add Office_Address varchar(200)
go
alter table tbl_Witness
add Near_Office varchar(200)
go
alter table tbl_Witness
add Office_ContactNo varchar(50)
go
alter table tbl_Witness
add MonthlyIncome numeric(18,2)
go
alter table tbl_Sales_Detail_Tmp
add ModelNo varchar(50)
go
alter table tbl_Sales_Detail_Tmp
add SerialNo varchar(50)
go
alter table tbl_Sales_Detail_Tmp
add RegNo varchar(50)
go
alter table tbl_Sales_Detail_Tmp
add ChaisNo varchar(50)
go
alter table tbl_Sales_Detail_Tmp
add EngineNo varchar(50)
go
alter table tbl_Sales_Detail
add ModelNo varchar(50)
go
alter table tbl_Sales_Detail
add SerialNo varchar(50)
go
alter table tbl_Sales_Detail
add RegNo varchar(50)
go
alter table tbl_Sales_Detail
add ChaisNo varchar(50)
go
alter table tbl_Sales_Detail
add EngineNo varchar(50)
go
alter table tbl_Sales_Detail_Tmp
add ArticleNo varchar(50)
go
alter table tbl_Sales_Detail
add ArticleNo varchar(50)
go
alter table tbl_witness
drop column Residential_ContactNo
go
alter table tbl_Sales_Tmp
drop column ModelNo 
go
alter table tbl_Sales_Tmp
drop column SerialNo 
go
alter table tbl_Sales_Tmp
drop column RegNo 
go
alter table tbl_Sales_Tmp
drop column ChaisNo 
go
alter table tbl_Sales_Tmp
drop column EngineNo 
go
alter table tbl_Sales
drop column ModelNo 
go
alter table tbl_Sales
drop column SerialNo 
go
alter table tbl_Sales
drop column RegNo 
go
alter table tbl_Sales
drop column ChaisNo 
go
alter table tbl_Sales
drop column EngineNo
go
alter table tbl_Sales_Detail_Tmp
drop column ModelNo 
go
alter table tbl_Sales_Detail_Tmp
drop column SerialNo 
go
alter table tbl_Sales_Detail_Tmp
drop column RegNo 
go
alter table tbl_Sales_Detail_Tmp
drop column ChaisNo 
go
alter table tbl_Sales_Detail_Tmp
drop column EngineNo 
go
alter table tbl_Sales_Detail_Tmp
drop column ArticleNo 
go
alter table tbl_Sales_Tmp add DeliveryPerson_ID numeric(18,0)
go
alter table tbl_Sales add DeliveryPerson_ID numeric(18,0)
go
alter table tbl_SalesReturn add EmpCommissionRate numeric(18,2)
go
alter table tbl_SalesReturn add EmpTotalCommission numeric(18,2)
go
alter table tbl_Payment add Fine numeric(18,2)
go
update tbl_Payment set Fine=0 where Fine is null
go
alter table tbl_Users add PreDateTransactionAccess bit
go
update tbl_Users set PreDateTransactionAccess='true' where PreDateTransactionAccess is null
go
alter table tbl_ItemCompany
alter column Discount numeric(18,2)
go
alter table tbl_ItemCategory
alter column Discount numeric(18,2)
go
alter table tbl_ItemClass
alter column Discount numeric(18,2)
go
alter table tbl_ItemSubClass
alter column Discount numeric(18,2)
go
alter table tbl_ItemCountry
alter column Discount numeric(18,2)
go
alter table tbl_ApplicationParameter
add ItemGridColor bit
go
alter table tbl_ApplicationParameter
add ItemGridPcsWSP bit
go
alter table tbl_ApplicationParameter
add ItemGridSquareMeter bit
go
alter table tbl_ApplicationParameter
add ItemGridOpening bit
go
alter table tbl_ApplicationParameter
add ItemGridMinQty bit

go
alter table tbl_ApplicationParameter
add ItemGridFinished bit

go
alter table tbl_ApplicationParameter
add ItemGridRetial_Price bit
go
alter table tbl_ApplicationParameter
add ItemGridItemType bit

go
alter table tbl_ApplicationParameter
add ItemGridLP bit
go
alter table tbl_ApplicationParameter
add ItemGridDescription bit
go
alter table tbl_ApplicationParameter
add ItemListQuery varchar(max)
go
alter table tbl_ApplicationParameter
add ItemListJoins varchar(max)
go
alter table tbl_ApplicationParameter
add ItemListGroupBy varchar(max)
go
update tbl_Items set ItemType='Local' where ItemType is null
go
CREATE INDEX IndexAccount_ID ON tbl_Accounts (Account_ID)
go
alter table  tbl_ApplicationParameter
drop column ItemGridFinished
go
alter table  tbl_ApplicationParameter
drop column ItemGridItemType
go
alter table  tbl_Items add Token numeric(18,2)
go
alter table tbl_ApplicationParameter add Rana bit
go
alter table tbl_Sales_Detail add PayToken bit
GO
alter table tbl_ApplicationParameter add LPG bit
go
alter table tbl_Sales_Detail add CylinderType varchar(20)
go
CREATE TABLE [dbo].[tbl_ReceivedItem](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Sales_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 2) NULL,
	[Store_ID] [numeric](18, 0) NULL,
 CONSTRAINT [PK_tbl_ReceivedItem] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Sales_ID] ASC,
	[Item_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
go
alter table tbl_Sales add BookNo numeric(18,0)
GO
ALTER TABLE tbl_Accounts ADD Finger_Print image
GO
ALTER TABLE tbl_EmpAttendance ADD Finger_Print image
go
CREATE TABLE [dbo].[tbl_EmpClearance](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Clearance_ID] [numeric](18, 0) NOT NULL,
	[Employee_ID] [numeric](18, 0) NULL,
	[Dated] [smalldatetime] NULL,
	[Remarks] [varchar](max) NULL,
	[User_ID] [varchar](50) NULL,
	[POS] [varchar](50) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_EmpClearance] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Clearance_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_EmpClearance] ADD  CONSTRAINT [DF_tbl_EmpClearance_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_EmplyeePayRoll add Clearance bit
go
drop procedure [dbo].[spReceivedItem]
go
drop table tbl_ReceivedItem
go

CREATE TABLE [dbo].[tbl_RecIssueCyl](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Rec_Issue_ID] [numeric](18, 0) NOT NULL,
	[Customer_ID] [numeric](18, 0) NULL,
	[Dated] [smalldatetime] NULL,
	[Timing] [datetime] NULL,
	[User_ID] [varchar](50) NULL,
	[POS] [varchar](50) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_RecIssueCyl] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Rec_Issue_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_RecIssueCyl] ADD  CONSTRAINT [DF_tbl_RecIssueCyl_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO


CREATE TABLE [dbo].[tbl_RecIssueCyl_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Rec_Issue_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NULL,
	[ReceiveCyl] [numeric](18, 2) NULL,
	[IssuedCyl] [numeric](18, 2) NULL,
	[Store_ID] [numeric](18, 0) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_RecIssueCyl_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Rec_Issue_ID] ASC,
	[Detail_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_RecIssueCyl_Detail] ADD  CONSTRAINT [DF_tbl_RecIssueCyl_Detail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_CustomerItemStock](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Customer_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Opening_Qty] [numeric](18, 2) NULL,
	[Qty] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_CustomerItemStock] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Customer_ID] ASC,
	[Item_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO
alter table tbl_ApplicationParameter add AttenByDevice_DP bit
go
alter table tbl_SetItemPriceHistory 
add Active bit
go
alter table tbl_SetItemPriceHistory 
add NewActive bit
go
alter table tbl_SetItemPriceHistory 
add CostPriceAfterDisTax numeric(18,2)
go
alter table tbl_SetItemPriceHistory 
add NewCostPriceAfterDisTax numeric(18,2)
go
alter table tbl_ApplicationParameter
add ShopName varchar(50)
GO
ALTER TABLE tbl_ApplicationParameter
DROP COLUMN LPG 
go
alter table tbl_Sales_Detail add ReturnQty numeric(18,2)
go

alter table tbl_Sales_Detail add Additional_STR numeriC(18,2)
GO
CREATE TABLE [dbo].[tbl_StockIssueToSaleman](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Issue_ID] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NULL,
	[CreatedTime] [datetime] NULL,
	[Salesman_ID] [numeric](18, 0) NULL,
	[User_ID] [varchar](50) NULL,
	[Computer] [varchar](50) NULL,
	[Remarks] [varchar](200) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_StockIssueToSaleman] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Issue_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_StockIssueToSaleman] ADD  CONSTRAINT [DF_tbl_StockIssueToSaleman_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO

CREATE TABLE [dbo].[tbl_StockIssueToSaleman_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Issue_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NULL,
	[Size1] [numeric](18, 3) NULL,
	[Size2] [numeric](18, 3) NULL,
	[From_ID] [numeric](18, 0) NULL,
	[Pre_Qty] [numeric](18, 2) NULL,
	[SalesmanPre_Qty] [numeric](18, 2) NULL,
	[Issue_Qty] [numeric](18, 2) NULL,
	[RemainingQty] [numeric](18, 2) NULL,
	[RemainingSalesman_Qty] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_StockIssueToSaleman_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Issue_ID] ASC,
	[Detail_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_StockIssueToSaleman_Detail] ADD  CONSTRAINT [DF_tbl_StockIssueToSaleman_Detail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO




CREATE TABLE [dbo].[tbl_SalemanStock](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Salesman_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Qty] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_SalemanStock] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Salesman_ID] ASC,
	[Item_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_SalemanStock] ADD  CONSTRAINT [DF_tbl_SalemanStock_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
Alter Table tbl_Sales add SaleType varchar(20) 
go
Alter Table tbl_Sales_Detail add SalemanPreQty numeric(28,0)
go
alter table tbl_Sales add Region_ID numeric(18,0)
go

CREATE TABLE [dbo].[tbl_SchemeItems](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Scheme_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NULL,
	[SchemeItem_ID] [numeric](18, 0) NULL,
	[Price] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_SchemeItems] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Scheme_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO
 Alter Table tbl_Payment 
add Salesman_ID numeric(18,0)
go
 Alter Table tbl_Payment 
drop column Salesman_ID 
go
Alter Table tbl_ExpenseEntry
add Sales_ID numeric(18,0)
go
go
Alter Table tbl_ExpenseEntry
drop column Sales_ID 
Alter Table tbl_SalemanStock
add Scheme_Qty numeric(18,3)
go
Alter Table tbl_StoreStock
add Scheme_Qty numeric(18,3)
go
Alter Table tbl_Purchase_Detail
add Scheme_Qty numeric(18,3)
go
Alter Table tbl_Purchase_Detail_Tmp
add Scheme_Qty numeric(18,3)
go
Alter Table tbl_StockIssueToSaleman_Detail
add PreSchQty numeric(18,3)
go
Alter Table tbl_StockIssueToSaleman_Detail
add SalemanSchQty numeric(18,3)
go
Alter Table tbl_StockIssueToSaleman_Detail
add IssueSchQty numeric(18,3)
go
Alter Table tbl_StockIssueToSaleman_Detail
add RemainingSchQty numeric(18,3)
go
Alter Table tbl_StockIssueToSaleman_Detail
add ReSalemanSchQty numeric(18,3)
go
Alter Table tbl_Sales_Detail
Add SalemanPreSch_Qty numeric(18,3)
go
Alter Table tbl_Sales_Detail
Add ReturnSch_Qty numeric(18,3)
go
Alter Table tbl_Sales_Detail
Add SoldSch_Qty numeric(18,3)
go
alter table tbl_Sales
add ForAmount numeric(18,2)
go
alter table tbl_Sales
add AddRecoverty numeric(18,2);
go
alter table tbl_Sales
add LessCredit numeric(18,2);
go
alter table tbl_SetItemPriceHistory
add Size1 NUMERIC(18,3)
go
alter table tbl_SetItemPriceHistory
add Size2 NUMERIC(18,3)
go
alter table tbl_SetItemPriceHistory
add WSP NUMERIC(18,2)
go
alter table tbl_SetItemPriceHistory
add NewWSP NUMERIC(18,2)

--Added by Irshad on 8-3-17
go
alter Table tbl_SchemeItems
add SchType Varchar(20)
go
alter Table tbl_SchemeItems
add Pack numeric(18,2)
go
alter Table tbl_SchemeItems
add Pcs numeric(18,2)
go
alter Table tbl_SchemeItems
add Cash numeric(18,2)
GO
alter Table tbl_Sales_Detail
add SchCash numeric(18,3)
go

CREATE TABLE [dbo].[tbl_Items_Acc_Link](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Account_ID] [numeric](18, 0) NOT NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Items_Acc_Link] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Item_ID] ASC,
	[Account_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_Items_Acc_Link] ADD  CONSTRAINT [DF_tbl_Items_Acc_Link_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter Table tbl_Sales_Detail
Add SchPrice numeric(18,2)
go
CREATE NONCLUSTERED INDEX IX_tbl_Voucher
ON dbo.tbl_Voucher (V_Date  desc)
go

CREATE NONCLUSTERED INDEX IX_tbl_Inv_Voucher
ON dbo.tbl_Inv_Voucher (V_Date  desc)

go

CREATE NONCLUSTERED INDEX IX_tbl_Inv_Voucher
ON dbo.tbl_Inv_Voucher (V_Date  desc)
go
CREATE NONCLUSTERED INDEX IX_tbl_Sales
ON dbo.tbl_Sales (Dated  desc)
go
alter table tbl_ApplicationParameter
add PurchasePriceIsNotZero bit
go
alter table tbl_Sales_Detail
add ItemType varchar(50)
go
alter table tbl_SalesReturn_Detail
add ItemType varchar(50)
go
alter table tbl_Purchase_Detail
add ItemType varchar(50)
go
alter table tbl_Purchase_Detail_Tmp
add ItemType varchar(50)
go
alter table tbl_PurchaseReturn_Detail
add ItemType varchar(50)
go
alter table tbl_PurchaseReceivingChallan_Detail
add ItemType varchar(50)
go
alter table tbl_SaleDeliveryChallan_Detail
add ItemType varchar(50)
go
alter table tbl_SalesReturnDC_Detail
add ItemType varchar(50)
go
alter table tbl_AuditStockDetail
add ItemType varchar(50)
GO
alter table tbl_AuditStock
add User_ID varchar(50)
go
alter table tbl_AuditStock
add Computer numeric(18,0)
go
alter table tbl_CashAdjustment
add User_ID varchar(50)
go
alter table tbl_CashAdjustment
add Computer varchar(50)
go



CREATE TABLE [dbo].[tbl_Sale_Dips](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Sale_ID] [numeric](18, 0) NOT NULL,
	[Dip_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[SaleDetail_ID] [numeric](18, 0) NULL,
	[Item_ID] [numeric](18, 0) NULL,
	[Sale_Dips] [varchar](50) NULL,
	[Rec_Dips] [numeric](18, 2) NULL,
	[Qty] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Sale_Dips] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Sale_ID] ASC,
	[Dip_ID] ASC,
	[Detail_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_Sale_Dips] ADD  CONSTRAINT [DF_tbl_Sale_Dips]  DEFAULT ('Unsubmitted') FOR [Status]
GO

go

CREATE TABLE [dbo].[tbl_Dips](
	[Location_ID] [numeric](18, 0) NULL,
	[Dip_ID] [numeric](18, 0) NULL,
	[Name] [varchar](50) NULL,
	[Active] [bit] NULL,
	[Status] [varchar](50) NULL
) ON [PRIMARY]
GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_Dips] ADD  CONSTRAINT [DF_tbl_Dips_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO

 Update tbl_Accounts
  Set EmpCode='0'
  Where  TRY_PARSE(EmpCode as Numeric(18, 0)) Is Null
  And EmpCode Is Not Null

  Go

Alter Table tbl_Accounts
 Alter Column  EmpCode Numeric(18, 0)
 Go
Alter Table tbl_Accounts
 Alter Column  CreatedDate DateTime
 Go

Alter Table tbl_Accounts
 Alter Column LastTransferDate DateTime
 Go
 alter table tbl_Sales 
add TransporterMode varchar(20)
go

alter table tbl_Dips
add Product_Dips numeric(18,2)
GO
CREATE NONCLUSTERED INDEX IX_tbl_Accounts
ON dbo.tbl_Accounts (Account_ID  desc)
go

CREATE TABLE [dbo].[Attendance_Check_In_Outs](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Employee_ID] [numeric](18, 0) NOT NULL,
	[Attendance_ID] [numeric](18, 0) NOT NULL,
	[In_Out_ID] [numeric](18, 0) NOT NULL,
	[Verify_Mode] [numeric](18, 0) NULL,
	[In_Out_Mode] [numeric](18, 0) NULL,
	[Dated] [datetime] NULL,
	[Machine_Name] [varchar](50) NULL,
 CONSTRAINT [PK_Attendance_Check_In_Outs] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Employee_ID] ASC,
	[Attendance_ID] ASC,
	[In_Out_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[Attendance_Check_In_Outs]  WITH CHECK ADD  CONSTRAINT [FK_Attendance_Check_In_Outs_Attendances] FOREIGN KEY([Location_ID], [Employee_ID], [Attendance_ID])
REFERENCES [dbo].[Attendances] ([Location_ID], [Employee_ID], [Attendance_ID])
ON UPDATE CASCADE
ON DELETE CASCADE
GO

ALTER TABLE [dbo].[Attendance_Check_In_Outs] CHECK CONSTRAINT [FK_Attendance_Check_In_Outs_Attendances]
GO
CREATE TABLE [dbo].[Attendance_In_Out_Modes](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Attendance_In_Out_Mode_ID] [numeric](18, 0) NOT NULL,
	[Attendance_In_Out_Mode_Name] [varchar](50) NULL,
 CONSTRAINT [PK_Attendance_Modes] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Attendance_In_Out_Mode_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[Attendance_Verify_Modes](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Verify_Mode_ID] [numeric](18, 0) NOT NULL,
	[Verify_Mode_Name] [varchar](50) NULL,
 CONSTRAINT [PK_Attendance_Verify_Modes] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Verify_Mode_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[Attendances](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Employee_ID] [numeric](18, 0) NOT NULL,
	[Attendance_ID] [numeric](18, 0) NOT NULL,
	[Dated] [date] NULL,
	[Attendance_Status] [varchar](50) NULL,
	[Attendance_Description] [varchar](100) NULL,
	[Date_Added] [datetime] NULL,
 CONSTRAINT [PK_Attendances] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Employee_ID] ASC,
	[Attendance_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[Employee_Leaves](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Employee_ID] [numeric](18, 0) NOT NULL,
	[Leave_ID] [numeric](18, 0) NOT NULL,
	[Leave_Type_ID] [numeric](18, 0) NULL,
	[Date_From] [datetime] NULL,
	[Date_To] [datetime] NULL,
	[Description] [varchar](100) NULL,
	[Leave_Status] [varchar](50) NULL,
	[Date_Added] [datetime] NULL
) ON [PRIMARY]

GO
CREATE TABLE [dbo].[tbl_Transporter_Dips](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Dip_ID] [numeric](18, 0) NOT NULL,
	[Transporter_ID] [numeric](18, 0) NOT NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Transporter_Dips] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Dip_ID] ASC,
	[Transporter_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_Transporter_Dips] ADD  CONSTRAINT [DF_tbl_Transporter_Dips_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
EXEC sp_RENAME 'tbl_Sale_Dips.Sale_Dips', 'Product_Dips', 'COLUMN'
go
alter table tbl_AuditStock
alter column Computer varchar(50)
go
CREATE TABLE [dbo].[PLS_Stock_Amount](
	[Item_ID] [numeric](18, 0) NULL,
	[Item] [varchar](50) NULL,
	[Qty] [numeric](18, 0) NULL,
	[Cost] [numeric](18, 4) NULL,
	[Total] [numeric](18, 4) NULL
) ON [PRIMARY]


 go
 alter table tbl_items
add UOM_Lower_ID numeric(18,0)
go
alter table tbl_Items
add Length numeric(18,2)
go
alter table tbl_Items
add Width numeric(18,2)
go
alter table tbl_Items
add Gauge numeric(18,2)
go
alter table tbl_Purchases 
add TransporterMode varchar(50)
go
CREATE TABLE [dbo].[tbl_Purchase_Dips](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Purchase_ID] [numeric](18, 0) NOT NULL,
	[Dip_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[PurchaseDetail_ID] [numeric](18, 0) NULL,
	[Item_ID] [numeric](18, 0) NULL,
	[Product_Dips] [varchar](50) NULL,
	[Rec_Dips] [numeric](18, 2) NULL,
	[Qty] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Purchase_Dips] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Purchase_ID] ASC,
	[Dip_ID] ASC,
	[Detail_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_Purchase_Dips] ADD  CONSTRAINT [DF_tbl_Purchase_Dips_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO
alter table tbl_Sales_Detail_Tmp add Saleman_ID numeric(18,0)
go
alter table tbl_Sales_Detail add Saleman_ID numeric(18,0)
go
update sd  set sd.Saleman_Id=s.Salesman_ID from tbl_Sales_Detail as sd inner join tbl_Sales as s 
on sd.Sales_ID=s.Sales_ID WHERE sd.Saleman_Id  is null
GO
alter table tbl_SalesReturn_Detail
add SRDC_Detail_Id NUMERIC(18,0)
go
CREATE TABLE [dbo].[tbl_StockOpening_LPG](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[Item_ID] [numeric](18, 0) NULL,
	[Item] [varchar](50) NULL,
	[Qty] [numeric](18, 2) NULL,
	[Cost] [numeric](18, 2) NULL,
	[Total] [numeric](18, 2) NULL,
	[Month] [int] NULL,
	[Year] [int] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_StockOpening_LPG] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_StockOpening_LPG] ADD  CONSTRAINT [DF_tbl_StockOpening_LPG_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO
alter table tbl_Users add SaleFinishListPreDateAccess bit
go
update tbl_Users set SaleFinishListPreDateAccess='true' where  SaleFinishListPreDateAccess is null
go
/*
   Tuesday, April 18, 201710:31:20 AM
   User: 
   Server: OFFICE
   Database: dbInvAcc
   Application: 
*/

/* To prevent any potential data loss issues, you should review this script in detail before running it outside the context of the database designer.*/
BEGIN TRANSACTION
SET QUOTED_IDENTIFIER ON
SET ARITHABORT ON
SET NUMERIC_ROUNDABORT OFF
SET CONCAT_NULL_YIELDS_NULL ON
SET ANSI_NULLS ON
SET ANSI_PADDING ON
SET ANSI_WARNINGS ON
COMMIT
BEGIN TRANSACTION
GO
CREATE TABLE dbo.Tmp_Attendances
	(
	Location_ID numeric(18, 0) NOT NULL,
	Employee_ID numeric(18, 0) NOT NULL,
	Attendance_ID numeric(18, 0) NOT NULL,
	Dated date NULL,
	Attendance_Status varchar(50) NULL,
	Attendance_Description varchar(100) NULL,
	Seconds_Ignore_Device_Mode numeric(18, 0) NULL,
	Seconds_Ifnore_First_Device_Entry numeric(18, 0) NULL,
	Seconds_Dont_Ignore_Device_Mode numeric(18, 0) NULL,
	Date_Added datetime NULL
	)  ON [PRIMARY]
GO
ALTER TABLE dbo.Tmp_Attendances SET (LOCK_ESCALATION = TABLE)
GO
IF EXISTS(SELECT * FROM dbo.Attendances)
	 EXEC('INSERT INTO dbo.Tmp_Attendances (Location_ID, Employee_ID, Attendance_ID, Dated, Attendance_Status, Attendance_Description, Date_Added)
		SELECT Location_ID, Employee_ID, Attendance_ID, Dated, Attendance_Status, Attendance_Description, Date_Added FROM dbo.Attendances WITH (HOLDLOCK TABLOCKX)')
GO
ALTER TABLE dbo.Attendance_Check_In_Outs
	DROP CONSTRAINT FK_Attendance_Check_In_Outs_Attendances
GO
DROP TABLE dbo.Attendances
GO
EXECUTE sp_rename N'dbo.Tmp_Attendances', N'Attendances', 'OBJECT' 
GO
ALTER TABLE dbo.Attendances ADD CONSTRAINT
	PK_Attendances PRIMARY KEY CLUSTERED 
	(
	Location_ID,
	Employee_ID,
	Attendance_ID
	) WITH( STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]

GO
COMMIT
select Has_Perms_By_Name(N'dbo.Attendances', 'Object', 'ALTER') as ALT_Per, Has_Perms_By_Name(N'dbo.Attendances', 'Object', 'VIEW DEFINITION') as View_def_Per, Has_Perms_By_Name(N'dbo.Attendances', 'Object', 'CONTROL') as Contr_Per BEGIN TRANSACTION
GO
ALTER TABLE dbo.Attendance_Check_In_Outs ADD CONSTRAINT
	FK_Attendance_Check_In_Outs_Attendances FOREIGN KEY
	(
	Location_ID,
	Employee_ID,
	Attendance_ID
	) REFERENCES dbo.Attendances
	(
	Location_ID,
	Employee_ID,
	Attendance_ID
	) ON UPDATE  CASCADE 
	 ON DELETE  CASCADE 
	
GO
ALTER TABLE dbo.Attendance_Check_In_Outs SET (LOCK_ESCALATION = TABLE)
GO
COMMIT
select Has_Perms_By_Name(N'dbo.Attendance_Check_In_Outs', 'Object', 'ALTER') as ALT_Per, Has_Perms_By_Name(N'dbo.Attendance_Check_In_Outs', 'Object', 'VIEW DEFINITION') as View_def_Per, Has_Perms_By_Name(N'dbo.Attendance_Check_In_Outs', 'Object', 'CONTROL') as Contr_Per 
go
BEGIN TRANSACTION
SET QUOTED_IDENTIFIER ON
SET ARITHABORT ON
SET NUMERIC_ROUNDABORT OFF
SET CONCAT_NULL_YIELDS_NULL ON
SET ANSI_NULLS ON
SET ANSI_PADDING ON
SET ANSI_WARNINGS ON
COMMIT
BEGIN TRANSACTION
GO
EXECUTE sp_rename N'dbo.Attendances.Seconds_Ifnore_First_Device_Entry', N'Tmp_Seconds_Ignore_First_Device_Entry', 'COLUMN' 
GO
EXECUTE sp_rename N'dbo.Attendances.Tmp_Seconds_Ignore_First_Device_Entry', N'Seconds_Ignore_First_Device_Entry', 'COLUMN' 
GO
ALTER TABLE dbo.Attendances SET (LOCK_ESCALATION = TABLE)
GO
COMMIT
select Has_Perms_By_Name(N'dbo.Attendances', 'Object', 'ALTER') as ALT_Per, Has_Perms_By_Name(N'dbo.Attendances', 'Object', 'VIEW DEFINITION') as View_def_Per, Has_Perms_By_Name(N'dbo.Attendances', 'Object', 'CONTROL') as Contr_Per 
go
BEGIN TRANSACTION
SET QUOTED_IDENTIFIER ON
SET ARITHABORT ON
SET NUMERIC_ROUNDABORT OFF
SET CONCAT_NULL_YIELDS_NULL ON
SET ANSI_NULLS ON
SET ANSI_PADDING ON
SET ANSI_WARNINGS ON
COMMIT
BEGIN TRANSACTION
GO
CREATE TABLE dbo.Tmp_Attendances
	(
	Location_ID numeric(18, 0) NOT NULL,
	Employee_ID numeric(18, 0) NOT NULL,
	Attendance_ID numeric(18, 0) NOT NULL,
	Dated datetime NULL,
	Attendance_Status varchar(50) NULL,
	Attendance_Description varchar(100) NULL,
	Seconds_Ignore_Device_Mode numeric(18, 0) NULL,
	Seconds_Ignore_First_Device_Entry numeric(18, 0) NULL,
	Seconds_Dont_Ignore_Device_Mode numeric(18, 0) NULL,
	Date_Added datetime NULL
	)  ON [PRIMARY]
GO
ALTER TABLE dbo.Tmp_Attendances SET (LOCK_ESCALATION = TABLE)
GO
IF EXISTS(SELECT * FROM dbo.Attendances)
	 EXEC('INSERT INTO dbo.Tmp_Attendances (Location_ID, Employee_ID, Attendance_ID, Dated, Attendance_Status, Attendance_Description, Seconds_Ignore_Device_Mode, Seconds_Ignore_First_Device_Entry, Seconds_Dont_Ignore_Device_Mode, Date_Added)
		SELECT Location_ID, Employee_ID, Attendance_ID, CONVERT(datetime, Dated), Attendance_Status, Attendance_Description, Seconds_Ignore_Device_Mode, Seconds_Ignore_First_Device_Entry, Seconds_Dont_Ignore_Device_Mode, Date_Added FROM dbo.Attendances WITH (HOLDLOCK TABLOCKX)')
GO
ALTER TABLE dbo.Attendance_Check_In_Outs
	DROP CONSTRAINT FK_Attendance_Check_In_Outs_Attendances
GO
DROP TABLE dbo.Attendances
GO
EXECUTE sp_rename N'dbo.Tmp_Attendances', N'Attendances', 'OBJECT' 
GO
ALTER TABLE dbo.Attendances ADD CONSTRAINT
	PK_Attendances PRIMARY KEY CLUSTERED 
	(
	Location_ID,
	Employee_ID,
	Attendance_ID
	) WITH( STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]

GO
COMMIT
select Has_Perms_By_Name(N'dbo.Attendances', 'Object', 'ALTER') as ALT_Per, Has_Perms_By_Name(N'dbo.Attendances', 'Object', 'VIEW DEFINITION') as View_def_Per, Has_Perms_By_Name(N'dbo.Attendances', 'Object', 'CONTROL') as Contr_Per BEGIN TRANSACTION
GO
ALTER TABLE dbo.Attendance_Check_In_Outs ADD CONSTRAINT
	FK_Attendance_Check_In_Outs_Attendances FOREIGN KEY
	(
	Location_ID,
	Employee_ID,
	Attendance_ID
	) REFERENCES dbo.Attendances
	(
	Location_ID,
	Employee_ID,
	Attendance_ID
	) ON UPDATE  CASCADE 
	 ON DELETE  CASCADE 
	
GO
ALTER TABLE dbo.Attendance_Check_In_Outs SET (LOCK_ESCALATION = TABLE)
GO
COMMIT
select Has_Perms_By_Name(N'dbo.Attendance_Check_In_Outs', 'Object', 'ALTER') as ALT_Per, Has_Perms_By_Name(N'dbo.Attendance_Check_In_Outs', 'Object', 'VIEW DEFINITION') as View_def_Per, Has_Perms_By_Name(N'dbo.Attendance_Check_In_Outs', 'Object', 'CONTROL') as Contr_Per 
go
BEGIN TRANSACTION
SET QUOTED_IDENTIFIER ON
SET ARITHABORT ON
SET NUMERIC_ROUNDABORT OFF
SET CONCAT_NULL_YIELDS_NULL ON
SET ANSI_NULLS ON
SET ANSI_PADDING ON
SET ANSI_WARNINGS ON
COMMIT
BEGIN TRANSACTION
GO
ALTER TABLE dbo.Employee_Leaves ADD CONSTRAINT
	DF_Employee_Leaves_Date_Added DEFAULT getdate() FOR Date_Added
GO
ALTER TABLE dbo.Employee_Leaves SET (LOCK_ESCALATION = TABLE)
GO
COMMIT
select Has_Perms_By_Name(N'dbo.Employee_Leaves', 'Object', 'ALTER') as ALT_Per, Has_Perms_By_Name(N'dbo.Employee_Leaves', 'Object', 'VIEW DEFINITION') as View_def_Per, Has_Perms_By_Name(N'dbo.Employee_Leaves', 'Object', 'CONTROL') as Contr_Per 
Go
IF NOT EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[Attendance_In_Out_Modes]') AND type in (N'U'))
BEGIN
CREATE TABLE [dbo].[Attendance_In_Out_Modes](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Attendance_In_Out_Mode_ID] [numeric](18, 0) NOT NULL,
	[Attendance_In_Out_Mode_Name] [varchar](50) NULL,
 CONSTRAINT [PK_Attendance_Modes] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Attendance_In_Out_Mode_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
END
GO

IF NOT EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[Attendance_Verify_Modes]') AND type in (N'U'))
BEGIN
CREATE TABLE [dbo].[Attendance_Verify_Modes](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Verify_Mode_ID] [numeric](18, 0) NOT NULL,
	[Verify_Mode_Name] [varchar](50) NULL,
 CONSTRAINT [PK_Attendance_Verify_Modes] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Verify_Mode_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
END
GO
CREATE TABLE [dbo].[tbl_CS_Items](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[CS_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_CS_Items] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[CS_ID] ASC,
	[Item_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_CS_Items] ADD  CONSTRAINT [DF_tbl_CS_Items_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO


CREATE TABLE [dbo].[tbl_CS](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[CS_ID] [numeric](18, 0) NOT NULL,
	[Name] [varchar](50) NULL,
	[DS] [varchar](50) NULL,
	[DB] [varchar](50) NULL,
	[User_ID] [varchar](50) NULL,
	[Passward] [varchar](50) NULL,
	[CS] [varchar](200) NULL,
	[Status] [varchar](20) NULL,
 CONSTRAINT [PK_tbl_CS] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[CS_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_CS] ADD  CONSTRAINT [DF_tbl_CS_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO



CREATE TABLE [dbo].[tbl_PainterItemToken](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Painter_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Token] [numeric](18, 2) NULL,
	[Status] [varchar](30) NULL,
 CONSTRAINT [PK_tbl_PainterItemToken] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Painter_ID] ASC,
	[Item_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_PainterItemToken] ADD  CONSTRAINT [DF_tbl_PainterItemToken_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO


DROP TABLE tbl_PainterItemToken
GO

CREATE TABLE [dbo].[tbl_Painter_ItemToken](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ID] [numeric](18, 0) NOT NULL,
	[Painter_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Token] [numeric](18, 2) NULL,
	[Status] [varchar](30) NULL,
 CONSTRAINT [PK_tbl_Painter_ItemToken] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ID] ASC,
	[Painter_ID] ASC,
	[Item_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_Painter_ItemToken] ADD  CONSTRAINT [DF_tbl_PainterItemToken_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO
alter table tbl_ApplicationParameter
add EqualPaidSaleInv bit
go
sp_rename 'tbl_ApplicationParameter.EqualPaidSaleInv','GarmentsMall','Column'
go
alter table tbl_Accounts add UrduName nvarchar(500)
go
CREATE TABLE [dbo].[tbl_PainterPayment](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Payment_ID] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NOT NULL,
	[CreatedTime] [datetime] NOT NULL,
	[Painter_ID] [numeric](18, 0) NOT NULL,
	[Pre_Balance] [numeric](18, 2) NULL,
	[Amount] [numeric](18, 2) NULL,
	[New_Balance] [numeric](18, 2) NULL,
	[Remarks] [varchar](200) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_PainterPayment] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Payment_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_PainterPayment] ADD  CONSTRAINT [DF_tbl_PainterPayment_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Transporter add Balance numeric(18,2)
go
alter table tbl_Sales_Detail add ItemToken numeric(18,2)
go
alter table tbl_Dep_Designation_City_Color_Size add Code varchar(50)
go
update tbl_Dep_Designation_City_Color_Size set Code=Name where Code is null
go
alter table  tbl_ItemBarcodePrint
add ColorCode varchar(20)
go

alter table  tbl_ItemBarcodePrint
add SizeCode varchar(20)
go
alter table  tbl_ItemBarcodePrint
add Category_Article varchar(20)
go
alter table tbl_EmployeeLeaves
add User_ID	varchar(50)
go
alter table tbl_EmployeeLeaves
add Computer	varchar(50)
go
alter table tbl_AuditStockDetail
add CostPrice numeric(18,2)
go

alter table tbl_AuditStockDetail
add SalePrice numeric(18,2)
go
alter table tbl_AuditStockDetail
add Size1 numeric(18,2)
go
alter table tbl_AuditStockDetail
add Size2 numeric(18,2)
go
update au set au.CostPrice=Purchase_Price from tbl_AuditStockDetail  as au inner join 
tbl_items as i on i.Item_ID=au.Item_ID where au.CostPrice is null 
go
update au set au.SalePrice=i.Sale_Price from tbl_AuditStockDetail  as au inner join 
tbl_items as i on i.Item_ID=au.Item_ID where au.SalePrice is null 
go

update au set au.Size1=im.Size1,au.Size2=im.Size2 from tbl_AuditStockDetail  as au inner join 
tbl_items as i on i.Item_ID=au.Item_ID 
inner join tbl_Items_Main as im on i.Main_ID=im.Main_ID
where au.Size1 is null  and au.Size2 is null
go
alter table tbl_EmpAttendance
alter column Worked numeric(18,2)
go
alter table tbl_ExpenseEntry
add Sales_ID numeric(18,2)
go
CREATE NONCLUSTERED INDEX IX_tbl_Sales_Detail
ON dbo.tbl_Sales_Detail (Item_ID  desc)
go
Alter Table tbl_Sales_Detail
add Batch_No varchar(50)
go
alter table tbl_Sales
add DeliveryChallanNo varchar(50)
GO
alter table tbl_Users 
add UserWiseSaleList bit
go
update tbl_Users set UserWiseSaleList='false' where UserWiseSaleList is null
go
alter table tbl_ApplicationParameter
add RoundItemValues bit
go
alter table tbl_ProductionIssueStockDetail
add UnitCost numeric(18,4)
go
alter table tbl_Employeeleaves
add Year Int
go
update tbl_EmployeeLeaves set Year=year(CreatedDate) where Year is null
go
alter table tbl_AuditStockDetail
add SchemeQty numeric(18,2)
GO
alter table tbl_ApplicationParameter
add BarcodeText varchar(20)
go
alter table tbl_Users
add SaleReturn_Access bit
go
update tbl_Users set  SaleReturn_Access='true' where SaleReturn_Access is null
GO
alter table tbl_Users
add ShowCriteriaWiseSale bit
go
update tbl_Users set ShowCriteriaWiseSale='true' where ShowCriteriaWiseSale is null
go
 alter table tbl_StockIssueToSaleman_Detail
add Issue_Pcs numeric(18,0)
go
alter table tbl_Sales_Detail
add SoldPcsQty numeric(18,3)
go
alter table tbl_Sales_Detail
add ReturnPcsQty numeric(18,3)
go
alter table tbl_Sales_Detail
add SchPcsCash numeric(18,3)
go
alter table tbl_StockIssueToSaleman
add Company_ID numeric(18,0)
go
alter table tbl_StockIssueToSaleman_Detail
add Pre_PcsQty numeric(18,0)
go
CREATE TABLE [dbo].[tbl_PriceCode](
	[Digit] [int] NOT NULL,
	[Code] [char](2) NULL,
 CONSTRAINT [PK_tbl_PriceCode] PRIMARY KEY CLUSTERED 
(
	[Digit] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO




CREATE TABLE [dbo].[tbl_CustomerWiseItemPriceList](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ItemPriceList_ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[Item_ID] [numeric](18, 0) NULL,
	[Customer_ID] [numeric](18, 0) NULL,
	[Price] [numeric](18, 0) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_ItemPriceList] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ItemPriceList_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_CustomerWiseItemPriceList] ADD  CONSTRAINT [DF_tbl_ItemPriceList_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO






alter table tbl_PaymentWiseCommission
add DeductionRate numeric(18,2)
go
alter table tbl_PaymentWiseCommission
add TotalDeduction numeric(18,2)
go
alter table tbl_Accounts
add ProductionMember bit
go
alter table tbl_ProductionMember
add Employee_ID numeric(18,0)
go
alter table tbl_ApplicationParameter
add PendingPurchaseFromItemRegScreen bit
go
alter table tbl_ApplicationParameter
add CustomerWisePriceList bit
go
alter Table tbl_Items
add Author_ID numeric(18,0)
go
alter Table tbl_Items
add Edition varchar(20)
go
alter Table tbl_Items
add PublishYear int
go
alter Table tbl_Items
add Pages int
go
alter table tbl_Items
alter column Pages nvarchar(7)
go
alter Table tbl_Items
add CoverType varchar(20)
go

CREATE TABLE [dbo].[tbl_Authors](
	[Author_ID] [numeric](18, 0) NOT NULL,
	[Name] [varchar](50) NULL,
	[Status] [varchar](20) NULL,
 CONSTRAINT [PK_tbl_Authors] PRIMARY KEY CLUSTERED 
(
	[Author_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_Authors] ADD  CONSTRAINT [DF_tbl_Authors_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO

go

Alter table tbl_Items
add Book bit
go
alter table tbl_ItemBarcodePrint
add Qty numeric(18,2)
go

alter table tbl_ItemBarcodePrint
add ArticleNo varchar(50)
go
alter table tbl_Sales
add Area_ID numeric(18,0)
go
 


CREATE TABLE [dbo].[tbl_AuditProdMemStock](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Audit_ID] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NULL,
	[Created_Time] [datetime] NULL,
	[Remarks] [varchar](50) NULL,
	[User_ID] [varchar](20) NULL,
	[Computer] [varchar](50) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_AuditProdMemStock] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Audit_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_AuditProdMemStock] ADD  CONSTRAINT [DF_tbl_AuditProdMemStock_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO

CREATE TABLE [dbo].[tbl_AuditProdMemStock_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Audit_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[ProductionMember_ID] [numeric](18, 0) NULL,
	[Item_ID] [numeric](18, 0) NULL,
	[PresentQty] [numeric](18, 3) NULL,
	[NewQty] [numeric](18, 3) NULL,
	[Difference] [numeric](18, 3) NULL,
	[Size1] [numeric](18, 2) NULL,
	[Size2] [numeric](18, 2) NULL,
	[Cost_Price] [numeric](18, 3) NULL,
	[Status] [varchar](20) NULL,
 CONSTRAINT [PK_tbl_AuditProdMemStock_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Audit_ID] ASC,
	[Detail_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_AuditProdMemStock_Detail] ADD  CONSTRAINT [DF_tbl_AuditProdMemStock_Detail_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO
alter Table tbl_Sales_Detail
Add SalemanPre_Pcs numeric(18,0)

go
alter table tbl_StockIssueToSaleman
add OrderBooker_ID numeric(18,0)
go
CREATE TABLE [dbo].[tbl_ItemToItem_Link](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Sub_ItemID] [numeric](18, 0) NOT NULL,
	[Status] [varchar](30) NULL,
 CONSTRAINT [PK_tbl_ItemToItem_Link] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Item_ID] ASC,
	[Sub_ItemID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_ItemToItem_Link] ADD  CONSTRAINT [DF_tbl_ItemToItem_Link_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO
 alter table tbl_SalemanStock
add OrderBooker_ID numeric(18,0)
go
alter table tbl_TmpLedger
add DebitPcs numeric(18,2)
go
alter table tbl_TmpLedger
add CreditPcs numeric(18,2)
go
alter table tbl_TmpLedger
add AmountPcs numeric(18,2)
go
alter table tbl_Inv_Voucher
add User_ID varchar(50)
go
alter table tbl_Inv_Voucher
add Computer varchar(100)
go
Alter table tbl_Purchase_Detail
Add Pre_Qty numeric(18,2)
go
alter table tbl_Sales_Detail
add Pre_Qty numeric(18,2)
go
alter table tbl_AuditStockDetail
add ItemRemarks varchar(200)
go
alter table tbl_Voucher
add User_ID varchar(50)
go
alter table tbl_Voucher
add Computer varchar(100)
go
alter table tbl_Users
add ShowCustomerOnSaleScreen bit
go
update tbl_Users set ShowCustomerOnSaleScreen='true' where ShowCustomerOnSaleScreen is null
GO
alter table tbl_SalesReturn_Detail
add ExclSalesTax numeric(18,2)
go
alter table tbl_SalesReturn_Detail
add SalesTaxRate numeric(18,2)
go
alter table tbl_SalesReturn_Detail
add Additional_STR numeric(18,2)
go
alter table tbl_SalesReturn_Detail
add InclSalesTax numeric(18,2)
go
alter table tbl_ApplicationParameter
add EnterItemAfterPrice bit
go
Alter table tbl_Items
Add Publisher_ID numeric(18,0)
go
CREATE TABLE [dbo].[tbl_Publisher](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Publisher_ID] [numeric](18, 0) NOT NULL,
	[Name] [varchar](100) NULL,
	[Status] [varchar](20) NULL,
 CONSTRAINT [PK_tbl_Publisher] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Publisher_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_Publisher] ADD  CONSTRAINT [DF_tbl_Publisher_Status]  DEFAULT ('UnSubmitted') FOR [Status]
go
CREATE TABLE [dbo].[tbl_StockRecievedFromSalesman](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Recieve_ID] [numeric](18, 0) NOT NULL,
	[Sale_ID] [numeric](18, 0) NULL,
	[Dated] [smalldatetime] NULL,
	[CreatedTime] [datetime] NULL,
	[Salesman_ID] [numeric](18, 0) NULL,
	[OrderBooker_ID] [numeric](18, 0) NULL,
	[User_ID] [varchar](50) NULL,
	[Computer] [varchar](50) NULL,
	[Remarks] [varchar](200) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_StockRecievedFromSalesman] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Recieve_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_StockRecievedFromSalesman] ADD  CONSTRAINT [DF_tbl_StockRecievedFromSalesman_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_StockRecievedFromSalesman_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Recieve_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NULL,
	[Size1] [numeric](18, 0) NULL,
	[Size2] [numeric](18, 2) NULL,
	[To_ID] [numeric](18, 2) NULL,
	[Rec_Qty] [numeric](18, 0) NULL,
	[Rec_SchQty] [numeric](18, 3) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_StockRecievedFromSalesman_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Recieve_ID] ASC,
	[Detail_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_StockRecievedFromSalesman_Detail] ADD  CONSTRAINT [DF_tbl_StockRecievedFromSalesman_Detail_Status]  DEFAULT ('UnSubmitted') FOR [Status]
go
alter table tbl_EmployeeAdvPay
add  User_ID varchar(50)
go
alter table tbl_EmployeeAdvPay
add  Computer varchar(50)
go
alter table tbl_EmplyeePayRoll
add User_ID varchar(50)
go
alter table tbl_EmplyeePayRoll
add Computer varchar(50)
go
alter table tbl_Stores add MiniShop bit
go
update tbl_Stores set MiniShop='false' where MiniShop is null
go
alter table tbl_Stores add Account_ID numeric(18,0)
go
alter table tbl_ApplicationParameter
add DigitRound int
go
update tbl_ApplicationParameter set DigitRound=2 where DigitRound is null
go
alter table tbl_TmpLedger alter column Detail VARCHAR(Max)
go
alter table tbl_ApplicationParameter add Weight_Price_Barcode int
go
alter table tbl_ApplicationParameter add FP_DeviceName varchar(50)
go
alter table tbl_ItemCategory add CreateNewInvoice bit
go
alter table tbl_Payment
add VisitDay smalldatetime
go
alter table tbl_ItemBarcodePrint
add Description varchar(200)
go
alter table tbl_ItemBarcodePrint
drop column Description
go
alter table tbl_Sales
alter column BookNo varchar(MAX)
go
alter table tbl_ApplicationParameter
alter column Weight_Price_Barcode varchar(20)
go
CREATE TABLE [dbo].[tbl_Wastage](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Wastage_ID] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NULL,
	[Created_Time] [datetime] NULL,
	[Remarks] [varchar](200) NULL,
	[User_Id] [varchar](20) NULL,
	[Computer] [varchar](50) NULL,
	[Status] [varchar](50) NULL,
CONSTRAINT [PK_Wastage] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Wastage_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_Wastage] ADD  CONSTRAINT [DF_Wastage_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_Wastage_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Wastage_ID] [numeric](18, 0) NOT NULL,
	[Store_ID] [numeric](18, 0) NULL,
	[Item_ID] [numeric](18, 0) NULL,
	[Size1] [numeric](18, 2) NULL,
	[Size2] [numeric](18, 2) NULL,
	[CostPrice] [numeric](18, 3) NULL,
	[SalePrice] [numeric](18, 3) NULL,
	[Wastage_Qty] [numeric](18, 3) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_Wastage_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Detail_ID] ASC,
	[Wastage_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_Wastage_Detail] ADD  CONSTRAINT [DF_Wastage_Detail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_RecipeDetail add BW numeric(18,2)
GO
alter table tbl_TmpLedger
alter column Debit numeric(18,3)
GO
alter table tbl_TmpLedger
alter column Credit numeric(18,3)
go
alter table tbl_TmpLedger
alter column Amount numeric(18,3)
go
alter table tbl_Sales_Detail
alter column Qty numeric(18,3)
go
alter table tbl_Sales_Detail
alter column Qty numeric(18,3)
go
alter table tbl_Purchase_Detail
alter column Qty numeric(18,3)
go
alter table tbl_Purchase_Detail_Tmp
alter column Qty numeric(18,3)
go
alter table tbl_ApplicationParameter
add InvDis_Misc_Limit numeric(18,2)
go
alter table tbl_TmpLedger
alter column Detail varchar(max)
go
update tbl_Users set ShowCustomerOnSaleScreen='true' where ShowCustomerOnSaleScreen is null
go
alter table tbl_RecipeDetail
add WastageSale bit
go
alter table tbl_Users
add SetCPAccess bit
go
update tbl_Users set SetCPAccess='false' where SetCPAccess is null
go
alter table tbl_ItemBarcodePrint
alter column Category_Article varchar(100)
go
CREATE TABLE [dbo].[tbl_EmployeeBalAdj](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Adj_ID] [numeric](18, 0) NOT NULL,
	[Employee_ID] [numeric](18, 0) NULL,
	[Dated] [smalldatetime] NULL,
	[CreatedTime] [datetime] NULL,
	[Type] [varchar](50) NULL,
	[PreBalance] [numeric](18, 2) NULL,
	[Amount] [numeric](18, 2) NULL,
	[NewBalance] [numeric](18, 2) NULL,
	[Description] [varchar](max) NULL,
	[User_ID] [varchar](50) NULL,
	[Computer] [varchar](50) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_EmployeeBalAdj] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Adj_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_EmployeeBalAdj] ADD  CONSTRAINT [DF_tbl_EmployeeBalAdj_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_TmpSales_Delete](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[DeleteSale_ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[Invoice_No] [numeric](18, 0) NULL,
	[Dated] [datetime] NULL,
	[Customer_ID] [numeric](18, 0) NULL,
	[Salesman_ID] [numeric](18, 0) NULL,
	[Item_ID] [numeric](18, 0) NULL,
	[ItemName] [varchar](100) NULL,
	[Size1] [numeric](18, 2) NULL,
	[Size2] [numeric](18, 2) NULL,
	[Qty] [numeric](18, 2) NULL,
	[Price] [numeric](18, 2) NULL,
	[Sub_Total] [numeric](18, 2) NULL,
	[Dis_Per] [numeric](18, 2) NULL,
	[Dis_Rs] [numeric](18, 2) NULL,
	[Total] [numeric](18, 2) NULL,
	[Cost_Price] [numeric](18, 2) NULL,
	[AvgCost] [numeric](18, 2) NULL,
	[Store_ID] [numeric](18, 0) NULL,
	[Deleted_By] [varchar](50) NULL,
	[Deleted_On] [datetime] NULL,
	[POS] [varchar](50) NULL,
	[Location] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_TmpSales_Delete] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[DeleteSale_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[tbl_ItemUpdateHistory](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ItemHistory_ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[Item_ID] [numeric](18, 0) NULL,
	[Barcode] [varchar](50) NULL,
	[Item_Name] [varchar](200) NULL,
	[Purchase_Price] [varchar](50) NULL,
	[Sale_Price] [varchar](50) NULL,
	[Size1] [varchar](50) NULL,
	[Size2] [varchar](50) NULL,
	[Company] [varchar](200) NULL,
	[Category] [varchar](200) NULL,
	[Class] [varchar](200) NULL,
	[SubClass] [varchar](200) NULL,
	[Country] [varchar](200) NULL,
	[Supplier] [varchar](200) NULL,
	[Updated_By] [varchar](50) NULL,
	[Updated_On] [datetime] NULL,
	[Computer] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_ItemUpdateHistory] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ItemHistory_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO
alter table tbl_Users
add POSWise_PPL bit
GO
alter table tbl_Users
add ShowItemDetail_SE bit
go

alter table tbl_Sales_Detail
drop column SoldPcsQty
GO
EXEC sp_RENAME 'tbl_Sales_Detail.ReturnQty', 'ReturnPK', 'COLUMN'
GO
EXEC sp_RENAME 'tbl_Sales_Detail.ReturnPcsQty', 'ReturnPcs', 'COLUMN'

go
alter table tbl_Accounts
add Inv_Dis numeric(18,2)
go
alter table tbl_ApplicationParameter
add LedgerStock bit
go

alter table tbl_ItemBarcodePrint
add LastOpening_PurchaseDate smalldatetime
go
alter table tbl_Accounts
add LateTimeRate numeric(18,2)
go
alter table tbl_Accounts
add OverTimeRate numeric(18,2)
go
alter table tbl_items
add OpeningDate smalldatetime
go
alter table tbl_Accounts
drop column OverTimeRate
go
EXEC sp_RENAME 'tbl_Accounts.LateTimeRate', 'UmraPackage', 'COLUMN'
go
alter table tbl_EmplyeePayRoll
add UmraPackage numeric(18,2)
go
alter table tbl_Accounts
add OverTime bit
go
alter table tbl_Accounts
add BreakMinutes numeric(18,2)
go
alter table tbl_Users
add SaleInvDisModify bit
go
alter table tbl_EmplyeePayRoll
add Received numeric(18,2)
go
alter table tbl_Accounts
add ThirtyWorkingDays bit
go
alter table tbl_Sales
add Partner_No bigint
go
alter table tbl_ApplicationParameter
add MinQty_Expiry_Alert_AfterLogin bit
go
alter table tbl_Items
alter column UrduName nvarchar(200)
go
alter table tbl_ItemCategory
alter column Category_Name nvarchar(200)
go
alter table tbl_ItemClass
alter column Class_Name nvarchar(200)
go
alter table tbl_ItemCompany
alter column Company_Name nvarchar(200)
go
alter table tbl_ItemCountry
alter column Country_Name nvarchar(200)
go
alter table tbl_ApplicationParameter
alter column CompanyName nvarchar(200)
go
alter table tbl_ApplicationParameter
alter column CompanyAddress nvarchar(200)
go
alter table tbl_Accounts
alter column Account_Name nvarchar(200)
go
alter table tbl_Accounts
alter column Address nvarchar(200)
go
alter table tbl_Accounts
alter column FatherName nvarchar(200)
go
alter table tbl_Items
add PurchaseNextTime bit
go
update tbl_Items set PurchaseNextTime='true' where PurchaseNextTime is null
go
alter table tbl_Items add Item_Type varchar(20)
go
alter table tbl_Dep_Designation_City_Color_Size
alter column Name nvarchar(200)
go
alter table tbl_Items
alter column Item_Name nvarchar(200)
go
alter table tbl_ItemSubClass
alter column SubClass_Name nvarchar(200)
go
CREATE TABLE [dbo].[Belti](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[BillNo] [int] NOT NULL,
	[BiltiNo] [int] NULL,
	[Dated] [datetime] NULL,
	[Ghagh] [nvarchar](100) NULL,
	[AgencyCode] [int] NULL,
	[Agency] [nvarchar](100) NULL,
	[Address] [nvarchar](400) NULL,
	[Laborer] [numeric](18, 2) NULL,
	[TotalQty] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_Belti] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[BillNo] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[Belti] ADD  CONSTRAINT [DF_Belti_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO

CREATE TABLE [dbo].[BeltiDetails](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[BeltiDetailID] [int] NOT NULL,
	[BillNo] [int] NULL,
	[BeltiNo] [int] NULL,
	[ProductDetial] [nvarchar](400) NULL,
	[Quantity] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_BeltiDetails] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[BeltiDetailID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[BeltiDetails] ADD  CONSTRAINT [DF_BeltiDetails_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Transporter
alter column Name nvarchar(200)
go
alter table tbl_Sales
alter column Remarks nvarchar(1000)
go
alter table tbl_EmpAttendance
add F_DutyTime datetime
go
alter table tbl_EmpAttendance
add T_DutyTime datetime
go
alter table tbl_Items_Main
alter column Main_Name nvarchar(200)
go
alter table tbl_ApplicationParameter
add EditDayOC bit
go
alter table tbl_Transporter
add Address nvarchar(500)
go
alter table tbl_Transporter
add Phone varchar(50)
go
alter table tbl_Transporter
add ContactPerson varchar(50)
go
alter table tbl_Accounts
alter column Name nvarchar(200)
go
alter table tbl_Sales
alter column CustName nvarchar(100)
go
alter table tbl_Sales_Tmp
add CustName nvarchar(100)
go
alter table tbl_EmplyeePayRoll
add OffDayHrs numeric(18,2)
go
alter table  tbl_EmplyeePayRoll
add OffDayRs numeric(18,2)
go

alter table tbl_EmplyeePayRoll
add BreakFineHrs numeric(18,2)
go
alter table tbl_EmplyeePayRoll
add BreakFineRs numeric(18,2)
go

CREATE TABLE [dbo].[tbl_CustomerTypes](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[CustomerType_ID] [numeric](18, 0) NOT NULL,
	[CustomerType] [varchar](50) NULL,
	[Active] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_CustomerTypes] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[CustomerType_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_CustomerTypes] ADD  CONSTRAINT [DF_tbl_CustomerTypes_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Accounts
add CustomerType_ID numeric(18,0)
GO
CREATE TABLE [dbo].[tbl_HolyDays](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[HolyDay_ID] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NULL,
	[Year] [int] NULL,
	[Month] [int] NULL,
	[Description] [varchar](500) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_HolyDays] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[HolyDay_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_HolyDays] ADD  CONSTRAINT [DF_tbl_HolyDays_Status]  DEFAULT (N'Unsubmitted') FOR [Status]
GO


CREATE TABLE [dbo].[tbl_SMS](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[SMS_ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[Customer_ID] [numeric](18, 0) NULL,
	[Contact_No] [varchar](50) NULL,
	[Sending_Date] [smalldatetime] NULL,
	[Sending_Time] [datetime] NULL,
	[User_ID] [varchar](50) NULL,
	[Computer] [varchar](50) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_SMS] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[SMS_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_SMS] ADD  CONSTRAINT [DF_tbl_SMS_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_SMS
add SMS varchar(max)
go
alter table tbl_TmpLedger
alter column Detail varchar(MAX)
go
alter table tbl_ApplicationParameter add ReqSalesmen bit
go
alter table tbl_Purchase_Detail
add item_name varchar(50)
go
alter table tbl_Purchase_Detail_Tmp
add item_name varchar(50)
GO
alter table tbl_CustomerDailySheet
add SalesmamCom numeric(18,2)
GO
alter table tbl_CustomerDailySheet
add OBCom numeric(18,2)
go
alter table tbl_Dep_Designation_City_Color_Size add ComRule numeric(18,2)
go
CREATE TABLE [dbo].[tbl_EmpCom](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[EmpCom_ID] [numeric](18, 0) NOT NULL,
	[Employee_ID] [numeric](18, 0) NOT NULL,
	[Dated] [datetime] NULL,
	[Amount] [numeric](18, 2) NULL,
	[ComRule] [numeric](18, 2) NULL,
	[Commision] [numeric](18, 2) NULL,
 CONSTRAINT [PK_tbl_EmpCom_1] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[EmpCom_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
sp_rename 'tbl_EmpCom.Employee_ID','Dep_ID','Column'
go
alter table tbl_EmpCom
add Level varchar(10)
GO
alter table tbl_Sales_Detail_Tmp add Item_Name varchar(100)
go
alter table tbl_Sales_Detail add Item_Name varchar(100)
go
alter table tbl_Sales_Detail_Tmp alter column Item_Name varchar(200)
go
alter table tbl_Sales_Detail alter column Item_Name varchar(200)
go
update sd set sd.Item_Name=i.Item_Name  from tbl_Items as i inner join tbl_Sales_Detail_Tmp as sd on i.Item_ID=sd.Item_ID
where sd.Item_Name is null
go
update sd set sd.Item_Name=i.Item_Name  from tbl_Items as i inner join tbl_Sales_Detail as sd on i.Item_ID=sd.Item_ID
where sd.Item_Name is null
GO
update sd set sd.Item_Name=i.Item_Name  from tbl_Items as i inner join tbl_Purchase_Detail_Tmp as sd on i.Item_ID=sd.Item_ID
where sd.Item_Name is null
GO
update sd set sd.Item_Name=i.Item_Name  from tbl_Items as i inner join tbl_Purchase_Detail as sd on i.Item_ID=sd.Item_ID
where sd.Item_Name is null
go

CREATE TABLE [dbo].[tbl_PurchaseInvoiceScan](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Purchase_ID] [numeric](18, 0) NOT NULL,
	[Purchase_Invoice] [image] NULL,
	[Invoice_Name] [varchar](200) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_PurchaseInvoiceScan] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Detail_ID] ASC,
	[Purchase_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_PurchaseInvoiceScan] ADD  CONSTRAINT [DF_tbl_PurchaseInvoiceScan_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Sales add Bill_No numeric(18, 0)
go
alter table tbl_Sales alter column Bill_No varchar(50)
go
alter table tbl_Dep_Designation_City_Color_Size
add MaxCheckOutTime datetime
go
CREATE TABLE [dbo].[tbl_EmpCom_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[EmpCom_ID] [numeric](18, 0) NULL,
	[Emp_ID] [numeric](18, 0) NULL,
	[Total] [numeric](18, 4) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_EmpCom_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Detail_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]



CREATE TABLE [dbo].[tbl_ItemCom_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Com_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NULL,
	[Qty] [numeric](18, 4) NULL,
	[S_Price] [numeric](18, 4) NULL,
	[Total] [numeric](18, 4) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_ItemCom_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Detail_ID] ASC,
	[Com_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
alter table tbl_PurchaseReturn_Detail add Scheme_Qty numeric(18, 3)
go
alter table tbl_SalesReturn_Detail add Scheme_Qty numeric(18,3)
go
alter table tbl_ItemCom_Detail add Inv_No numeric(18,0)
go
alter table tbl_ApplicationParameter
add WordSearchBarcode bit
go
alter table tbl_EmpCom_Detail
add Sale numeric(18,2)
go
alter table tbl_SetItemPriceHistory
add Item_Name varchar(100)
go
alter table tbl_SetItemPriceHistory
add NewItem_Name varchar(100)
go
alter table tbl_EmpCom add Commission2 numeric(18, 2)
go

alter table tbl_Accounts
add OverTimeRs numeric(18,2)
go
alter table tbl_ApplicationParameter
add Mrkt_Price bit
go
alter table tbl_Items
add Mrkt_Price numeric(18,2)
go
alter table tbl_Sales_Detail_Tmp
add Batch_No varchar(50)
go

alter table tbl_Sales
add BankPayment numeric(18,2)
go
alter table tbl_SaleDeliveryChallan
add OrderBroker_ID numeric(18,0)
go
CREATE TABLE [dbo].[tbl_ScanRecipts](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Source_ID] [numeric](18, 0) NOT NULL,
	[Recipt] [image] NULL,
	[Recipt_Name] [varchar](500) NULL,
	[Source] [varchar](50) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_ScanRecipts] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Detail_ID] ASC,
	[Source_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_ScanRecipts] ADD  CONSTRAINT [DF_tbl_ScanRecipts_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_EmplyeePayRoll
alter column WorkedHrs numeric(18,2)
go
alter table tbl_EmplyeePayRoll
alter column FineHrs numeric(18,2)
go
alter table tbl_EmplyeePayRoll
alter column OverTimeHrs numeric(18,2)
go
alter table tbl_ApplicationParameter
add SingleAttPerDay bit
go
alter table tbl_Accounts
add Religion varchar(50)
go

alter table tbl_HolyDays
add Religion varchar(50)
go
alter table Belti add Ghagh_ContactNo varchar(50)
go
alter table Belti add Ghagh_Addess varchar(200)
go
CREATE TABLE [dbo].[tbl_CashDetail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[CashDetail_ID] [numeric](18, 0) NOT NULL,
	[Dated] [datetime] NULL,
	[PercentageCash] [numeric](18, 2) NULL,
	[SectionCash] [numeric](18, 2) NULL,
	[Total] [numeric](18, 2) NULL,
	[OpticianCash] [numeric](18, 2) NULL,
	[AyazFabricsCash] [numeric](18, 2) NULL,
 CONSTRAINT [PK_tbl_CashDetail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[CashDetail_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
CREATE TABLE [dbo].[tbl_Closing1](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Closing1_ID] [numeric](18, 0) NOT NULL,
	[Dated] [datetime] NULL,
	[CounterClosing] [numeric](18, 2) NULL,
	[Slip] [numeric](18, 2) NULL,
	[BigCash] [numeric](18, 2) NULL,
	[Total_Slip_BigCash] [numeric](18, 2) NULL,
	[Return_Sale] [numeric](18, 2) NULL,
	[UG_Cos_PaidBill] [numeric](18, 2) NULL,
	[AyazFabrics] [numeric](18, 2) NULL,
	[BabyCloth] [numeric](18, 2) NULL,
	[ReceivedCash] [numeric](18, 2) NULL,
	[Department] [varchar](50) NULL,
 CONSTRAINT [PK_Closing1] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Closing1_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[tbl_Closing3](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Closing3_ID] [numeric](18, 0) NOT NULL,
	[Dated] [datetime] NULL,
	[OpeningCash] [numeric](18, 2) NULL,
	[OpticianCash] [numeric](18, 2) NULL,
	[AyazFabrics] [numeric](18, 2) NULL,
	[ReceivedCash] [numeric](18, 2) NULL,
	[NegativeCosCash] [numeric](18, 2) NULL,
	[NegativeGroCash] [numeric](18, 2) NULL,
	[NegativeSaleCash] [numeric](18, 2) NULL,
	[NegativeOpticsCash] [numeric](18, 2) NULL,
	[Total1] [numeric](18, 2) NULL,
	[AllDeptTotal] [numeric](18, 2) NULL,
	[TotalOptics] [numeric](18, 2) NULL,
	[OpticsExpense] [numeric](18, 2) NULL,
	[TotalOpticsCash] [numeric](18, 2) NULL,
	[TotalPercentage] [numeric](18, 2) NULL,
	[TotalAyazFabrics] [numeric](18, 2) NULL,
	[GrandTotal] [numeric](18, 2) NULL,
	[Closing1] [numeric](18, 2) NULL,
	[Closing2] [numeric](18, 2) NULL,
	[TotalMedCash] [numeric](18, 2) NULL,
	[MedBills] [numeric](18, 2) NULL,
	[TotalMedicineCash] [numeric](18, 2) NULL,
 CONSTRAINT [PK_tbl_Closing3] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Closing3_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[tbl_Closing4](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Closing4_ID] [numeric](18, 0) NOT NULL,
	[Dated] [datetime] NULL,
	[OpeningCash] [numeric](18, 2) NULL,
	[OpticianCash] [numeric](18, 2) NULL,
	[AyazFabrics] [numeric](18, 2) NULL,
	[ReceivedCash] [numeric](18, 2) NULL,
	[BillsMedicine] [numeric](18, 2) NULL,
	[BillsCosmetics] [numeric](18, 2) NULL,
	[BillsGrocers] [numeric](18, 2) NULL,
	[Total1] [numeric](18, 2) NULL,
	[MedicineCashAfterPer] [numeric](18, 2) NULL,
	[CosmeticsCashAfterPer] [numeric](18, 2) NULL,
	[GrocersCashAfterPer] [numeric](18, 2) NULL,
	[Total2] [numeric](18, 2) NULL,
	[TotalPercentageCash] [numeric](18, 2) NULL,
	[TotalOpticianCash] [numeric](18, 2) NULL,
	[TotalAyazFabricsCash] [numeric](18, 2) NULL,
	[Total3] [numeric](18, 2) NULL,
 CONSTRAINT [PK_tbl_Closing4] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Closing4_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

CREATE TABLE [dbo].[tbl_AllDepartment_Closing2](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Closing2_ID] [numeric](18, 0) NOT NULL,
	[Dated] [datetime] NULL,
	[Medicine] [numeric](18, 2) NULL,
	[Cosmetics] [numeric](18, 2) NULL,
	[Grocers] [numeric](18, 2) NULL,
	[Watches] [numeric](18, 2) NULL,
	[Cloths] [numeric](18, 2) NULL,
	[Optician] [numeric](18, 2) NULL,
	[Jewlerry] [numeric](18, 2) NULL,
	[UGarments] [numeric](18, 2) NULL,
	[BabyCloth] [numeric](18, 2) NULL,
	[TotalDepartmentSale] [numeric](18, 2) NULL,
	[Medicine_HBL] [numeric](18, 2) NULL,
	[Cosmetics_HBL] [numeric](18, 2) NULL,
	[Grocers_HBL] [numeric](18, 2) NULL,
	[TotalDepartmentCCSale] [numeric](18, 2) NULL,
 CONSTRAINT [PK_tbl_AllDepartment_Closing2] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Closing2_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO


CREATE TABLE [dbo].[tbl_DepartmentWise_Closing2](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Closing2_ID] [numeric](18, 0) NOT NULL,
	[Dated] [datetime] NULL,
	[CounterClosing] [numeric](18, 2) NULL,
	[AfterClosingBills] [numeric](18, 2) NULL,
	[NextDayOpening] [numeric](18, 2) NULL,
	[HBL] [numeric](18, 2) NULL,
	[Total1] [numeric](18, 2) NULL,
	[LP] [numeric](18, 2) NULL,
	[AE] [numeric](18, 2) NULL,
	[PC] [numeric](18, 2) NULL,
	[Coin] [numeric](18, 2) NULL,
	[CreditSale] [numeric](18, 2) NULL,
	[Total2] [numeric](18, 2) NULL,
	[ReceivedCash] [numeric](18, 2) NULL,
	[TotalJV] [numeric](18, 2) NULL,
	[Opening] [numeric](18, 2) NULL,
	[TotalSaleManual] [numeric](18, 2) NULL,
	[TotalSaleComputer] [numeric](18, 2) NULL,
	[Difference] [numeric](18, 2) NULL,
	[Department] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_DepartmentWise_Closing2] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Closing2_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
alter table tbl_Sales_Tmp
add CustAddress varchar(200)
GO

alter table tbl_Sales_Tmp
add CustContact varchar(50)
go
alter table tbl_DepartmentWise_Closing2
add OK bit
go
CREATE TABLE [dbo].[tbl_IS_Opt_Jew_UG](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Income_ID] [numeric](18, 0) NOT NULL,
	[Month] [int] NULL,
	[Year] [int] NULL,
	[Opening] [numeric](18, 2) NULL,
	[Sale] [numeric](18, 2) NULL,
	[Income] [numeric](18, 2) NULL,
	[Expense] [numeric](18, 2) NULL,
	[Difference] [numeric](18, 2) NULL,
 CONSTRAINT [PK_tbl_IS_Opt_Jew_UG] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Income_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
alter table tbl_Payment
alter column Description nvarchar(500)
go
alter table tbl_ApplicationParameter
add SaleItemWithDiffDes bit
go
alter table tbl_Items
add SaleItemWithDiffDes bit
go
alter table tbl_Sales_Tmp
alter column  CustAddress nvarchar(200)
go
alter table tbl_Sales
alter column  CustAddress nvarchar(200)
go
alter table tbl_TmpLedger
alter column Detail nvarchar(max)
go
alter table tbl_ApplicationParameter
add HideSupRecInSS bit
go
alter table tbl_TmpLedger
alter column Debit numeric(18,3)
go
alter table tbl_TmpLedger
alter column Credit numeric(18,3)
go
alter table tbl_TmpLedger
alter column Amount numeric(18,3)
go
alter table tbl_ApplicationParameter
add  SaleItemWithDiffDes_Cost_Per numeric(18,2)
go
alter table tbl_Closing4
add  NegativeOptician numeric(18,2)
go
alter table tbl_Closing4
add  NegativePercentage numeric(18,2)
go
CREATE TABLE [dbo].[tbl_DW_UmrahPackage_Pay](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[UP_ID] [numeric](18, 0) NOT NULL,
	[Dated] [datetime] NULL,
	[Pay] [numeric](18, 2) NULL,
	[Description] [varchar](500) NULL,
	[Debit_Credit] [char](1) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_DW_UmrahPackage_Pay] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[UP_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_DW_UmrahPackage_Pay] ADD  CONSTRAINT [DF_tbl_DW_UmrahPackage_Pay_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_TmpLedger
alter column Detail nvarchar(max)
go

alter table tbl_DepartmentWise_Closing2
add Bank_ID numeric(18,0)

go

alter table tbl_BankAdjustment
add DepartmentWise_Closing2_ID numeric(18,0)
go
alter table tbl_BankAdjustment
add OK bit
go
alter table tbl_DailyClosingStock
add AvgCost numeric(18,2)
go
alter table tbl_ApplicationParameter
add GST_Bill_Focus bit
go
alter table tbl_DepartmentWise_Closing2
add Misc numeric(18,2)
go
alter table tbl_ApplicationParameter
add ClearPendingSale_In_Closing bit
go
alter table tbl_EmplyeePayRoll
add TotalShortWeek numeric(18,2)
GO
alter table tbl_EmplyeePayRoll
add TFC numeric(18,2)
go
alter table tbl_Sales_Detail_Tmp
add ApplyDiscount bit
go
alter table tbl_Sales
add Cashier_Computer varchar(100)
go

alter table tbl_Closing1
add Department_ID numeric(18,0)
go
alter table tbl_DailyCash
add Department_ID numeric(18,0)
go
alter table tbl_DailyCash
add Slip numeric(18,2)
go
alter table tbl_DailyCash
add BigCash numeric(18,2)
go
alter table tbl_ApplicationParameter
add BlockSalesmanWhenItemAdd bit
go
alter table tbl_DepartmentWise_Closing2
add Department_ID numeric(18,2)
GO
CREATE TABLE [dbo].[tbl_DepartmentWiseBank_Closing2](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Bank_Closing2_ID] [numeric](18, 0) NOT NULL,
	[Closing2_ID] [numeric](18, 0) NULL,
	[Bank_ID] [numeric](18, 0) NULL,
	[Amount] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_DepartmentWiseBank_Closing2] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Bank_Closing2_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_DepartmentWiseBank_Closing2] ADD  CONSTRAINT [DF_tbl_DepartmentWiseBank_Closing2_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_DepartmentWiseBank_Closing2
add OK bit
go
alter table tbl_DepartmentWiseBank_Closing2
add DeductionRate numeric(18,4)
go
alter table tbl_DepartmentWiseBank_Closing2
add Deduction numeric(18,4)
go
alter table tbl_DepartmentWiseBank_Closing2
add Total numeric(18,4)
go
alter table tbl_Accounts
alter column Deduction numeric(18,4)
go

alter table tbl_AllDepartment_Closing2
add Department_ID	 numeric(18,0)
go
alter table tbl_Dep_Designation_City_Color_Size
add CombineDepSale bit
go

alter table tbl_Transporter
add Commission numeric(18,0)
go
alter table tbl_ApplicationParameter
add ItemGridCostPriceCode bit
go
alter table tbl_Items 
add CostPriceCode varchar(50)
go
CREATE TABLE [dbo].[tbl_DW_CounterSale](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[CounterSale_ID] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NULL,
	[Department_ID] [numeric](18, 0) NULL,
	[CounterDepartment_ID] [numeric](18, 0) NULL,
	[InvNo] [numeric](18, 0) NULL,
	[Sale] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_DW_CounterSale] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[CounterSale_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_DW_CounterSale] ADD  CONSTRAINT [DF_tbl_DW_CounterSale_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO

CREATE TABLE [dbo].[tbl_SalesmanItemCom](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Salesman_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[Commission] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_SalesmanItemCom] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Item_ID] ASC,
	[Salesman_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_SalesmanItemCom] ADD  CONSTRAINT [DF_tbl_SalesmanItemCom_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_SalesmanNetSaleCom](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[Net_Sale] [numeric](18, 2) NULL,
	[Commission] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_SalesmanNetSaleCom] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_SalesmanNetSaleCom] ADD  CONSTRAINT [DF_tbl_SalesmanNetSaleCom_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO

alter table tbl_Sales_Detail
add Item_Commission numeric(18,2)
go
CREATE TABLE [dbo].[tbl_DailySalesmanNetSaleCom](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[Dated] [smalldatetime] NULL,
	[Salesman_ID] [numeric](18, 0) NULL,
	[Net_Sale] [numeric](18, 2) NULL,
	[Commission] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Cal_SalesmanNetSaleCom] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_DailySalesmanNetSaleCom] ADD  CONSTRAINT [DF_tbl_Cal_SalesmanNetSaleCom_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_Halls](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Hall_ID] [numeric](18, 0) NOT NULL,
	[Code] [varchar](50) NULL,
	[Hall_Name] [varchar](50) NULL,
	[Active] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Halls] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Hall_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_Halls] ADD  CONSTRAINT [DF_tbl_Halls_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_Tables](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Table_ID] [numeric](18, 0) NOT NULL,
	[Hall_ID] [numeric](18, 0) NULL,
	[Code] [varchar](50) NULL,
	[Table_Name] [varchar](50) NULL,
	[ApplyServiceCharges] [bit] NULL,
	[Active] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Tables] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Table_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_Tables] ADD  CONSTRAINT [DF_tbl_Tables_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO

alter table tbl_Sales
add Table_ID numeric(18,2)
go
alter table tbl_Sales
add FuelExpense numeric(18,2)
go
alter table tbl_ApplicationParameter
add Restaurant bit
go
alter table tbl_Sales_Detail
add KOT_Qty numeric(18,2)
go

alter table tbl_ApplicationParameter
add ItemGridMarketPrice bit
go
CREATE TABLE [dbo].[tbl_ItemStations](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Station_ID] [numeric](18, 0) NOT NULL,
	[Code] [varchar](50) NULL,
	[Station_Name] [varchar](200) NULL,
	[Urdu_Name] [nvarchar](max) NULL,
	[Printer] [varchar](200) NULL,
	[Active] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_Item_Station] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Station_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_ItemStations] ADD  CONSTRAINT [DF_Item_Stations]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Items 
add Station_ID numeric(18,0)
go
alter table tbl_ApplicationParameter
add ClearItemAfterKOT bit
go
alter table tbl_EmplyeePayRoll
add ThirtyWDs bit
go
alter table tbl_ApplicationParameter
add AnotherPrintPrinterLocation varchar(50)
go
CREATE TABLE [dbo].[tbl_Logos](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Logo_ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[UploadImage] [image] NULL,
	[Active] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Logos] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Logo_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_Logos] ADD  CONSTRAINT [DF_tbl_Logos_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO
alter table tbl_Accounts add Emp_Rank int
go
alter table tbl_DepartmentWise_Closing2 add Discount numeric(18,2)
go
alter table tbl_ApplicationParameter add SystemInfo varchar(MAX)
GO
alter table tbl_ApplicationParameter
add S_W_E varchar(max)
go
alter table tbl_Sales add AnotherRemarks varchar(max)
go
alter table tbl_ApplicationParameter add RegisterSW bit
go
alter table tbl_TmpLedger alter column Detail nvarchar(max)
go
alter table tbl_SalesmanItemCom add WSCommission numeric(18,2)
go
alter table tbl_Payment add Receiver_ID	numeric(18,0)
go
alter table tbl_SalesmanStockIssueReceive add ConvertedToSale_ID numeric(18,0)
GO


CREATE TABLE [dbo].[tbl_SalesmanStockIssueReceive](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Issue_Receive_ID] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NULL,
	[Created_Time] [datetime] NULL,
	[Store_ID] [numeric](18, 0) NULL,
	[Salesman_ID] [numeric](18, 0) NULL,
	[Customer_ID] [numeric](18, 0) NULL,
	[TotalSale] [numeric](18, 2) NULL,
	[WSDiscount] [numeric](18, 2) NULL,
	[Expense] [numeric](18, 2) NULL,
	[NetSale] [numeric](18, 2) NULL,
	[Received] [numeric](18, 2) NULL,
	[Balance] [numeric](18, 2) NULL,
	[User_ID] [varchar](50) NULL,
	[Computer] [varchar](50) NULL,
	[Remarks] [varchar](500) NULL,
	[Closed] [bit] NULL,
	[Status] [varchar](50) NULL,
	[ConvertedToSale_ID] [numeric](18, 0) NULL,
 CONSTRAINT [PK_tbl_SalesmanStockIssueReceive] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Issue_Receive_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_SalesmanStockIssueReceive] ADD  CONSTRAINT [DF_tbl_SalesmanStockIssueReceive_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO




CREATE TABLE [dbo].[tbl_SalesmanStockIssueReceive_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Issue_Receive_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NULL,
	[Size1] [numeric](18, 3) NULL,
	[Size2] [numeric](18, 3) NULL,
	[R_Price] [numeric](18, 2) NULL,
	[R_Commission_Per] [numeric](18, 2) NULL,
	[WS_Commission_Per] [numeric](18, 2) NULL,
	[StoreOpeningQty] [numeric](18, 2) NULL,
	[IssuedQty] [numeric](18, 2) NULL,
	[VanOpeningQty] [numeric](18, 2) NULL,
	[VanQty] [numeric](18, 2) NULL,
	[R_SaleQty] [numeric](18, 2) NULL,
	[WS_SaleQty] [numeric](18, 2) NULL,
	[Amount] [numeric](18, 2) NULL,
	[Commission] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_SalesmanStockIssueReceive_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Detail_ID] ASC,
	[Issue_Receive_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_SalesmanStockIssueReceive_Detail] ADD  CONSTRAINT [DF_tbl_SalesmanStockIssueReceive_Detail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO


CREATE TABLE [dbo].[tbl_Companies](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Company_ID] [numeric](18, 0) NOT NULL,
	[Name] [varchar](100) NULL,
	[Address] [varchar](1000) NULL,
	[Contact] [varchar](100) NULL,
	[NTN] [varchar](50) NULL,
	[STRN] [varchar](50) NULL,
	[Active] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Companies] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Company_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_Companies] ADD  CONSTRAINT [DF_tbl_Companies_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO

alter table tbl_Dep_Designation_City_Color_Size add Deduction numeric(18,2)
GO
alter table tbl_Dep_Designation_City_Color_Size add DW_Opening_Forward  bit
GO
alter table tbl_Dep_Designation_City_Color_Size add DW_Receiving_Forward  bit
GO
CREATE TABLE [dbo].[tbl_DepartmentOpening_DW](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Dep_Opening_ID] [numeric](18, 0) NOT NULL,
	[Department_ID] [numeric](18, 0) NULL,
	[Dated] [smalldatetime] NULL,
	[Opening_Amount] [numeric](18, 2) NULL,
	[DeductionRate] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_DepartmentOpening_DW] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Dep_Opening_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_DepartmentOpening_DW] ADD  CONSTRAINT [DF_tbl_DepartmentOpening_DW_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table  tbl_ItemBarcodePrint
add Inv_No numeric(18,0)
go
alter table  tbl_ItemBarcodePrint
add Ref_No varchar(50)
go
alter table tbl_ApplicationParameter
add ItemUnit bit
go
alter table tbl_Purchase_Detail 
add Item_Main_ID numeric(18,0)
go
alter table tbl_Purchase_Detail_Tmp 
add Item_Main_ID numeric(18,0)
go
alter table tbl_ApplicationParameter
add ApplySaleTaxOnPrice bit
go
alter table tbl_ApplicationParameter
add DeleteSaleAfterExport bit
go
alter table tbl_Users
add DOCAccess bit
go
alter table tbl_ApplicationParameter
add ItemSize_Price_Group bit
go
CREATE TABLE [dbo].[tbl_ItemSize_PriceGroup](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ItemSize_PriceGroup_ID] [numeric](18, 0) NOT NULL,
	[ItemCategory_ID] [numeric](18, 0) NULL,
	[ItemSize_PriceGroup_Name] [varchar](50) NULL,
	[Active] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_ItemSize_PriceGroup] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ItemSize_PriceGroup_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_ItemSize_PriceGroup] ADD  CONSTRAINT [DF_tbl_ItemSize_PriceGroup_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO


alter table tbl_Dep_Designation_City_Color_Size
add ItemSize_PriceGroup_ID NUMERIC(18,0)
go
alter table tbl_Dep_Designation_City_Color_Size
drop column ItemSize_PriceGroup_ID 
go
CREATE TABLE [dbo].[tbl_ItemSize_PriceGroup_Detail](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[ItemSize_PriceGroup_ID] [numeric](18, 0) NULL,
	[ItemSize_ID] [numeric](18, 0) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_ItemSize_PriceGroup_Detail] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Detail_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_ItemSize_PriceGroup_Detail] ADD  CONSTRAINT [DF_tbl_ItemSize_PriceGroup_Detail_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Items
add ItemSize_PriceGroup_ID numeric(18,0)
go
alter table tbl_Purchase_Detail_Tmp
add ApplyDiscount bit
go

alter table tbl_ApplicationParameter
add GenerateSaleCoupon bit
GO
CREATE TABLE [dbo].[tbl_CustomerSales_Coupon](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Coupon_ID] [numeric](18, 0) NOT NULL,
	[Sales_ID] [numeric](18, 0) NULL,
	[Customer_ID] [numeric](18, 0) NULL,
	[Total_Sale] [numeric](18, 2) NULL,
	[Coupon_Sale] [numeric](18, 2) NULL,
	[Coupon_Generated] [numeric](18, 2) NULL,
	[Coupon_Paid] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_CustomerSales_Coupon] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Coupon_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_CustomerSales_Coupon] ADD  CONSTRAINT [DF_tbl_CustomerSales_Coupon_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Users
add AnotherPrintPrinterLocation varchar(50)
go
alter table tbl_Purchase_Detail
add Pre_Price numeric(18,4)
go
alter table tbl_Accounts
add LOTime_Check_IO_Alert bit
go
alter table tbl_ApplicationParameter
add AuditItemStart_Date smalldatetime
go
alter table tbl_Users
add AllowInvDis_OnPRS bit
go
alter table tbl_Users
add ItemListAccess bit
go
alter table tbl_ApplicationParameter
add EnterItemListItemWhenScan bit
go
CREATE TABLE [dbo].[tbl_EmployeeBreaks](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[EmployeeBreak_ID] [numeric](18, 0) NOT NULL,
	[EmployeeBreak_Name] [varchar](50) NULL,
	[Total_Time] [int] NULL,
	[Active] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_EmployeeBreaks] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[EmployeeBreak_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
alter table tbl_EmpAttendance
add EmployeeBreak_Name varchar(200)
go
alter table tbl_EmpAttendance
add Total_BreakTime int
go
alter table tbl_EmployeeBreaks
add DeductionWithNoTime bit
go
alter table tbl_EmpAttendance
add DeductionWithNoTime bit
go
alter table tbl_ApplicationParameter
add ShowItemSaleWithDoctorMedicineSlip bit
go
alter table tbl_Items
add  ItemSaleWithDoctorMedicineSlip bit
go
CREATE TABLE [dbo].[tbl_Item_Claim](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ItemClaim_ID] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NULL,
	[Created_Time] [datetime] NULL,
	[Transaction_Type] [varchar](10) NULL,
	[Account_ID] [numeric](18, 0) NULL,
	[Account_Type] [varchar](10) NULL,
	[Item_ID] [numeric](18, 0) NULL,
	[Qty] [numeric](18, 2) NULL,
	[Remarks] [varchar](500) NULL,
	[User] [varchar](50) NULL,
	[Computer] [varchar](50) NULL,
	[Status] [varchar](20) NULL,
 CONSTRAINT [PK_tbl_CustomerItem_Claim] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ItemClaim_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_Item_Claim] ADD  CONSTRAINT [DF_tbl_CustomerItem_Claim_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_CustomerPurchaseOrders](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[CustomerPurchaseOrders_ID] [numeric](18, 0) NOT NULL,
	[Invoice_No] [numeric](18, 0) NOT NULL,
	[Quotations_ID] [numeric](18, 0) NULL,
	[Dated] [smalldatetime] NOT NULL,
	[Customer_ID] [numeric](18, 0) NOT NULL,
	[Salesman_ID] [numeric](18, 0) NULL,
	[Is_Regular_Customer] [bit] NULL,
	[Total_Amount] [numeric](18, 2) NULL,
	[Item_Dis] [numeric](18, 2) NULL,
	[Gross_Total] [numeric](18, 2) NULL,
	[InvDis_Per] [numeric](18, 2) NOT NULL,
	[InvTax_Per] [numeric](18, 2) NOT NULL,
	[InvDis_Rs] [numeric](18, 2) NULL,
	[InvTax_Rs] [numeric](18, 2) NULL,
	[Misc] [numeric](18, 2) NULL,
	[Net_Total] [numeric](18, 2) NULL,
	[Remarks] [varchar](200) NOT NULL,
	[Inv_Time] [datetime] NOT NULL,
	[User_ID] [varchar](100) NOT NULL,
	[Computer] [varchar](100) NOT NULL,
	[Converted] [bit] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_CustomerPurchaseOrders] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[CustomerPurchaseOrders_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_CustomerPurchaseOrders] ADD  CONSTRAINT [DF_tbl_CustomerPurchaseOrders_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
CREATE TABLE [dbo].[tbl_CustomerPurchaseOrder_Details](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[CustomerPurchaseOrders_ID] [numeric](18, 0) NOT NULL,
	[Detail_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[QtyPK] [numeric](18, 2) NULL,
	[QtyPcs] [numeric](18, 2) NULL,
	[Qty] [numeric](18, 2) NOT NULL,
	[Price] [numeric](18, 2) NOT NULL,
	[Sub_Total] [numeric](18, 2) NOT NULL,
	[Dis_Per] [numeric](18, 2) NOT NULL,
	[Dis_Rs] [numeric](18, 2) NOT NULL,
	[Total] [numeric](18, 2) NOT NULL,
	[Size1] [numeric](18, 0) NOT NULL,
	[Size2] [numeric](18, 0) NOT NULL,
	[Cost_Price] [numeric](18, 2) NULL,
	[SquareMeter] [numeric](18, 2) NULL,
	[AvgCost] [numeric](18, 2) NULL,
	[Store_ID] [numeric](18, 0) NOT NULL,
	[Store_Name] [varchar](100) NULL,
	[Status] [varchar](50) NULL,
	[ApplyDiscount] [bit] NULL,
 CONSTRAINT [PK_CustomerPurchaseOrder_Details] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Detail_ID] ASC,
	[CustomerPurchaseOrders_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_CustomerPurchaseOrder_Details] ADD  CONSTRAINT [DF_tbl_CustomerPurchaseOrder_Details_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_SaleDeliveryChallan_Detail
add DeliverQty numeric(18,2)
go
alter table tbl_SaleDeliveryChallan_Detail
add RemainingQty numeric(18,2)
go
alter table tbl_SaleDeliveryChallan
add CustomerPurchaseOrders_ID numeric(18,0)
go
alter table tbl_Sales
add CustCNIC varchar(20)
go
alter table tbl_Sales_Detail
add Expiry smalldatetime
GO
alter table tbl_Sales_Detail
add Manufacturing smalldatetime
GO
alter table tbl_Items
add Manufacturing smalldatetime
go
CREATE TABLE [dbo].[tbl_Cust_DeliverStocks](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[CustomerPurchaseOrders_ID] [numeric](18, 0) NOT NULL,
	[Item_ID] [numeric](18, 0) NOT NULL,
	[DeliverQty] [numeric](18, 2) NULL,
	[IssueQty] [numeric](18, 2) NULL,
	[RemainingQty] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Cust_DeliverStocks] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[CustomerPurchaseOrders_ID] ASC,
	[Item_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_Cust_DeliverStocks] ADD  CONSTRAINT [DF_tbl_Cust_DeliverStocks_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO

CREATE TABLE [dbo].[tbl_ProfitCash](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ProfitCash_ID] [numeric](18, 0) NOT NULL,
	[Dated] [datetime] NOT NULL,
	[PercentageCash] [numeric](18, 2) NOT NULL,
	[ProfitCash] [numeric](18, 2) NOT NULL,
	[Status] [varchar](50) NOT NULL,
 CONSTRAINT [PK_tbl_ProfitCash] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ProfitCash_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_ProfitCash] ADD  CONSTRAINT [DF_tbl_ProfitCash_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Accounts add AllowFood bit
go
alter table tbl_ApplicationParameter add NotOpenSameScreenMoreThenOneTime bit
go
alter table tbl_Sales_Detail_Tmp
add DoctorName varchar(50)
go
alter table tbl_Sales_Detail_Tmp
add PatientName varchar(50)
go
alter table tbl_Sales_Detail_Tmp
add Remarks varchar(max)
go
alter table tbl_Sales_Detail
add DoctorName varchar(50)
go
alter table tbl_Sales_Detail
add PatientName varchar(50)
go
alter table tbl_Users
add Computer_Name varchar(100)
go
alter table tbl_ApplicationParameter
add SalemanOnEachSaleItem bit
go
alter table tbl_ApplicationParameter
add SaleInvoice_SearchByTokenNo bit
go
alter table tbl_TmpLedger
alter column sFor varchar(500)
go
alter table tbl_Users 
add SaleEntryUser bit
go
CREATE TABLE [dbo].[tbl_EmployeeAttBreaks](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[Employee_ID] [numeric](18, 0) NULL,
	[Dated] [smalldatetime] NULL,
	[EmployeeBreak_ID] [numeric](18, 0) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_EmployeeAttBreaks] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_EmployeeAttBreaks] ADD  CONSTRAINT [DF_tbl_EmployeeAttBreaks_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
update tbl_ApplicationParameter set LedgerStock='true'
go

CREATE TABLE [dbo].[tbl_MonthlyEmployeeMess](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Employee_ID] [numeric](18, 0) NOT NULL,
	[Dated] [datetime] NULL,
	[Attendance] [int] NULL,
	[Lunch] [numeric](18, 2) NULL,
	[LunchTotal] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_MonthlyEmployeeMess] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Employee_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_MonthlyEmployeeMess] ADD  CONSTRAINT [DF_tbl_MonthlyEmployeeMess_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO
alter table tbl_Users
add Login_Time datetime
go
CREATE TABLE [dbo].[tbl_Computer_Information](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Computer_Name] [varchar](200) NOT NULL,
	[User_Name] [varchar](50) NULL,
	[Password] [varchar](50) NULL,
	[IP_Address] [varchar](50) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Computer_Information] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Computer_Name] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_Computer_Information] ADD  CONSTRAINT [DF_tbl_Computer_Information_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO

CREATE TABLE [dbo].[tbl_MonthlyEmpAdvInsts](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Employee_ID] [numeric](18, 0) NOT NULL,
	[PreMonthInstallment] [numeric](18, 2) NULL,
	[CurrentMonthInstallment] [numeric](18, 2) NULL,
	[TotalInstallment] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_MonthlyEmpAdvInsts] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Employee_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_MonthlyEmpAdvInsts] ADD  CONSTRAINT [DF_tbl_MonthlyEmpAdvInsts_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO

CREATE TABLE [dbo].[tbl_LoginUsers](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ID] [numeric](18, 0) IDENTITY(1,1) NOT NULL,
	[User_ID] [varchar](50) NULL,
	[Computer_Name] [varchar](100) NULL,
	[Login_Time] [datetime] NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_LoginUsers] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_LoginUsers] ADD  CONSTRAINT [DF_tbl_LoginUsers_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO
alter table tbl_CustomerSales_Coupon
add Dated smalldatetime
go
alter table tbl_applicationparameter
add GSTSaleBill bit
go
alter table tbl_Accounts
add Hourly_Allowance bit
go
alter table tbl_Items 
add LastAuditStatus varchar(50)
go
alter table tbl_AuditStock
add Closed bit
GO
update tbl_AuditStock set Closed='true' where Closed is null
go
alter table tbl_DW_CounterSale
add PaymentMode varchar(20)
go
update tbl_DW_CounterSale set PaymentMode='Cash' where PaymentMode is null

go
alter table tbl_EmplyeePayRoll
add LeftEmp bit
go
update tbl_EmplyeePayRoll set LeftEmp='false' where LeftEmp is null
go
alter table tbl_IS_Opt_Jew_UG
add CCSale numeric(18,2)
GO
alter table tbl_DepartmentWiseBank_Closing2
add Dated Datetime
GO
alter table tbl_TmpLedger
alter column sFor varchar(100)
go
alter table tbl_DepartmentWise_Closing2
add TotalGrossSaleComputer numeric(18,2)
go
alter table tbl_DepartmentWise_Closing2
add DiscountValue numeric(18,2)
go
alter table tbl_DepartmentWise_Closing2
add DiscountPer numeric(18,2)
go


CREATE TABLE [dbo].[tbl_DW_SalesmanSales](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ID] [numeric](18, 0) NOT NULL,
	[Dated] [datetime] NULL,
	[Salesman_ID] [numeric](18, 0) NULL,
	[Gross_Sale] [numeric](18, 2) NULL,
	[DiscountValue] [numeric](18, 2) NULL,
	[DiscountPer] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_SalesmanSale_DW] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO

ALTER TABLE [dbo].[tbl_DW_SalesmanSales] ADD  CONSTRAINT [DF_tbl_DW_SalesmanSales_Status]  DEFAULT ('Unsubmited') FOR [Status]
GO


alter table tbl_Users
add FinishSaleBill_RePrintAccess	bit
GO
alter table tbl_Accounts
add NTN varchar(9)
GO
alter table tbl_Accounts
add STRN varchar(20)
go
alter table tbl_ApplicationParameter
add Create_ClassPackages bit
go
CREATE TABLE [dbo].[tbl_ClassPackages](
	[Location_ID] [int] NOT NULL,
	[ClassPackage_ID] [int] NOT NULL,
	[Class_ID] [int] NULL,
	[Item_ID] [int] NULL,
	[Qty] [numeric](18, 2) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_ItemPackages] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ClassPackage_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_ClassPackages] ADD  CONSTRAINT [DF_tbl_ItemPackages_Status]  DEFAULT ('UnSubmitted') FOR [Status]
GO
alter table tbl_EmpAttendance
add User_ID	varchar(50)
go
alter table tbl_EmpAttendance
add Computer	varchar(50)
go
alter table tbl_ItemUpdateHistory
add Updatefrom varchar(50)
go
CREATE TABLE [dbo].[tbl_Department_Banks](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Dep_Bank_ID] [numeric](18, 0) NOT NULL,
	[Department_ID] [numeric](18, 0) NOT NULL,
	[Bank_ID] [numeric](18, 0) NOT NULL,
	[Status] [varchar](50) NOT NULL,
 CONSTRAINT [PK_tbl_Department_Banks] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Dep_Bank_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_Department_Banks] ADD  CONSTRAINT [DF_tbl_Department_Banks_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_DailyCash
add Bank_ID numeric(18,0)
go
alter table tbl_Purchase_Detail_Tmp
add Mrkt_Price numeric(18,2)
go
alter table tbl_ApplicationParameter
add CalAllItemAmount bit
go
alter table tbl_TmpLedger
alter column sFor varchar(500)
go
alter table tbl_TmpLedger
alter column No varchar(500)
go
alter table tbl_ApplicationParameter
add UserWiseStoreItemList bit
GO
alter table tbl_ApplicationParameter
add UserWiseStoreItemList bit
GO
CREATE TABLE [dbo].[tbl_Employee_Penalties](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[EmpPenalty_ID] [numeric](18, 0) NOT NULL,
	[Dated] [datetime] NULL,
	[Employee_ID] [numeric](18, 0) NULL,
	[Amount] [numeric](18, 2) NULL,
	[Remarks] [varchar](500) NULL,
	[Status] [varchar](50) NULL,
 CONSTRAINT [PK_tbl_Employee_Penalties] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[EmpPenalty_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_Employee_Penalties] ADD  CONSTRAINT [DF_tbl_Employee_Penalties_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_BankAdjustment
add Store_ID	numeric(18,0)
go
alter table tbl_Dep_Designation_City_Color_Size
add DW_BigCash_Forward bit
go
CREATE TABLE [dbo].[tbl_Department_Deparments](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[Dep_Deps_ID] [numeric](18, 0) NOT NULL,
	[P_Department_ID] [numeric](18, 0) NOT NULL,
	[C_Department_ID] [numeric](18, 0) NOT NULL,
	[TypeName] [varchar](50) NULL,
	[Status] [varchar](50) NOT NULL,
 CONSTRAINT [PK_tbl_Department_Deparments] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[Dep_Deps_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
ALTER TABLE [dbo].[tbl_Department_Deparments] ADD  CONSTRAINT [DF_tbl_Department_Deparments_Status]  DEFAULT ('Unsubmitted') FOR [Status]
GO
alter table tbl_Users 
add UserLoginComputer varchar(50)
go
alter table tbl_ItemBarcodePrint
add QR_Barcode image
go
alter table tbl_DailyCash
add DayStatus	varchar(50)
go
update tbl_DailyCash set DayStatus='-' WHERE DayStatus is null


GO
alter table tbl_Item_Claim
add ReceivingClaim_ID numeric(18, 0)
go
alter table tbl_Items_Main
add Max_Qty numeric(18,2)
GO


CREATE TABLE [dbo].[tbl_DailyClosingSheet_SC](
	[Location_ID] [numeric](18, 0) NOT NULL,
	[ID] [numeric](18, 0) NOT NULL,
	[Dated] [smalldatetime] NULL,
	[Created_Time] [datetime] NULL,
	[Opening] [numeric](18, 2) NULL,
	[Loan] [numeric](18, 2) NULL,
	[TotalCash] [numeric](18, 2) NULL,
	[TotalPartiesPaid] [numeric](18, 2) NULL,
	[Commitee] [numeric](18, 2) NULL,
	[Expense] [numeric](18, 2) NULL,
	[TotalPaidCash] [numeric](18, 2) NULL,
	[CashRemainingFromOpening] [numeric](18, 2) NULL,
	[TotalSale] [numeric](18, 2) NULL,
	[TotalCashReceivedFromCounter] [numeric](18, 2) NULL,
	[RemainingCash] [numeric](18, 2) NULL,
	[CreditCardSale] [numeric](18, 2) NULL,
	[Difference] [numeric](18, 2) NULL,
	[ClosingCash] [numeric](18, 2) NULL,
 CONSTRAINT [PK_tbl_DailyClosingSheet_SC] PRIMARY KEY CLUSTERED 
(
	[Location_ID] ASC,
	[ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

ALTER TABLE [dbo].[tbl_DailyClosingSheet_SC] ADD  CONSTRAINT [DF_tbl_DailyClosingSheet_SC_Created_Time]  DEFAULT (getdate()) FOR [Created_Time]
GO


alter table tbl_ApplicationParameter
add  ShaheenChemist_DIK bit
go
alter table tbl_Items
add CalculateQtyWhenPriceChange bit
go
alter table tbl_Sales
add Pre_Coupon numeric(18,2)
go
alter table tbl_Sales
add Sale_Coupon numeric(18,2)
go
alter table tbl_Sales
add Paid_Coupon numeric(18,2)
go
alter table tbl_Sales
add Remaining_Coupon numeric(18,2)
go
alter table tbl_Accounts
add Coupon_Opening numeric(18,2)
go
alter table tbl_ApplicationParameter
add CriteriaWise_AuditStock bit
go
alter table tbl_BankAdjustment
add User_ID varchar(50)
go
alter table tbl_BankAdjustment
add Computer varchar(50)
go
alter table tbl_Users
add ShowSaleSummaryOnSaleList bit
go
alter table tbl_ApplicationParameter
add CalculateQtyWhenPriceChange bit
GO
alter table tbl_Sales
add Invoice_Start_Time datetime